{% load static %}
{% block dalec_list_header %}
{% endblock dalec_list_header %}

{% block dalec_list_body %}
    {% if not is_fetch %}
        <div class="dalec-list"
            id="dalec-{{ id }}"
            data-url="{{ url }}"
            data-app="{{ app }}" data-content-type="{{ content_type}}"
            {% if channel %}
                data-channel="{{ channel }}"
                data-channel-objects="{{ json_channel_objects }}"
            {% endif %}
            {% if ordered_by %}
                data-ordered-by="{{ ordered_by }}"
            {% endif %}
        >
    {% endif %}

    {% block dalec_list_items %}
        {% for object in object_list %}
            {% include item_template %}
        {% endfor %}
    {% endblock %}

    {% if not is_fetch %}
        </div>

        {% if ajax_refresh %}
        <script type="module">
            import("{% static 'dalec/js/main.js' %}").then((DalecModule) => {
                const dalecElement = document.getElementById('dalec-{{ id }}');
                DalecModule.fetch_content(dalecElement);
            });
        </script>
        {% endif %}
    {% endif %}
{% endblock dalec_list_body %}

{% block dalec_list_footer %}
{% endblock dalec_list_footer %}
