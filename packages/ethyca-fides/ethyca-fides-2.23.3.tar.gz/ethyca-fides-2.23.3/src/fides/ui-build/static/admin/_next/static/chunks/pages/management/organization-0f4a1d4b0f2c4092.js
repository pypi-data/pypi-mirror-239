(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{51471:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var r=t(34896),i=t(88038),s=t.n(i),o=t(86677),a=(t(27378),t(90768)),c=t(35100),u=t(64989),d=t(48114),l=t(51365),f=t(29549),p=t(60709),g=t(24246),m=function(){var e=(0,o.useRouter)();return(0,g.jsx)(r.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,g.jsxs)(r.xu,{children:[(0,g.jsxs)(r.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,g.jsx)(r.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,g.jsx)(f.zx,{size:"sm",variant:"outline",onClick:function(){e.push(p.fz)},children:"Configure"})]}),(0,g.jsxs)(r.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},j=function(e){var n=e.children,t=e.title,i=(0,a.hz)(),f=(0,o.useRouter)(),p="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,j=!(i.flags.privacyRequestsConfiguration&&p),x=(0,l.JE)(void 0,{skip:j}).data,h=(0,l.PW)(void 0,{skip:j}).data,b=i.flags.privacyRequestsConfiguration&&(!x||!h)&&p;return(0,g.jsxs)(r.kC,{"data-testid":t,direction:"column",children:[(0,g.jsxs)(s(),{children:[(0,g.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,g.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,g.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,g.jsx)(c.Z,{}),(0,g.jsx)(d.Z,{}),(0,g.jsxs)(r.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,g.jsx)(r.xu,{flex:0,flexShrink:0,children:(0,g.jsx)(u.U,{})}),(0,g.jsxs)(r.kC,{direction:"column",flex:1,minWidth:0,children:[b?(0,g.jsx)(m,{}):null,n]})]})]})}},24753:function(e,n,t){"use strict";t.d(n,{MA:function(){return d},Vo:function(){return f},t5:function(){return l}});var r=t(90849),i=t(34896),s=t(24246);function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c=function(e){var n=e.message;return(0,s.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,s.jsx)("strong",{children:"Success:"})," ",n]})},u=function(e){var n=e.message;return(0,s.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,s.jsx)("strong",{children:"Error:"})," ",n]})},d={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},l=function(e){var n=(0,s.jsx)(c,{message:e});return a(a({},d),{description:n})},f=function(e){var n=(0,s.jsx)(u,{message:e});return a(a({},d),{description:n,status:"error"})}},4821:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return P}});var r=t(34896),i=t(51471),s=t(41609),o=t(55732),a=t(97865),c=t(90849),u=t(34707),d=t.n(u),l=t(70409),f=t(29549),p=t(34090),g=t(27378),m=t(68301),j=t(43139),x=t(78624),h=t(24753),b=t(24246);function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var y={description:"",fides_key:s.Av,name:""},O=function(e){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({},e)},w=m.Ry().shape({description:m.Z_().required().label("Description"),fides_key:m.Z_().required().label("Organization Fides Key"),name:m.Z_().required().label("Name")}),k=function(e){var n=e.organization,t=e.onSuccess,i=(0,s.$f)(),c=(0,a.Z)(i,2),u=c[0],m=c[1],v=(0,g.useMemo)((function(){return n?O(n):y}),[n]),k=(0,l.pm)(),P=function(){var e=(0,o.Z)(d().mark((function e(n,r){var i,s,o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={description:(a=n).description,fides_key:a.fides_key,name:a.name},s=function(e){if((0,x.D4)(e)){var s=(0,x.e$)(e.error,"An unexpected error occurred while editing the organization. Please try again.");k((0,h.Vo)(s))}else k((0,h.t5)("Organization configuration saved.")),r.resetForm({values:n}),t&&t(i)},e.next=4,u(i);case 4:o=e.sent,s(o);case 6:case"end":return e.stop()}var a}),e)})));return function(n,t){return e.apply(this,arguments)}}(),z=!n||m.isLoading;return(0,b.jsx)(p.J9,{initialValues:v,enableReinitialize:!0,onSubmit:P,validationSchema:w,children:function(e){var n=e.dirty,t=e.isValid;return(0,b.jsx)(p.l0,{"data-testid":"organization-form",children:(0,b.jsxs)(r.Kq,{spacing:4,children:[(0,b.jsx)(j.j0,{id:"fides_key",name:"fides_key",label:"Fides Key",disabled:!0,tooltip:"A unique key that identifies your organization. Not editable via UI.",variant:"stacked"}),(0,b.jsx)(j.j0,{id:"name",name:"name",label:"Name",disabled:z,tooltip:"User-friendly name for your organization, used in messaging to end-users and other public locations.",variant:"stacked"}),(0,b.jsx)(j.j0,{id:"description",name:"description",label:"Description",disabled:z,tooltip:"Short description of your organization, your services, etc.",variant:"stacked"}),(0,b.jsx)(r.xu,{textAlign:"right",children:(0,b.jsx)(f.zx,{type:"submit",variant:"primary",size:"sm",isDisabled:z||!n||!t,isLoading:z,"data-testid":"save-btn",children:"Save"})})]})})}})},P=function(){var e=(0,s.GQ)(s.Av).data;return(0,b.jsx)(i.Z,{title:"Organization",children:(0,b.jsxs)(r.xu,{"data-testid":"organization-management",children:[(0,b.jsx)(r.X6,{marginBottom:4,fontSize:"2xl",children:"Organization Management"}),(0,b.jsxs)(r.xu,{maxWidth:"600px",children:[(0,b.jsx)(r.xv,{marginBottom:10,fontSize:"sm",children:"Please use this section to manage your organization\u2018s details, including key information that will be recorded in the RoPA (Record of Processing Activities)."}),(0,b.jsx)(r.xu,{background:"gray.50",padding:2,children:(0,b.jsx)(k,{organization:e})})]})]})})}},10279:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/management/organization",function(){return t(4821)}])}},function(e){e.O(0,[2141,845,8301,9,9774,2888,179],(function(){return n=10279,e(e.s=n);var n}));var n=e.O();_N_E=n}]);