(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6446],{51471:function(e,n,t){"use strict";t.d(n,{Z:function(){return j}});var r=t(34896),i=t(88038),o=t.n(i),s=t(86677),c=(t(27378),t(90768)),a=t(35100),l=t(64989),u=t(48114),d=t(51365),f=t(29549),x=t(60709),p=t(24246),h=function(){var e=(0,s.useRouter)();return(0,p.jsx)(r.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,p.jsxs)(r.xu,{children:[(0,p.jsxs)(r.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,p.jsx)(r.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,p.jsx)(f.zx,{size:"sm",variant:"outline",onClick:function(){e.push(x.fz)},children:"Configure"})]}),(0,p.jsxs)(r.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},j=function(e){var n=e.children,t=e.title,i=(0,c.hz)(),f=(0,s.useRouter)(),x="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,j=!(i.flags.privacyRequestsConfiguration&&x),v=(0,d.JE)(void 0,{skip:j}).data,g=(0,d.PW)(void 0,{skip:j}).data,m=i.flags.privacyRequestsConfiguration&&(!v||!g)&&x;return(0,p.jsxs)(r.kC,{"data-testid":t,direction:"column",children:[(0,p.jsxs)(o(),{children:[(0,p.jsxs)("title",{children:["Fides Admin UI - ",t]}),(0,p.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,p.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,p.jsx)(a.Z,{}),(0,p.jsx)(u.Z,{}),(0,p.jsxs)(r.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,p.jsx)(r.xu,{flex:0,flexShrink:0,children:(0,p.jsx)(l.U,{})}),(0,p.jsxs)(r.kC,{direction:"column",flex:1,minWidth:0,children:[m?(0,p.jsx)(h,{}):null,n]})]})]})}},40695:function(e,n,t){"use strict";var r=t(21295),i=t(34896),o=t(30794),s=t(5008),c=(t(27378),t(24246));n.Z=function(e){var n=e.isEmptyState,t=e.yamlError;return(0,c.jsx)(r.Rg,{in:!0,children:(0,c.jsxs)(i.xu,{w:"fit-content",bg:"white",p:3,borderRadius:3,children:[(0,c.jsxs)(i.Ug,{children:[(0,c.jsx)(i.X6,{as:"h5",color:"gray.700",size:"xs",children:"YAML"}),(0,c.jsx)(o.Vp,{colorScheme:"red",size:"sm",variant:"solid",children:"Error"})]}),(0,c.jsx)(i.xu,{bg:"red.50",border:"1px solid",borderColor:"red.300",color:"red.300",mt:"16px",borderRadius:"6px",children:(0,c.jsxs)(i.Ug,{alignItems:"flex-start",margin:["14px","17px","14px","17px"],children:[(0,c.jsx)(s.f9,{}),n&&(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.X6,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,c.jsx)(i.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:"Yaml system is required"})]}),t&&(0,c.jsxs)(i.xu,{children:[(0,c.jsx)(i.X6,{as:"h5",color:"red.500",fontWeight:"semibold",size:"xs",children:"Error message:"}),(0,c.jsx)(i.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:t.message}),(0,c.jsx)(i.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:t.reason}),(0,c.jsxs)(i.xv,{color:"gray.700",fontSize:"sm",fontWeight:"400",children:["Ln ",(0,c.jsx)("b",{children:t.mark.line}),", Col"," ",(0,c.jsx)("b",{children:t.mark.column}),", Pos"," ",(0,c.jsx)("b",{children:t.mark.position})]})]})]})})]})})}},16473:function(e,n,t){"use strict";t.d(n,{F:function(){return s},M:function(){return o}});var r=t(76649),i=t(65218),o=t.n(i)()((function(){return t.e(7088).then(t.bind(t,57088)).then((function(e){return e.default}))}),{ssr:!1,loadableGenerated:{webpack:function(){return[57088]}}}),s=function(e){return(0,r.Ln)({name:"string"},e)&&"YAMLException"===e.name}},43890:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var r=t(90849),i=t(97865),o=t(73679),s=t(90089),c=t(46213),a=(t(27378),t(17009)),l=t(77986),u=function(e){return void 0!==e.connection_type},d=function(e){return void 0!==e.encoded_icon},f=t(24246),x=["data"];function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}var h=function(e){var n=e.data,t=(0,s.Z)(e,x);return(0,f.jsx)(c.Ee,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}({boxSize:"32px",objectFit:"cover",src:function(){if(d(n)&&n.encoded_icon)return"data:image/svg+xml;base64,".concat(n.encoded_icon);var e;if(u(n))e=(0,o.Z)(l.iW).find((function(e){var t,r,o=(0,i.Z)(e,1)[0];return n.connection_type.toString()!==a.Rj.SAAS&&n.connection_type.toString()===o||n.connection_type.toString()===a.Rj.SAAS&&(null===(t=n.saas_config)||void 0===t||null===(r=t.type)||void 0===r?void 0:r.toString())===o.toString()}));else if(d(n)){var t=n.identifier;e=(0,o.Z)(l.iW).find((function(e){return(0,i.Z)(e,1)[0].toLowerCase()===t.toLowerCase()}))}return e?l.Ny+e[1]:l.VD}(),fallbackSrc:l.VD,alt:function(){var e;return u(n)?null!==(e=n.name)&&void 0!==e?e:n.key:d(n)?n.human_readable:n}()},t))}},4141:function(e,n,t){"use strict";var r=t(90849),i=t(97865),o=t(90089),s=t(92975),c=t(34896),a=t(16155),l=t(32751),u=t(89672),d=t(5008),f=t(34090),x=t(24246),p=["disabled","displayHelpIcon","helpIconVisibility","isRequired","label","type"];function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.disabled,t=void 0!==n&&n,r=e.displayHelpIcon,h=void 0===r||r,v=e.helpIconVisibility,g=void 0!==v&&v,m=e.isRequired,y=void 0!==m&&m,b=e.label,O=e.type,w=void 0===O?"text":O,S=(0,o.Z)(e,p),C=(0,f.U$)(S),_=(0,i.Z)(C,2),k=_[0],Z=_[1];return(0,x.jsxs)(s.NI,{display:"flex",isRequired:y,isInvalid:!(!Z.error||!Z.touched),children:[b&&(0,x.jsx)(s.lX,{color:"gray.900",fontSize:"14px",fontWeight:"semibold",htmlFor:S.id||S.name,minWidth:"150px",children:b}),(0,x.jsxs)(c.gC,{align:"flex-start",w:"inherit",children:["number"===w&&(0,x.jsxs)(a.Y2,{allowMouseWheel:!0,color:"gray.700",defaultValue:0,min:0,size:"sm",children:[(0,x.jsx)(a.zu,j(j({},k),{},{autoComplete:"off",autoFocus:S.autoFocus})),(0,x.jsxs)(a.Fi,{children:[(0,x.jsx)(a.WQ,{}),(0,x.jsx)(a.Y_,{})]})]}),"text"===w&&(0,x.jsx)(l.II,j(j({},k),{},{autoComplete:"off",autoFocus:S.autoFocus,color:"gray.700",isDisabled:t,placeholder:S.placeholder,size:"sm"})),"textarea"===w&&(0,x.jsx)(u.g,j(j({},k),{},{autoComplete:"off",autoFocus:S.autoFocus,color:"gray.700",placeholder:S.placeholder,resize:"none",size:"sm",value:k.value||""})),(0,x.jsx)(s.J1,{children:Z.error})]}),h&&(0,x.jsx)(c.kC,{alignContent:"center",h:"32px",visibility:g?"visible":"hidden",children:(0,x.jsx)(d.IT,{marginLeft:"8px",_hover:{cursor:"pointer"}})})]})}},14110:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return k}});var r=t(73679),i=t(55732),o=t(34707),s=t.n(o),c=t(34896),a=t(83125),l=t(66156),u=t(86677),d=t(27378),f=t(6848),x=t(9408),p=t(60709),h=t(86700),j=t(31669),v=t(44204),g=t(74143),m=t(39100),y=t(13717),b=t(53771),O=t(53552),w=t(43890),S=t(24246),C=function(){var e=(0,f.T)(),n=(0,f.C)(h.ZZ),t=n.connection,r=n.connectionOption,i=(0,d.useState)(void 0),o=i[0],s=i[1],a=(0,d.useMemo)((function(){return function(){var e=[];return null!==o&&void 0!==o&&o.options&&o.options.forEach((function(n){var r;switch(n){case y.H5.CONNECTOR_PARAMETERS:r={label:n,content:(0,S.jsx)(m.s,{})};break;case y.H5.DATASET_CONFIGURATION:r=null!==t&&void 0!==t&&t.key?{label:n,content:(0,S.jsx)(b.Z,{})}:void 0;break;case y.H5.DSR_CUSTOMIZATION:r=null!==t&&void 0!==t&&t.key?{label:n,content:(0,S.jsx)(O.Z,{})}:void 0}r&&e.push(r)})),e}}),[null===t||void 0===t?void 0:t.key,null===o||void 0===o?void 0:o.options]);return(0,d.useEffect)((function(){if(r){var n=y.IM.find((function(e){return e.type===(null===r||void 0===r?void 0:r.type)}));n&&(s(n),e((0,h.nj)(y.Ss[2])))}return function(){e((0,h.mc)())}}),[r,e]),t&&r?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(c.X6,{fontSize:"2xl",fontWeight:"semibold",maxHeight:"40px",mb:"4px",whiteSpace:"nowrap",children:(0,S.jsxs)(c.xu,{alignItems:"center",display:"flex",children:[(0,S.jsx)(w.Z,{data:r}),(0,S.jsx)(c.xv,{ml:"8px",children:t.name})]})}),(0,S.jsx)(g.Z,{steps:[y.Ss[0],y.Ss[2]]}),(0,S.jsx)(c.gC,{alignItems:"stretch",flex:"1",gap:"18px",children:(0,S.jsx)(v.Z,{data:a(),flexGrow:1,isLazy:!0})})]}):null},_=t(17009),k=function(){var e=(0,f.T)(),n=(0,u.useRouter)(),t=(0,x.VY)().errorAlert,o=(0,f.C)(h.y_),v=(0,d.useState)(!1),g=v[0],m=v[1],y=(0,d.useState)(!0),b=y[0],O=y[1],w=function(e,n){return n.find((function(n){var t;return n.identifier===e.connection_type&&n.identifier!==_.Rj.SAAS||n.identifier===(null===(t=e.saas_config)||void 0===t?void 0:t.type)}))};return(0,d.useEffect)((function(){var c=function(){t("An error occurred while loading ".concat(n.query.id)),n.push(p.JR,void 0,{shallow:!0})},a=function(){var n=(0,i.Z)(s().mark((function n(t){var i,a,l,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(!0),(i=[]).push(e(j.DM.endpoints.getDatastoreConnectionByKey.initiate(t))),0===o.length&&i.push(e(h.d8.endpoints.getAllConnectionTypes.initiate({search:""}))),n.next=7,Promise.allSettled(i);case 7:(a=n.sent).every((function(e){return"fulfilled"===e.status}))?(e((0,h.lm)(a[0].value.data)),l=(0,r.Z)(a[1]?a[1].value.data.items:o),u=w(a[0].value.data,l),e((0,h.yA)(u)),m(!1),O(!1)):c(),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),c();case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}(),l=n.query.id;return l&&!g&&b&&a(l),function(){}}),[o,e,t,g,b,n]),(0,S.jsxs)(S.Fragment,{children:[b&&(0,S.jsx)(c.xu,{display:"flex",h:"100vh",justifyContent:"center",children:(0,S.jsx)(c.M5,{children:(0,S.jsx)(a.$,{})})}),!b&&(0,S.jsx)(l.Z,{children:(0,S.jsx)(C,{})})]})}},10463:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datastore-connection/[id]",function(){return t(14110)}])}},function(e){e.O(0,[2141,845,8301,6155,3722,7232,9,8013,9774,2888,179],(function(){return n=10463,e(e.s=n);var n}));var n=e.O();_N_E=n}]);