(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3785],{55447:function(e,t,n){"use strict";var r=n(90849),i=n(60530),s=n(34896),o=n(29549),c=n(24246);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.isOpen,n=e.onClose,r=e.onConfirm,a=e.onCancel,l=e.title,d=e.message,f=e.cancelButtonText,h=e.cancelButtonThemingProps,p=e.continueButtonText,x=e.continueButtonThemingProps,j=e.isLoading,m=e.returnFocusOnClose,g=e.isCentered,y=e.testId,v=void 0===y?"confirmation-modal":y,b=e.icon;return(0,c.jsxs)(i.u_,{isOpen:t,onClose:n,size:"lg",returnFocusOnClose:null===m||void 0===m||m,isCentered:g,children:[(0,c.jsx)(i.ZA,{}),(0,c.jsxs)(i.hz,{textAlign:"center",p:6,"data-testid":v,children:[b?(0,c.jsx)(s.M5,{mb:2,children:b}):null,l?(0,c.jsx)(i.xB,{fontWeight:"medium",pb:0,children:l}):null,d?(0,c.jsx)(i.fe,{children:d}):null,(0,c.jsx)(i.mz,{children:(0,c.jsxs)(s.MI,{columns:2,width:"100%",children:[(0,c.jsx)(o.zx,u(u({variant:"outline",mr:3,onClick:function(){a&&a(),n()},"data-testid":"cancel-btn",isDisabled:j},h),{},{children:f||"Cancel"})),(0,c.jsx)(o.zx,u(u({colorScheme:"primary",onClick:r,"data-testid":"continue-btn",isLoading:j},x),{},{children:p||"Continue"}))]})})]})]})}},35100:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(55732),i=n(97865),s=n(34707),o=n.n(s),c=n(34896),a=n(29549),u=n(5008),l=n(73452),d=n(29470),f=n(79894),h=n.n(f),p=(n(27378),{src:"/_next/static/media/logo.c87f81b9.svg",height:64,width:209}),x=n(6848),j=n(10141),m=n(45802),g=n(56169),y=n(60709),v=n(24246),b=function(){var e=function(){var e;return{username:(null!==(e=(0,x.C)(m.dy))&&void 0!==e?e:{username:""}).username}}().username,t=(0,m._y)(),n=(0,i.Z)(t,1)[0],s=(0,x.T)(),f=function(){var e=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n({});case 2:s((0,m.kS)());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,v.jsxs)(c.kC,{as:"header",height:12,width:"100%",paddingX:10,flexShrink:0,justifyContent:"space-between",alignItems:"center",backgroundColor:"gray.50",children:[(0,v.jsx)(h(),{href:j.gp,passHref:!0,children:(0,v.jsx)(c.rU,{display:"flex",children:(0,v.jsx)(g.Z,{src:p,width:83,height:26,alt:"Fides Logo"})})}),(0,v.jsxs)(c.kC,{alignItems:"center",children:[(0,v.jsx)(c.rU,{href:"https://docs.ethyca.com",isExternal:!0,children:(0,v.jsx)(a.zx,{size:"sm",variant:"ghost",children:(0,v.jsx)(u.UO,{color:"gray.700",boxSize:4})})}),(0,v.jsx)(h(),{href:y.e3,passHref:!0,children:(0,v.jsx)(a.hU,{"aria-label":"Management",size:"sm",variant:"ghost",icon:(0,v.jsx)(l.ew,{color:"gray.700",boxSize:4}),"data-testid":"management-btn"})}),e&&(0,v.jsxs)(d.v2,{children:[(0,v.jsx)(d.j2,{as:a.zx,size:"sm",variant:"ghost","data-testid":"header-menu-button",children:(0,v.jsx)(u.tB,{color:"gray.700"})}),(0,v.jsxs)(d.qy,{shadow:"xl",children:[(0,v.jsx)(c.Kq,{px:3,py:2,spacing:1,children:(0,v.jsx)(c.xv,{fontWeight:"medium",children:e})}),(0,v.jsx)(d.R,{}),(0,v.jsx)(d.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:f,"data-testid":"header-menu-sign-out",children:"Sign out"})]})]})]})]})}},51471:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n(34896),i=n(88038),s=n.n(i),o=n(86677),c=(n(27378),n(90768)),a=n(35100),u=n(64989),l=n(48114),d=n(51365),f=n(29549),h=n(60709),p=n(24246),x=function(){var e=(0,o.useRouter)();return(0,p.jsx)(r.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,p.jsxs)(r.xu,{children:[(0,p.jsxs)(r.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,p.jsx)(r.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,p.jsx)(f.zx,{size:"sm",variant:"outline",onClick:function(){e.push(h.fz)},children:"Configure"})]}),(0,p.jsxs)(r.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},j=function(e){var t=e.children,n=e.title,i=(0,c.hz)(),f=(0,o.useRouter)(),h="/privacy-requests"===f.pathname||"/datastore-connection"===f.pathname,j=!(i.flags.privacyRequestsConfiguration&&h),m=(0,d.JE)(void 0,{skip:j}).data,g=(0,d.PW)(void 0,{skip:j}).data,y=i.flags.privacyRequestsConfiguration&&(!m||!g)&&h;return(0,p.jsxs)(r.kC,{"data-testid":n,direction:"column",children:[(0,p.jsxs)(s(),{children:[(0,p.jsxs)("title",{children:["Fides Admin UI - ",n]}),(0,p.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,p.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,p.jsx)(a.Z,{}),(0,p.jsx)(l.Z,{}),(0,p.jsxs)(r.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,p.jsx)(r.xu,{flex:0,flexShrink:0,children:(0,p.jsx)(u.U,{})}),(0,p.jsxs)(r.kC,{direction:"column",flex:1,minWidth:0,children:[y?(0,p.jsx)(x,{}):null,t]})]})]})}},44845:function(e,t,n){"use strict";var r=n(90849),i=n(90089),s=n(32751),o=n(5008),c=n(29549),a=n(24246),u=["search","onChange","withIcon","onClear","placeholder"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.search,n=e.onChange,r=e.withIcon,l=e.onClear,f=e.placeholder,h=(0,i.Z)(e,u);return(0,a.jsxs)(s.BZ,{size:"sm",minWidth:"308px",children:[r?(0,a.jsx)(s.Z8,{pointerEvents:"none",children:(0,a.jsx)(o.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,a.jsx)(s.II,d({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:t,name:"search",onChange:function(e){return n(e.target.value)},placeholder:f||""},h)),l?(0,a.jsx)(s.xH,{children:(0,a.jsx)(c.zx,{borderLeftRadius:0,height:"95%",right:"14px",flexShrink:0,fontWeight:"light",size:"sm",onClick:l,children:"Clear"})}):null]})}},78624:function(e,t,n){"use strict";n.d(t,{D4:function(){return r.D4},MM:function(){return l},Ot:function(){return o},c6:function(){return a},cj:function(){return d},e$:function(){return s},nU:function(){return u},tB:function(){return c}});var r=n(60041),i="An unexpected error occurred. Please try again.",s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if((0,r.Bw)(e)){if((0,r.hE)(e.data))return e.data.detail;if((0,r.cz)(e.data)){var n,s=null===(n=e.data.detail)||void 0===n?void 0:n[0];return"".concat(null===s||void 0===s?void 0:s.msg,": ").concat(null===s||void 0===s?void 0:s.loc)}if(409===e.status&&(0,r.Dy)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")");if(404===e.status&&(0,r.XD)(e.data))return"".concat(e.data.detail.error," (").concat(e.data.detail.fides_key,")")}return t};function o(e){return"object"===typeof e&&null!=e&&"data"in e&&"string"===typeof e.data.detail}function c(e){return"object"===typeof e&&null!=e&&"data"in e&&Array.isArray(e.data.detail)}var a,u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{status:500,message:i};if((0,r.oK)(e))return{status:e.originalStatus,message:e.data};if((0,r.Bw)(e)){var n=e.status;return{status:n,message:s(e,t.message)}}return t},l=function(e){return Object.entries(e).map((function(e){return{value:e[1],label:e[1]}}))};!function(e){e.GVL="gvl",e.AC="gacp"}(a||(a={}));var d=function(e){return e.split(".")[0]===a.AC?a.AC:a.GVL}},23402:function(e,t,n){"use strict";n.d(t,{TL:function(){return f},UI:function(){return d}});var r=n(90849),i=n(9198),s=n(79894),o=n.n(s),c=(n(27378),n(24246));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){var t=e.variant,n=e.children,r=e.href,s=e.isActive,a=e.isDisabled,u="primary"===t?i.c2:i._p;return a?(0,c.jsx)(u,{isDisabled:a,href:r,isActive:s,children:n}):(0,c.jsx)(o(),{href:r,passHref:!0,children:(0,c.jsx)(u,{isActive:s,children:n})})},d=function(e){return(0,c.jsx)(l,u({variant:"primary"},e))},f=function(e){return(0,c.jsx)(l,u({variant:"secondary"},e))}},64989:function(e,t,n){"use strict";n.d(t,{U:function(){return j}});var r=n(90089),i=n(90849),s=n(9198),o=n(34896),c=n(86677),a=(n(27378),n(57589)),u=n(23402),l=n(24246),d=["routerPathname"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=function e(t){var n=t.title,r=t.path,i=t.children,s=t.routerPathname,c=s.startsWith(r);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(u.TL,{href:r,isActive:c,children:n}),i.length?(0,l.jsx)(o.QI,{py:.5,children:i.map((function(t){return(0,l.jsx)(o.HC,{listStyleType:"none",children:(0,l.jsx)(e,h({routerPathname:s},t))},t.title)}))}):null]})},x=function(e){var t=e.routerPathname,n=(0,r.Z)(e,d);return n.active?(0,l.jsxs)(o.gC,{as:"nav",align:"left",spacing:4,width:"200px",children:[(0,l.jsx)(o.X6,{size:"md",children:n.active.title}),(0,l.jsx)(s.$6,{children:n.active.children.map((function(e){return(0,l.jsx)(p,h({routerPathname:t},e),e.title)}))})]}):null},j=function(){var e=(0,c.useRouter)(),t=(0,a.Y)({path:e.pathname});return(0,l.jsx)(x,h({routerPathname:e.pathname},t))}},48114:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(34896),i=n(86677),s=(n(27378),n(57589)),o=n(23402),c=n(24246),a=function(){var e=(0,i.useRouter)(),t=(0,s.Y)({path:e.pathname});return(0,c.jsx)(r.kC,{as:"nav",height:12,paddingX:10,gap:1,flexShrink:0,alignItems:"center",borderBottom:"1px",borderColor:"gray.100",children:t.groups.map((function(e){var n;if("Management"===e.title)return null;var r=e.children[0].path,i=e.title===(null===(n=t.active)||void 0===n?void 0:n.title);return(0,c.jsx)(o.UI,{href:r,isActive:i,children:e.title},e.title)}))})}},24753:function(e,t,n){"use strict";n.d(t,{MA:function(){return l},Vo:function(){return f},t5:function(){return d}});var r=n(90849),i=n(34896),s=n(24246);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e){var t=e.message;return(0,s.jsxs)(i.xv,{"data-testid":"toast-success-msg",children:[(0,s.jsx)("strong",{children:"Success:"})," ",t]})},u=function(e){var t=e.message;return(0,s.jsxs)(i.xv,{"data-testid":"toast-error-msg",children:[(0,s.jsx)("strong",{children:"Error:"})," ",t]})},l={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var t=(0,s.jsx)(a,{message:e});return c(c({},l),{description:t})},f=function(e){var t=(0,s.jsx)(u,{message:e});return c(c({},l),{description:t,status:"error"})}},13861:function(e,t,n){"use strict";n.d(t,{R:function(){return z},Z:function(){return Z}});var r=n(34896),i=n(27378),s=n(14007),o=n(33571),c=n.n(o),a=n(24246),u=function(e){var t=e.columns,n=e.items,i=e.renderItem,o=(0,s.yo)(n,t);return(0,a.jsx)(r.xu,{children:o.map((function(e,n,s){var o=s.length;return(0,a.jsx)(r.xu,{className:c()["grid-row"],borderBottomWidth:o>1&&n===o-1&&e.length===t?"0.5px":void 0,children:(0,a.jsx)(r.MI,{columns:t,children:e.map((function(e){return(0,a.jsx)(r.xu,{className:c()["grid-item"],children:i(e)},JSON.stringify(e))}))})},JSON.stringify(e))}))})},l=n(44845),d=n(55732),f=n(97865),h=n(34707),p=n.n(h),x=n(21084),j=n(70409),m=n(29470),g=n(29549),y=n(5008),v=n(79894),b=n.n(v),O=n(86677),w=n(6848),C=n(55447),P=n(60709),k=n(78624),S=n(24753),_=n(51860),D=function(e){var t=e.system,n=(0,x.qY)(),i=n.isOpen,s=n.onOpen,o=n.onClose,c=(0,j.pm)(),u=(0,w.T)(),l=(0,O.useRouter)(),h=(0,_.DW)(),v=(0,f.Z)(h,1)[0],D=function(){var e=(0,d.Z)(p().mark((function e(){var n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t.fides_key);case 2:n=e.sent,(0,k.D4)(n)?c((0,S.Vo)((0,k.e$)(n.error))):c((0,S.t5)("Successfully deleted system")),o();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),z=""===t.name||null==t.name?t.fides_key:t.name;return(0,a.jsxs)(r.xu,{display:"flex","data-testid":"system-".concat(t.fides_key),children:[(0,a.jsx)(b(),{href:"".concat(P.So,"/configure/").concat(t.fides_key),passHref:!0,children:(0,a.jsxs)(r.xu,{flexGrow:1,p:4,"data-testid":"system-box",_hover:{cursor:"pointer"},children:[(0,a.jsx)(r.X6,{as:"h2",fontSize:"16px",mb:2,children:z}),(0,a.jsx)(r.xu,{color:"gray.600",fontSize:"14px",children:(0,a.jsx)(r.xv,{children:t.description})})]})}),(0,a.jsxs)(m.v2,{children:[(0,a.jsx)(m.j2,{as:g.hU,icon:(0,a.jsx)(y.nX,{}),"aria-label":"more actions",variant:"unstyled",size:"sm","data-testid":"more-btn",m:1}),(0,a.jsxs)(m.qy,{children:[(0,a.jsx)(m.sN,{onClick:function(){u((0,_.db)(t)),l.push("".concat(P.So,"/configure/").concat(t.fides_key))},"data-testid":"edit-btn",children:"Edit"}),(0,a.jsx)(m.sN,{onClick:s,"data-testid":"delete-btn",children:"Delete"})]})]}),(0,a.jsx)(C.Z,{isOpen:i,onClose:o,onConfirm:D,title:"Delete ".concat(z),message:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.xv,{children:["You are about to permanently delete the system"," ",(0,a.jsx)(r.xv,{color:"complimentary.500",as:"span",fontWeight:"bold",children:z}),"."]}),(0,a.jsx)(r.xv,{children:"Are you sure you would like to continue?"})]})})]})},z=function(e,t){var n,r;return(null===(n=e.name)||void 0===n?void 0:n.toLocaleLowerCase().includes(t.toLocaleLowerCase()))||(null===(r=e.description)||void 0===r?void 0:r.toLocaleLowerCase().includes(t.toLocaleLowerCase()))},Z=function(e){var t=e.systems,n=(0,i.useState)(""),s=n[0],o=n[1],c=(0,i.useMemo)((function(){return t?t.filter((function(e){return z(e,s)})):[]}),[t,s]);return t&&t.length?(0,a.jsxs)(r.xu,{"data-testid":"system-management",children:[(0,a.jsx)(r.xu,{mb:4,"data-testid":"system-filters",children:(0,a.jsx)(l.Z,{search:s,onChange:o,maxWidth:"30vw",placeholder:"Search system name or description","data-testid":"system-search",withIcon:!0})}),(0,a.jsx)(u,{columns:3,items:c,renderItem:function(e){return(0,a.jsx)(D,{system:e})}})]}):(0,a.jsx)("div",{"data-testid":"empty-state",children:"No systems registered."})}},92957:function(e,t,n){"use strict";n.r(t);var r=n(34896),i=n(83125),s=(n(27378),n(51471)),o=n(48466),c=n(13861),a=n(24246);t.default=function(){var e=function(){var e=(0,o.K3)(),t=e.data;return{isLoading:e.isLoading,systems:t}}(),t=e.isLoading,n=e.systems;return(0,a.jsxs)(s.Z,{title:"Systems",children:[(0,a.jsx)(r.xu,{display:"flex",justifyContent:"space-between",children:(0,a.jsx)(r.X6,{mb:8,fontSize:"2xl",fontWeight:"semibold",children:"System Management"})}),t?(0,a.jsx)(i.$,{}):(0,a.jsx)(c.Z,{systems:n})]})}},60041:function(e,t,n){"use strict";n.d(t,{Bw:function(){return o},D4:function(){return i},Dy:function(){return a},XD:function(){return u},cz:function(){return l},hE:function(){return c},oK:function(){return s}});var r=n(76649),i=function(e){return"error"in e},s=function(e){return(0,r.Ln)({status:"string"},e)&&"PARSING_ERROR"===e.status},o=function(e){return(0,r.Ln)({status:"number",data:{}},e)},c=function(e){return(0,r.Ln)({detail:"string"},e)},a=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},u=function(e){return(0,r.Ln)({detail:{error:"string",resource_type:"string",fides_key:"string"}},e)},l=function(e){return(0,r.Ln)({detail:[{loc:["string","number"],msg:"string",type:"string"}]},e)}},90988:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/systems",function(){return n(92957)}])},33571:function(e){e.exports={"grid-row":"BorderGrid_grid-row__gzSVf","grid-item":"BorderGrid_grid-item__7gUTW"}}},function(e){e.O(0,[2141,9774,2888,179],(function(){return t=90988,e(e.s=t);var t}));var t=e.O();_N_E=t}]);