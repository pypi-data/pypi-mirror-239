"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9197],{51471:function(e,n,a){a.d(n,{Z:function(){return f}});var i=a(34896),t=a(88038),r=a.n(t),s=a(86677),o=(a(27378),a(90768)),c=a(35100),l=a(64989),_=a(48114),d=a(51365),u=a(29549),p=a(60709),S=a(24246),U=function(){var e=(0,s.useRouter)();return(0,S.jsx)(i.xu,{bg:"gray.50",border:"1px solid",borderColor:"blue.400",borderRadius:"md",justifyContent:"space-between",p:5,mb:5,mt:5,children:(0,S.jsxs)(i.xu,{children:[(0,S.jsxs)(i.Kq,{direction:{base:"column",sm:"row"},justifyContent:"space-between",children:[(0,S.jsx)(i.xv,{fontWeight:"semibold",children:"Configure your storage and messaging provider"}),(0,S.jsx)(u.zx,{size:"sm",variant:"outline",onClick:function(){e.push(p.fz)},children:"Configure"})]}),(0,S.jsxs)(i.xv,{children:["Before Fides can process your privacy requests we need two simple steps to configure your storage and email client."," "]})]})})},f=function(e){var n=e.children,a=e.title,t=(0,o.hz)(),u=(0,s.useRouter)(),p="/privacy-requests"===u.pathname||"/datastore-connection"===u.pathname,f=!(t.flags.privacyRequestsConfiguration&&p),h=(0,d.JE)(void 0,{skip:f}).data,m=(0,d.PW)(void 0,{skip:f}).data,Z=t.flags.privacyRequestsConfiguration&&(!h||!m)&&p;return(0,S.jsxs)(i.kC,{"data-testid":a,direction:"column",children:[(0,S.jsxs)(r(),{children:[(0,S.jsxs)("title",{children:["Fides Admin UI - ",a]}),(0,S.jsx)("meta",{name:"description",content:"Privacy Engineering Platform"}),(0,S.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,S.jsx)(c.Z,{}),(0,S.jsx)(_.Z,{}),(0,S.jsxs)(i.kC,{as:"main",flexGrow:1,padding:10,gap:10,children:[(0,S.jsx)(i.xu,{flex:0,flexShrink:0,children:(0,S.jsx)(l.U,{})}),(0,S.jsxs)(i.kC,{direction:"column",flex:1,minWidth:0,children:[Z?(0,S.jsx)(U,{}):null,n]})]})]})}},86054:function(e,n,a){var i=a(90849),t=a(90089),r=a(34896),s=a(24246),o=["title","children"];function c(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,i)}return a}function l(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?c(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}n.Z=function(e){var n=e.title,a=e.children,i=(0,t.Z)(e,o);return(0,s.jsxs)(r.xu,l(l({borderRadius:"md",border:"1px solid",borderColor:"gray.200"},i),{},{children:[(0,s.jsx)(r.X6,{as:"h3",fontSize:"sm",fontWeight:"semibold",color:"gray.700",py:4,px:6,backgroundColor:"gray.50",borderRadius:"md",textAlign:"left",children:n}),(0,s.jsx)(r.Kq,{p:6,spacing:6,children:a})]}))}},64429:function(e,n,a){a.d(n,{BD:function(){return c},NA:function(){return o}});var i,t=a(90849),r=a(17009),s=(i={},(0,t.Z)(i,r._F.US,"United States"),(0,t.Z)(i,r._F.US_AL,"Alabama (USA)"),(0,t.Z)(i,r._F.US_AK,"Alaska (USA)"),(0,t.Z)(i,r._F.US_AZ,"Arizona (USA)"),(0,t.Z)(i,r._F.US_AR,"Arkansas (USA)"),(0,t.Z)(i,r._F.US_CA,"California (USA)"),(0,t.Z)(i,r._F.US_CO,"Colorado (USA)"),(0,t.Z)(i,r._F.US_CT,"Connecticut (USA)"),(0,t.Z)(i,r._F.US_DE,"Delaware (USA)"),(0,t.Z)(i,r._F.US_FL,"Florida (USA)"),(0,t.Z)(i,r._F.US_GA,"Georgia (USA)"),(0,t.Z)(i,r._F.US_HI,"Hawaii (USA)"),(0,t.Z)(i,r._F.US_ID,"Idaho (USA)"),(0,t.Z)(i,r._F.US_IL,"Illinois (USA)"),(0,t.Z)(i,r._F.US_IN,"Indiana (USA)"),(0,t.Z)(i,r._F.US_IA,"Iowa (USA)"),(0,t.Z)(i,r._F.US_KS,"Kansas (USA)"),(0,t.Z)(i,r._F.US_KY,"Kentucky (USA)"),(0,t.Z)(i,r._F.US_LA,"Louisiana (USA)"),(0,t.Z)(i,r._F.US_ME,"Maine (USA)"),(0,t.Z)(i,r._F.US_MD,"Maryland (USA)"),(0,t.Z)(i,r._F.US_MA,"Massachusetts (USA)"),(0,t.Z)(i,r._F.US_MI,"Michigan (USA)"),(0,t.Z)(i,r._F.US_MN,"Minnesota (USA)"),(0,t.Z)(i,r._F.US_MS,"Mississippi (USA)"),(0,t.Z)(i,r._F.US_MO,"Missouri (USA)"),(0,t.Z)(i,r._F.US_MT,"Montana (USA)"),(0,t.Z)(i,r._F.US_NE,"Nebraska (USA)"),(0,t.Z)(i,r._F.US_NV,"Nevada (USA)"),(0,t.Z)(i,r._F.US_NH,"New Hampshire (USA)"),(0,t.Z)(i,r._F.US_NJ,"New Jersey (USA)"),(0,t.Z)(i,r._F.US_NM,"New Mexico (USA)"),(0,t.Z)(i,r._F.US_NY,"New York (USA)"),(0,t.Z)(i,r._F.US_NC,"North Carolina (USA)"),(0,t.Z)(i,r._F.US_ND,"North Dakota (USA)"),(0,t.Z)(i,r._F.US_OH,"Ohio (USA)"),(0,t.Z)(i,r._F.US_OK,"Oklahoma (USA)"),(0,t.Z)(i,r._F.US_OR,"Oregon (USA)"),(0,t.Z)(i,r._F.US_PA,"Pennsylvania (USA)"),(0,t.Z)(i,r._F.US_RI,"Rhode Island (USA)"),(0,t.Z)(i,r._F.US_SC,"South Carolina (USA)"),(0,t.Z)(i,r._F.US_SD,"South Dakota (USA)"),(0,t.Z)(i,r._F.US_TN,"Tennessee (USA)"),(0,t.Z)(i,r._F.US_TX,"Texas (USA)"),(0,t.Z)(i,r._F.US_UT,"Utah (USA)"),(0,t.Z)(i,r._F.US_VT,"Vermont (USA)"),(0,t.Z)(i,r._F.US_VA,"Virginia (USA)"),(0,t.Z)(i,r._F.US_WA,"Washington (USA)"),(0,t.Z)(i,r._F.US_WV,"West Virginia (USA)"),(0,t.Z)(i,r._F.US_WI,"Wisconsin (USA)"),(0,t.Z)(i,r._F.US_WY,"Wyoming (USA)"),(0,t.Z)(i,r._F.BE,"Belgium (EU)"),(0,t.Z)(i,r._F.BG,"Bulgaria (EU)"),(0,t.Z)(i,r._F.CZ,"Czech Republic (EU)"),(0,t.Z)(i,r._F.DK,"Denmark (EU)"),(0,t.Z)(i,r._F.DE,"Germany (EU)"),(0,t.Z)(i,r._F.EE,"Estonia (EU)"),(0,t.Z)(i,r._F.IE,"Ireland (EU)"),(0,t.Z)(i,r._F.GR,"Greece (EU)"),(0,t.Z)(i,r._F.ES,"Spain (EU)"),(0,t.Z)(i,r._F.FR,"France (EU)"),(0,t.Z)(i,r._F.HR,"Croatia (EU)"),(0,t.Z)(i,r._F.IT,"Italy (EU)"),(0,t.Z)(i,r._F.CY,"Cyprus (EU)"),(0,t.Z)(i,r._F.LV,"Latvia (EU)"),(0,t.Z)(i,r._F.LT,"Lithuania (EU)"),(0,t.Z)(i,r._F.LU,"Luxembourg (EU)"),(0,t.Z)(i,r._F.HU,"Hungary (EU)"),(0,t.Z)(i,r._F.MT,"Malta (EU)"),(0,t.Z)(i,r._F.NL,"Netherlands (EU)"),(0,t.Z)(i,r._F.AT,"Austria (EU)"),(0,t.Z)(i,r._F.PL,"Poland (EU)"),(0,t.Z)(i,r._F.PT,"Portugal (EU)"),(0,t.Z)(i,r._F.RO,"Romania (EU)"),(0,t.Z)(i,r._F.SI,"Slovenia (EU)"),(0,t.Z)(i,r._F.SK,"Slovakia (EU)"),(0,t.Z)(i,r._F.FI,"Finland (EU)"),(0,t.Z)(i,r._F.SE,"Sweden (EU)"),(0,t.Z)(i,r._F.GB_ENG,"England"),(0,t.Z)(i,r._F.GB_SCT,"Scotland"),(0,t.Z)(i,r._F.GB_WLS,"Wales"),(0,t.Z)(i,r._F.GB_NIR,"Northern Ireland"),(0,t.Z)(i,r._F.IS,"Iceland"),(0,t.Z)(i,r._F.NO,"Norway"),(0,t.Z)(i,r._F.LI,"Liechtenstein"),(0,t.Z)(i,r._F.CA,"Canada"),(0,t.Z)(i,r._F.CA_AB,"Alberta (Canada)"),(0,t.Z)(i,r._F.CA_BC,"British Columbia (Canada)"),(0,t.Z)(i,r._F.CA_MB,"Manitoba (Canada)"),(0,t.Z)(i,r._F.CA_NB,"New Brunswick (Canada)"),(0,t.Z)(i,r._F.CA_NL,"Newfoundland and Labrador (Canada)"),(0,t.Z)(i,r._F.CA_NS,"Nova Scotia (Canada)"),(0,t.Z)(i,r._F.CA_ON,"Ontario (Canada)"),(0,t.Z)(i,r._F.CA_PE,"Prince Edward Island (Canada)"),(0,t.Z)(i,r._F.CA_QC,"Quebec (Canada)"),(0,t.Z)(i,r._F.CA_SK,"Saskatchewan (Canada)"),(0,t.Z)(i,r._F.CA_NT,"Northwest Territories (Canada)"),(0,t.Z)(i,r._F.CA_NU,"Nunavut (Canada)"),(0,t.Z)(i,r._F.CA_YT,"Yukon (Canada)"),(0,t.Z)(i,r._F.EEA,"European Economic Area"),i),o=new Map(Object.entries(s)),c=Object.entries(s).map((function(e){return{value:e[0],label:e[1]}}))},24753:function(e,n,a){a.d(n,{MA:function(){return _},Vo:function(){return u},t5:function(){return d}});var i=a(90849),t=a(34896),r=a(24246);function s(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?s(Object(a),!0).forEach((function(n){(0,i.Z)(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}var c=function(e){var n=e.message;return(0,r.jsxs)(t.xv,{"data-testid":"toast-success-msg",children:[(0,r.jsx)("strong",{children:"Success:"})," ",n]})},l=function(e){var n=e.message;return(0,r.jsxs)(t.xv,{"data-testid":"toast-error-msg",children:[(0,r.jsx)("strong",{children:"Error:"})," ",n]})},_={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var n=(0,r.jsx)(c,{message:e});return o(o({},_),{description:n})},u=function(e){var n=(0,r.jsx)(l,{message:e});return o(o({},_),{description:n,status:"error"})}},85915:function(e,n,a){a.d(n,{Z:function(){return P}});var i=a(55732),t=a(97865),r=a(34707),s=a.n(r),o=a(70409),c=a(34896),l=a(29549),_=a(34090),d=a(86677),u=a(27378),p=a(6848),S=a(86054),U=a(43139),f=a(78624),h=a(60709),m=a(64429),Z=a(24753),v=a(75846),F=a(20800),b=a(17009),y=a(24246),A=(0,f.MM)(b.J7).map((function(e){return{label:F.y.get(e.label)||e.label,value:e.value}})),g=(0,f.MM)(b.QT).map((function(e){return{label:F.B.get(e.label)||e.label,value:e.value}})),x=function(){var e=(0,_.u6)(),n=e.values,a=e.setFieldValue,i=(0,u.useMemo)((function(){return n.consent_mechanism===b.J7.NOTICE_ONLY}),[n.consent_mechanism]);return(0,u.useEffect)((function(){i&&(a("enforcement_level",b.QT.NOT_APPLICABLE),a("has_gpc_flag",!1))}),[i,a]),(0,y.jsxs)(S.Z,{title:"Consent mechanism",children:[(0,y.jsx)(U.AP,{label:"If this use of data requires consent, you can specify the method of consent here.",name:"consent_mechanism",options:A,variant:"stacked"}),(0,y.jsx)(U.AP,{label:"Select the enforcement level for this consent mechanism",name:"enforcement_level",options:g,variant:"stacked",isDisabled:i}),(0,y.jsxs)(c.xu,{children:[(0,y.jsx)(c.xv,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Configure whether this notice conforms to the Global Privacy Control."}),(0,y.jsx)(U.w8,{label:"GPC Enabled",name:"has_gpc_flag",variant:"condensed",isDisabled:i})]})]})},j=a(68301),C={name:"",regions:[],consent_mechanism:b.J7.OPT_IN,data_uses:[],enforcement_level:b.QT.SYSTEM_WIDE,displayed_in_api:!0,displayed_in_overlay:!0,displayed_in_privacy_center:!0},E=j.Ry().shape({name:j.Z_().required().label("Title"),data_uses:j.IX(j.Z_()).min(1,"Must assign at least one data use").label("Data uses"),regions:j.IX(j.Z_()).min(1,"Must assign at least one location").label("Locations")}),O=a(14441),w=a.n(O),N=function(e){var n=e.isEditing,a=(0,_.u6)(),i=a.values,t=a.setFieldValue;return(0,u.useEffect)((function(){if(!n){var e=w()(i.name);t("notice_key",e)}}),[i.name,n,t]),(0,y.jsx)(U.j0,{name:"notice_key",label:"Key used in Fides cookie",variant:"stacked"})},k=a(15749),P=function(e){var n=e.privacyNotice,a=(0,d.useRouter)(),r=(0,o.pm)(),F=n?function(e){var n,a,i,t,r;return{name:null!==(n=e.name)&&void 0!==n?n:C.name,regions:null!==(a=e.regions)&&void 0!==a?a:C.regions,consent_mechanism:null!==(i=e.consent_mechanism)&&void 0!==i?i:C.consent_mechanism,data_uses:null!==(t=e.data_uses)&&void 0!==t?t:C.data_uses,enforcement_level:null!==(r=e.enforcement_level)&&void 0!==r?r:C.enforcement_level,displayed_in_api:e.displayed_in_api,displayed_in_overlay:e.displayed_in_overlay,displayed_in_privacy_center:e.displayed_in_privacy_center,notice_key:e.notice_key,description:e.description,disabled:e.disabled,has_gpc_flag:e.has_gpc_flag,id:e.id,internal_description:e.internal_description,origin:e.origin}}(n):C;(0,v.fd)();var b=(0,p.C)(v.qv),A=(0,k.vL)(),g=(0,t.Z)(A,1)[0],j=(0,k.p4)(),O=(0,t.Z)(j,1)[0],w=(0,u.useMemo)((function(){return!!n}),[n]),P=function(){var e=(0,i.Z)(s().mark((function e(n){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!w){e.next=6;break}return e.next=3,g([n]);case 3:i=e.sent,e.next=9;break;case 6:return e.next=8,O([n]);case 8:i=e.sent;case 9:(0,f.D4)(i)?r((0,Z.Vo)((0,f.e$)(i.error))):(r((0,Z.t5)("Privacy notice ".concat(w?"updated":"created"))),w||a.push(h.IT));case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,y.jsx)(_.J9,{initialValues:F,enableReinitialize:!0,onSubmit:P,validationSchema:E,children:function(e){var n=e.dirty,i=e.isValid,t=e.isSubmitting;return(0,y.jsx)(_.l0,{children:(0,y.jsxs)(c.Kq,{spacing:10,children:[(0,y.jsxs)(c.Kq,{spacing:6,children:[(0,y.jsxs)(S.Z,{title:"Privacy notice details",children:[(0,y.jsx)(U.j0,{label:"Title of the consent notice as displayed to the user",name:"name",variant:"stacked"}),(0,y.jsx)(U.Ks,{label:"Privacy notice displayed to the user",name:"description",variant:"stacked"})]}),(0,y.jsx)(x,{}),(0,y.jsxs)(S.Z,{title:"Privacy notice configuration",children:[(0,y.jsx)(U.AP,{name:"data_uses",label:"Data uses associated with this privacy notice",options:b,variant:"stacked",isMulti:!0,isRequired:!0}),(0,y.jsx)(U.Ks,{label:"Description of the privacy notice (visible to internal users only)",name:"internal_description",variant:"stacked"}),(0,y.jsx)(U.AP,{name:"regions",label:"Locations where consent notice is shown to visitors",options:m.BD,variant:"stacked",isMulti:!0,isRequired:!0}),(0,y.jsx)(N,{isEditing:w}),(0,y.jsxs)(c.xu,{children:[(0,y.jsx)(c.xv,{fontSize:"sm",fontWeight:"medium",mb:2,children:"Configure the user experience for how this notice is displayed"}),(0,y.jsxs)(c.Ug,{justifyContent:"space-between",children:[(0,y.jsx)(U.w8,{label:"Show in Privacy Preference Center",name:"displayed_in_privacy_center",variant:"condensed"}),(0,y.jsx)(U.w8,{label:"Show in Privacy Overlay",name:"displayed_in_overlay",variant:"condensed"}),(0,y.jsx)(U.w8,{label:"API Only",name:"displayed_in_api",variant:"condensed"})]})]})]})]}),(0,y.jsxs)(l.hE,{size:"sm",spacing:2,children:[(0,y.jsx)(l.zx,{variant:"outline",onClick:function(){a.back()},children:"Cancel"}),(0,y.jsx)(l.zx,{type:"submit",variant:"primary",size:"sm",isDisabled:t||!n||!i,isLoading:t,"data-testid":"save-btn",children:"Save"})]})]})})}})}},20800:function(e,n,a){a.d(n,{B:function(){return t},y:function(){return i}});var i=new Map([["opt_in","Opt in"],["notice_only","Notice only"],["opt_out","Opt out"]]),t=new Map([["system_wide","System wide"],["frontend","Front end"],["not_applicable","Not applicable"]])}}]);