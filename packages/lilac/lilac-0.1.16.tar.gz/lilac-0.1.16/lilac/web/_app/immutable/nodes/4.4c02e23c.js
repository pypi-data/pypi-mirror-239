import{S as Ee,i as $e,s as ke,E as ce,k as D,a as O,y as z,l as N,m as k,c as q,z as B,h as d,F as vt,G as re,b as T,a0 as p,A,H as Le,L as Ge,g as b,d as w,B as P,N as ye,C as wt,o as Di,Q as Ne,q as H,r as R,n as y,u as ae,e as he,v as le,f as ne,M as ut,w as We,W as Ni,X as Ti,D as Tt,I as Vt,J as Mt,K as Ct,a1 as j,R as xe,V as nl,Z as _e,_ as ge,$ as Ce,Y as ls,p as yt,a7 as Fe,ae as ns,a8 as Ke,O as Pe,ab as Be,T as Je,U as Ze,a4 as tt,P as is,a2 as Vi,a3 as Lt,a9 as Xt,x as Ot,a6 as $l,ad as ss}from"../chunks/index.c33bdc5f.js";import{g as il}from"../chunks/navigation.cd48615f.js";import{O as rs,a as pt,P as as}from"../chunks/Page.f2238901.js";import{W as os,O as fs,B as sl,d as ct,P as us,h as He,R as lt,U as rl,V as cs,X as Me,Y as al,Z as et,_ as qt,t as ht,C as _t,$ as Qt,a0 as ol,c as nt,a1 as st,a2 as kt,a3 as gt,a4 as Mi,a5 as Ci,a6 as Et,a7 as $t,a8 as xt,a9 as el,aa as zi,b as Gt,ab as fl,N as Ai,ac as Pi,n as Sl,ad as ds,ae as ms,af as ul,ag as hs,ah as _s,ai as tl,aj as Ht,ak as gs,al as ps,am as zt,an as Bi,ao as bs,i as vs,ap as ws,aq as Rt,ar as ks,as as Es,F as $s,at as Ss,au as Fi,av as Wt,aw as cl,ax as ys,ay as Is,az as It,aA as Hi,aB as jt,aC as ll,aD as Ri,j as Ds,aE as Li,aF as Ns,aG as Ut,A as dl,aH as Ts,aI as Vs,aJ as Ms,M as ml,G as hl,H as _l,I as Cs,J as Oi,aK as zs,aL as qi,K as yl,T as As,aM as Ps,z as ji,aN as Ui,aO as Bs,g as Fs,aP as Hs,aQ as Rs,aR as Ls,aS as Os,aT as qs}from"../chunks/Commands.b4e0396c.js";import{w as js}from"../chunks/index.3a9ccade.js";import{C as Us,b as Yi,I as Il,a as Ys,T as Qs,E as Gs,S as Ws}from"../chunks/ConceptView.07ca6a9a.js";import{E as Dl,R as Js,D as Zs,F as gl,T as Ks}from"../chunks/DatasetSettingsFields.865f9031.js";import{L as Xs,a as xs,b as er,c as tr,C as lr}from"../chunks/ComboBox.d2dcddb1.js";import{E as Qi,S as nr}from"../chunks/StringSpanHighlight.89564be9.js";import{M as pl}from"../chunks/ToastNotification.fe04d63b.js";import{g as ir}from"../chunks/settingsStore.332cdb0f.js";import{S as sr}from"../chunks/Search.fa87655b.js";import{s as Yt,C as rr,f as ar}from"../chunks/notificationsStore.bf4bc03e.js";import{S as or}from"../chunks/Settings.ec40b264.js";import{R as fr,a as ur}from"../chunks/RadioButtonGroup.0519ea1b.js";import{T as Gi}from"../chunks/TextArea.1539754e.js";function Nl(i,e,l){const t=i.slice();return t[39]=e[l],t[41]=l,t}const cr=i=>({item:i[0]&8,index:i[0]&8}),Tl=i=>({item:i[39],index:i[41]});function Vl(i){let e,l;return{c(){e=D("label"),l=H(i[10]),this.h()},l(t){e=N(t,"LABEL",{for:!0});var n=k(e);l=R(n,i[10]),n.forEach(d),this.h()},h(){y(e,"for",i[19]),re(e,"bx--label",!0),re(e,"bx--label--disabled",i[9]),re(e,"bx--visually-hidden",i[17])},m(t,n){T(t,e,n),p(e,l)},p(t,n){n[0]&1024&&ae(l,t[10]),n[0]&524288&&y(e,"for",t[19]),n[0]&512&&re(e,"bx--label--disabled",t[9]),n[0]&131072&&re(e,"bx--visually-hidden",t[17])},d(t){t&&d(e)}}}function Ml(i){let e,l;return e=new os({props:{class:"bx--list-box__invalid-icon"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Cl(i){let e,l;return e=new fs({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function dr(i){let e;return{c(){e=H(i[16])},l(l){e=R(l,i[16])},m(l,t){T(l,e,t)},p(l,t){t[0]&65536&&ae(e,l[16])},d(l){l&&d(e)}}}function mr(i){let e=i[4](i[22])+"",l;return{c(){l=H(e)},l(t){l=R(t,e)},m(t,n){T(t,l,n)},p(t,n){n[0]&4194320&&e!==(e=t[4](t[22])+"")&&ae(l,e)},d(t){t&&d(l)}}}function zl(i){let e,l;return e=new er({props:{"aria-labelledby":i[19],id:i[19],$$slots:{default:[gr]},$$scope:{ctx:i}}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&524288&&(a["aria-labelledby"]=t[19]),n[0]&524288&&(a.id=t[19]),n[0]&2097181|n[1]&64&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function hr(i){let e=i[4](i[39])+"",l;return{c(){l=H(e)},l(t){l=R(t,e)},m(t,n){T(t,l,n)},p(t,n){n[0]&24&&e!==(e=t[4](t[39])+"")&&ae(l,e)},d(t){t&&d(l)}}}function _r(i){let e,l;const t=i[29].default,n=Tt(t,i,i[37],Tl),a=n||hr(i);return{c(){a&&a.c(),e=O()},l(s){a&&a.l(s),e=q(s)},m(s,r){a&&a.m(s,r),T(s,e,r),l=!0},p(s,r){n?n.p&&(!l||r[0]&8|r[1]&64)&&Vt(n,t,s,s[37],l?Ct(t,s[37],r,cr):Mt(s[37]),Tl):a&&a.p&&(!l||r[0]&24)&&a.p(s,l?r:[-1,-1])},i(s){l||(b(a,s),l=!0)},o(s){w(a,s),l=!1},d(s){a&&a.d(s),s&&d(e)}}}function Al(i,e){let l,t,n;function a(...r){return e[34](e[39],...r)}function s(){return e[35](e[39],e[41])}return t=new tr({props:{id:e[39].id,active:e[0]===e[39].id,highlighted:e[21]===e[41],disabled:e[39].disabled,$$slots:{default:[_r]},$$scope:{ctx:e}}}),t.$on("click",a),t.$on("mouseenter",s),{key:i,first:null,c(){l=he(),z(t.$$.fragment),this.h()},l(r){l=he(),B(t.$$.fragment,r),this.h()},h(){this.first=l},m(r,o){T(r,l,o),A(t,r,o),n=!0},p(r,o){e=r;const f={};o[0]&8&&(f.id=e[39].id),o[0]&9&&(f.active=e[0]===e[39].id),o[0]&2097160&&(f.highlighted=e[21]===e[41]),o[0]&8&&(f.disabled=e[39].disabled),o[0]&24|o[1]&64&&(f.$$scope={dirty:o,ctx:e}),t.$set(f)},i(r){n||(b(t.$$.fragment,r),n=!0)},o(r){w(t.$$.fragment,r),n=!1},d(r){r&&d(l),P(t,r)}}}function gr(i){let e=[],l=new Map,t,n,a=i[3];const s=r=>r[39].id;for(let r=0;r<a.length;r+=1){let o=Nl(i,a,r),f=s(o);l.set(f,e[r]=Al(f,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=he()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);t=he()},m(r,o){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,o);T(r,t,o),n=!0},p(r,o){o[0]&35651613|o[1]&64&&(a=r[3],le(),e=Ni(e,o,s,1,r,a,l,t.parentNode,Ti,Al,t,Nl),ne())},i(r){if(!n){for(let o=0;o<a.length;o+=1)b(e[o]);n=!0}},o(r){for(let o=0;o<e.length;o+=1)w(e[o]);n=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&d(t)}}}function pr(i){let e,l,t,n,a,s,r,o,f,u,_,c=i[11]&&Ml(),m=!i[11]&&i[13]&&Cl();function h(v,V){return v[22]?mr:dr}let g=h(i),$=g(i);s=new xs({props:{translateWithId:i[18],open:i[1]}}),s.$on("click",i[30]);let E=i[1]&&zl(i);return{c(){c&&c.c(),e=O(),m&&m.c(),l=O(),t=D("button"),n=D("span"),$.c(),a=O(),z(s.$$.fragment),r=O(),E&&E.c(),o=he(),this.h()},l(v){c&&c.l(v),e=q(v),m&&m.l(v),l=q(v),t=N(v,"BUTTON",{type:!0,tabindex:!0,"aria-expanded":!0,translatewithid:!0,id:!0});var V=k(t);n=N(V,"SPAN",{});var S=k(n);$.l(S),S.forEach(d),a=q(V),B(s.$$.fragment,V),V.forEach(d),r=q(v),E&&E.l(v),o=he(),this.h()},h(){re(n,"bx--list-box__label",!0),y(t,"type","button"),y(t,"tabindex","0"),y(t,"aria-expanded",i[1]),t.disabled=i[9],y(t,"translatewithid",i[18]),y(t,"id",i[19]),re(t,"bx--list-box__field",!0)},m(v,V){c&&c.m(v,V),T(v,e,V),m&&m.m(v,V),T(v,l,V),T(v,t,V),p(t,n),$.m(n,null),p(t,a),A(s,t,null),i[31](t),T(v,r,V),E&&E.m(v,V),T(v,o,V),f=!0,u||(_=[Le(t,"keydown",i[32]),Le(t,"keyup",i[33])],u=!0)},p(v,V){v[11]?c?V[0]&2048&&b(c,1):(c=Ml(),c.c(),b(c,1),c.m(e.parentNode,e)):c&&(le(),w(c,1,1,()=>{c=null}),ne()),!v[11]&&v[13]?m?V[0]&10240&&b(m,1):(m=Cl(),m.c(),b(m,1),m.m(l.parentNode,l)):m&&(le(),w(m,1,1,()=>{m=null}),ne()),g===(g=h(v))&&$?$.p(v,V):($.d(1),$=g(v),$&&($.c(),$.m(n,null)));const S={};V[0]&262144&&(S.translateWithId=v[18]),V[0]&2&&(S.open=v[1]),s.$set(S),(!f||V[0]&2)&&y(t,"aria-expanded",v[1]),(!f||V[0]&512)&&(t.disabled=v[9]),(!f||V[0]&262144)&&y(t,"translatewithid",v[18]),(!f||V[0]&524288)&&y(t,"id",v[19]),v[1]?E?(E.p(v,V),V[0]&2&&b(E,1)):(E=zl(v),E.c(),b(E,1),E.m(o.parentNode,o)):E&&(le(),w(E,1,1,()=>{E=null}),ne())},i(v){f||(b(c),b(m),b(s.$$.fragment,v),b(E),f=!0)},o(v){w(c),w(m),w(s.$$.fragment,v),w(E),f=!1},d(v){c&&c.d(v),v&&d(e),m&&m.d(v),v&&d(l),v&&d(t),$.d(),P(s),i[31](null),v&&d(r),E&&E.d(v),v&&d(o),u=!1,ut(_)}}}function Pl(i){let e,l;return{c(){e=D("div"),l=H(i[15]),this.h()},l(t){e=N(t,"DIV",{});var n=k(e);l=R(n,i[15]),n.forEach(d),this.h()},h(){re(e,"bx--form__helper-text",!0),re(e,"bx--form__helper-text--disabled",i[9])},m(t,n){T(t,e,n),p(e,l)},p(t,n){n[0]&32768&&ae(l,t[15]),n[0]&512&&re(e,"bx--form__helper-text--disabled",t[9])},d(t){t&&d(e)}}}function br(i){let e,l,t,n,a,s,r,o=i[10]&&Vl(i);t=new Xs({props:{role:void 0,type:i[5],size:i[7],name:i[20],"aria-label":i[28]["aria-label"],class:`bx--dropdown 
      `+(i[6]==="top"&&"bx--list-box--up")+` 
      `+(i[11]&&"bx--dropdown--invalid")+` 
      `+(!i[11]&&i[13]&&"bx--dropdown--warning")+` 
      `+(i[1]&&"bx--dropdown--open")+`
      `+(i[7]==="sm"&&"bx--dropdown--sm")+`
      `+(i[7]==="xl"&&"bx--dropdown--xl")+`
      `+(i[23]&&"bx--dropdown--inline")+`
      `+(i[9]&&"bx--dropdown--disabled")+`
      `+(i[8]&&"bx--dropdown--light"),disabled:i[9],open:i[1],invalid:i[11],invalidText:i[12],light:i[8],warn:i[13],warnText:i[14],$$slots:{default:[pr]},$$scope:{ctx:i}}}),t.$on("click",i[36]);let f=!i[23]&&!i[11]&&!i[13]&&i[15]&&Pl(i),u=[i[27]],_={};for(let c=0;c<u.length;c+=1)_=ce(_,u[c]);return{c(){e=D("div"),o&&o.c(),l=O(),z(t.$$.fragment),n=O(),f&&f.c(),this.h()},l(c){e=N(c,"DIV",{});var m=k(e);o&&o.l(m),l=q(m),B(t.$$.fragment,m),n=q(m),f&&f.l(m),m.forEach(d),this.h()},h(){vt(e,_),re(e,"bx--dropdown__wrapper",!0),re(e,"bx--list-box__wrapper",!0),re(e,"bx--dropdown__wrapper--inline",i[23]),re(e,"bx--list-box__wrapper--inline",i[23]),re(e,"bx--dropdown__wrapper--inline--invalid",i[23]&&i[11])},m(c,m){T(c,e,m),o&&o.m(e,null),p(e,l),A(t,e,null),p(e,n),f&&f.m(e,null),a=!0,s||(r=Le(window,"click",i[26]),s=!0)},p(c,m){c[10]?o?o.p(c,m):(o=Vl(c),o.c(),o.m(e,l)):o&&(o.d(1),o=null);const h={};m[0]&32&&(h.type=c[5]),m[0]&128&&(h.size=c[7]),m[0]&1048576&&(h.name=c[20]),m[0]&268435456&&(h["aria-label"]=c[28]["aria-label"]),m[0]&8399810&&(h.class=`bx--dropdown 
      `+(c[6]==="top"&&"bx--list-box--up")+` 
      `+(c[11]&&"bx--dropdown--invalid")+` 
      `+(!c[11]&&c[13]&&"bx--dropdown--warning")+` 
      `+(c[1]&&"bx--dropdown--open")+`
      `+(c[7]==="sm"&&"bx--dropdown--sm")+`
      `+(c[7]==="xl"&&"bx--dropdown--xl")+`
      `+(c[23]&&"bx--dropdown--inline")+`
      `+(c[9]&&"bx--dropdown--disabled")+`
      `+(c[8]&&"bx--dropdown--light")),m[0]&512&&(h.disabled=c[9]),m[0]&2&&(h.open=c[1]),m[0]&2048&&(h.invalid=c[11]),m[0]&4096&&(h.invalidText=c[12]),m[0]&256&&(h.light=c[8]),m[0]&8192&&(h.warn=c[13]),m[0]&16384&&(h.warnText=c[14]),m[0]&7154207|m[1]&64&&(h.$$scope={dirty:m,ctx:c}),t.$set(h),!c[23]&&!c[11]&&!c[13]&&c[15]?f?f.p(c,m):(f=Pl(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null),vt(e,_=Ge(u,[m[0]&134217728&&c[27]])),re(e,"bx--dropdown__wrapper",!0),re(e,"bx--list-box__wrapper",!0),re(e,"bx--dropdown__wrapper--inline",c[23]),re(e,"bx--list-box__wrapper--inline",c[23]),re(e,"bx--dropdown__wrapper--inline--invalid",c[23]&&c[11])},i(c){a||(b(t.$$.fragment,c),a=!0)},o(c){w(t.$$.fragment,c),a=!1},d(c){c&&d(e),o&&o.d(),P(t),f&&f.d(),s=!1,r()}}}function vr(i,e,l){let t,n;const a=["items","itemToString","selectedId","type","direction","size","open","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let s=ye(e,a),{$$slots:r={},$$scope:o}=e,{items:f=[]}=e,{itemToString:u=W=>W.text||W.id}=e,{selectedId:_}=e,{type:c="default"}=e,{direction:m="bottom"}=e,{size:h=void 0}=e,{open:g=!1}=e,{light:$=!1}=e,{disabled:E=!1}=e,{titleText:v=""}=e,{invalid:V=!1}=e,{invalidText:S=""}=e,{warn:I=!1}=e,{warnText:M=""}=e,{helperText:C=""}=e,{label:L=void 0}=e,{hideLabel:G=!1}=e,{translateWithId:se=void 0}=e,{id:Q="ccs-"+Math.random().toString(36)}=e,{name:K=void 0}=e,{ref:x=null}=e;const J=wt();let F=-1;function Z(W){let U=F+W;if(f.length===0)return;U<0?U=f.length-1:U>=f.length&&(U=0);let oe=f[U].disabled;for(;oe;)U=U+W,U<0?U=f.length-1:U>=f.length&&(U=0),oe=f[U].disabled;l(21,F=U)}const ee=()=>{J("select",{selectedId:_,selectedItem:f.find(W=>W.id===_)})},X=({target:W})=>{g&&x&&!x.contains(W)&&l(1,g=!1)};Di(()=>(parent&&parent.addEventListener("click",X),()=>{parent&&parent.removeEventListener("click",X)}));const be=W=>{W.stopPropagation(),!E&&l(1,g=!g)};function pe(W){We[W?"unshift":"push"](()=>{x=W,l(2,x)})}const ie=W=>{const{key:U}=W;["Enter","ArrowDown","ArrowUp"].includes(U)&&W.preventDefault(),U==="Enter"?(l(1,g=!g),F>-1&&f[F].id!==_&&(l(0,_=f[F].id),ee(),l(1,g=!1))):U==="Tab"?(l(1,g=!1),x.blur()):U==="ArrowDown"?(g||l(1,g=!0),Z(1)):U==="ArrowUp"?(g||l(1,g=!0),Z(-1)):U==="Escape"&&l(1,g=!1)},Se=W=>{const{key:U}=W;if([" "].includes(U))W.preventDefault();else return;l(1,g=!g),F>-1&&f[F].id!==_&&(l(0,_=f[F].id),ee(),l(1,g=!1))},me=(W,U)=>{if(W.disabled){U.stopPropagation();return}l(0,_=W.id),ee(),x.focus()},ue=(W,U)=>{W.disabled||l(21,F=U)},Te=({target:W})=>{E||l(1,g=x.contains(W)?!g:!1)};return i.$$set=W=>{l(28,e=ce(ce({},e),Ne(W))),l(27,s=ye(e,a)),"items"in W&&l(3,f=W.items),"itemToString"in W&&l(4,u=W.itemToString),"selectedId"in W&&l(0,_=W.selectedId),"type"in W&&l(5,c=W.type),"direction"in W&&l(6,m=W.direction),"size"in W&&l(7,h=W.size),"open"in W&&l(1,g=W.open),"light"in W&&l(8,$=W.light),"disabled"in W&&l(9,E=W.disabled),"titleText"in W&&l(10,v=W.titleText),"invalid"in W&&l(11,V=W.invalid),"invalidText"in W&&l(12,S=W.invalidText),"warn"in W&&l(13,I=W.warn),"warnText"in W&&l(14,M=W.warnText),"helperText"in W&&l(15,C=W.helperText),"label"in W&&l(16,L=W.label),"hideLabel"in W&&l(17,G=W.hideLabel),"translateWithId"in W&&l(18,se=W.translateWithId),"id"in W&&l(19,Q=W.id),"name"in W&&l(20,K=W.name),"ref"in W&&l(2,x=W.ref),"$$scope"in W&&l(37,o=W.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&32&&l(23,t=c==="inline"),i.$$.dirty[0]&9&&l(22,n=f.find(W=>W.id===_)),i.$$.dirty[0]&2&&(g||l(21,F=-1))},e=Ne(e),[_,g,x,f,u,c,m,h,$,E,v,V,S,I,M,C,L,G,se,Q,K,F,n,t,Z,ee,X,s,e,r,be,pe,ie,Se,me,ue,Te,o]}class wr extends Ee{constructor(e){super(),$e(this,e,vr,br,ke,{items:3,itemToString:4,selectedId:0,type:5,direction:6,size:7,open:1,light:8,disabled:9,titleText:10,invalid:11,invalidText:12,warn:13,warnText:14,helperText:15,label:16,hideLabel:17,translateWithId:18,id:19,name:20,ref:2},null,[-1,-1])}}const Wi=wr;function kr(i){let e,l,t,n,a,s=[i[1]],r={};for(let o=0;o<s.length;o+=1)r=ce(r,s[o]);return{c(){e=D("div"),l=D("div"),t=D("span"),this.h()},l(o){e=N(o,"DIV",{});var f=k(e);l=N(f,"DIV",{role:!0});var u=k(l);t=N(u,"SPAN",{}),k(t).forEach(d),u.forEach(d),f.forEach(d),this.h()},h(){re(t,"bx--list-box__label",!0),y(l,"role","button"),re(l,"bx--list-box__field",!0),vt(e,r),re(e,"bx--skeleton",!0),re(e,"bx--dropdown-v2",!0),re(e,"bx--list-box",!0),re(e,"bx--form-item",!0),re(e,"bx--list-box--inline",i[0])},m(o,f){T(o,e,f),p(e,l),p(l,t),n||(a=[Le(e,"click",i[2]),Le(e,"mouseover",i[3]),Le(e,"mouseenter",i[4]),Le(e,"mouseleave",i[5])],n=!0)},p(o,[f]){vt(e,r=Ge(s,[f&2&&o[1]])),re(e,"bx--skeleton",!0),re(e,"bx--dropdown-v2",!0),re(e,"bx--list-box",!0),re(e,"bx--form-item",!0),re(e,"bx--list-box--inline",o[0])},i:j,o:j,d(o){o&&d(e),n=!1,ut(a)}}}function Er(i,e,l){const t=["inline"];let n=ye(e,t),{inline:a=!1}=e;function s(u){xe.call(this,i,u)}function r(u){xe.call(this,i,u)}function o(u){xe.call(this,i,u)}function f(u){xe.call(this,i,u)}return i.$$set=u=>{e=ce(ce({},e),Ne(u)),l(1,n=ye(e,t)),"inline"in u&&l(0,a=u.inline)},[a,n,s,r,o,f]}class $r extends Ee{constructor(e){super(),$e(this,e,Er,kr,ke,{inline:0})}}const Sr=$r;function yr(i){let e;const l=i[1].default,t=Tt(l,i,i[6],null);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),e=!0},p(n,a){t&&t.p&&(!e||a&64)&&Vt(t,l,n,n[6],e?Ct(l,n[6],a,null):Mt(n[6]),null)},i(n){e||(b(t,n),e=!0)},o(n){w(t,n),e=!1},d(n){t&&t.d(n)}}}function Ir(i){let e,l;const t=[{kind:"ghost"},{size:"small"},i[0],{class:"bx--inline-notification__action-button "+i[0].class}];let n={$$slots:{default:[yr]},$$scope:{ctx:i}};for(let a=0;a<t.length;a+=1)n=ce(n,t[a]);return e=new sl({props:n}),e.$on("click",i[2]),e.$on("mouseover",i[3]),e.$on("mouseenter",i[4]),e.$on("mouseleave",i[5]),{c(){z(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,s){A(e,a,s),l=!0},p(a,[s]){const r=s&1?Ge(t,[t[0],t[1],nl(a[0]),{class:"bx--inline-notification__action-button "+a[0].class}]):{};s&64&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(a){l||(b(e.$$.fragment,a),l=!0)},o(a){w(e.$$.fragment,a),l=!1},d(a){P(e,a)}}}function Dr(i,e,l){const t=[];let n=ye(e,t),{$$slots:a={},$$scope:s}=e;function r(_){xe.call(this,i,_)}function o(_){xe.call(this,i,_)}function f(_){xe.call(this,i,_)}function u(_){xe.call(this,i,_)}return i.$$set=_=>{e=ce(ce({},e),Ne(_)),l(0,n=ye(e,t)),"$$scope"in _&&l(6,s=_.$$scope)},[n,a,r,o,f,u,s]}class Nr extends Ee{constructor(e){super(),$e(this,e,Dr,Ir,ke,{})}}const Tr=Nr;function Vr(i){let e,l,t,n=[i[0]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=D("div"),this.h()},l(s){e=N(s,"DIV",{}),k(e).forEach(d),this.h()},h(){vt(e,a),re(e,"bx--skeleton__placeholder",!0)},m(s,r){T(s,e,r),l||(t=[Le(e,"click",i[1]),Le(e,"mouseover",i[2]),Le(e,"mouseenter",i[3]),Le(e,"mouseleave",i[4])],l=!0)},p(s,[r]){vt(e,a=Ge(n,[r&1&&s[0]])),re(e,"bx--skeleton__placeholder",!0)},i:j,o:j,d(s){s&&d(e),l=!1,ut(t)}}}function Mr(i,e,l){const t=[];let n=ye(e,t);function a(f){xe.call(this,i,f)}function s(f){xe.call(this,i,f)}function r(f){xe.call(this,i,f)}function o(f){xe.call(this,i,f)}return i.$$set=f=>{e=ce(ce({},e),Ne(f)),l(0,n=ye(e,t))},[n,a,s,r,o]}class Cr extends Ee{constructor(e){super(),$e(this,e,Mr,Vr,ke,{})}}const zr=Cr;function Bl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function Ar(i){let e,l,t=i[1]&&Bl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Bl(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function Pr(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Br extends Ee{constructor(e){super(),$e(this,e,Pr,Ar,ke,{size:0,title:1})}}function Fl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function Fr(i){let e,l,t=i[1]&&Fl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M10 16L20 6 21.4 7.4 12.8 16 21.4 24.6 20 26z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Fl(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function Hr(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Rr extends Ee{constructor(e){super(),$e(this,e,Hr,Fr,ke,{size:0,title:1})}}function Hl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function Lr(i){let e,l,t=i[1]&&Hl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M22 16L12 26 10.6 24.6 19.2 16 10.6 7.4 12 6z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Hl(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function Or(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class qr extends Ee{constructor(e){super(),$e(this,e,Or,Lr,ke,{size:0,title:1})}}function Rl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function jr(i){let e,l,t=i[1]&&Rl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Rl(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function Ur(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Yr extends Ee{constructor(e){super(),$e(this,e,Ur,jr,ke,{size:0,title:1})}}function Ll(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function Qr(i){let e,l,t=i[1]&&Ll(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M16 7a3 3 0 113-3A3.0033 3.0033 0 0116 7zm0-4a1 1 0 101 1A1.001 1.001 0 0016 3zM11 30a3 3 0 113-3A3.0033 3.0033 0 0111 30zm0-4a1 1 0 101 1A1.001 1.001 0 0011 26zM7 11a3 3 0 113-3A3.0033 3.0033 0 017 11zM7 7A1 1 0 108 8 1.001 1.001 0 007 7zM21 30a3 3 0 113-3A3.0033 3.0033 0 0121 30zm0-4a1 1 0 101 1A1.001 1.001 0 0021 26zM25 11a3 3 0 113-3A3.0033 3.0033 0 0125 11zm0-4a1 1 0 101 1A1.001 1.001 0 0025 7zM4 21a3 3 0 113-3A3.0033 3.0033 0 014 21zm0-4a1 1 0 101 1A1.001 1.001 0 004 17zM28 21a3 3 0 113-3A3.0033 3.0033 0 0128 21zm0-4a1 1 0 101 1A1.001 1.001 0 0028 17zM16 22a6 6 0 116-6A6.0069 6.0069 0 0116 22zm0-10a4 4 0 104 4A4.0045 4.0045 0 0016 12z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Ll(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function Gr(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Wr extends Ee{constructor(e){super(),$e(this,e,Gr,Qr,ke,{size:0,title:1})}}function Ol(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function Jr(i){let e,l,t=i[1]&&Ol(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M26 24v4H6V24H4v4l.0076-.0049A1.9977 1.9977 0 006 30H26a2 2 0 002-2h0V24zM6 12L7.411 13.405 15 5.825 15 24 17 24 17 5.825 24.591 13.405 26 12 16 2 6 12z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Ol(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function Zr(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Kr extends Ee{constructor(e){super(),$e(this,e,Zr,Jr,ke,{size:0,title:1})}}function ql(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function Xr(i){let e,l,t=i[1]&&ql(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M18,28H14a2,2,0,0,1-2-2V18.41L4.59,11A2,2,0,0,1,4,9.59V6A2,2,0,0,1,6,4H26a2,2,0,0,1,2,2V9.59A2,2,0,0,1,27.41,11L20,18.41V26A2,2,0,0,1,18,28ZM6,6V9.59l8,8V26h4V17.59l8-8V6Z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=ql(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function xr(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class ea extends Ee{constructor(e){super(),$e(this,e,xr,Xr,ke,{size:0,title:1})}}function jl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function ta(i){let e,l,t=i[1]&&jl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M11.17,6l3.42,3.41.58.59H28V26H4V6h7.17m0-2H4A2,2,0,0,0,2,6V26a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V10a2,2,0,0,0-2-2H16L12.59,4.59A2,2,0,0,0,11.17,4Z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=jl(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function la(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class na extends Ee{constructor(e){super(),$e(this,e,la,ta,ke,{size:0,title:1})}}function Ul(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function ia(i){let e,l,t,n,a,s,r,o,f,u=i[1]&&Ul(i),_=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],c={};for(let m=0;m<_.length;m+=1)c=ce(c,_[m]);return{c(){e=_e("svg"),u&&u.c(),l=_e("path"),t=_e("circle"),n=_e("path"),a=_e("circle"),s=_e("path"),r=_e("circle"),o=_e("path"),f=_e("path"),this.h()},l(m){e=ge(m,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var h=k(e);u&&u.l(h),l=ge(h,"path",{d:!0}),k(l).forEach(d),t=ge(h,"circle",{cx:!0,cy:!0,r:!0}),k(t).forEach(d),n=ge(h,"path",{d:!0}),k(n).forEach(d),a=ge(h,"circle",{cx:!0,cy:!0,r:!0}),k(a).forEach(d),s=ge(h,"path",{d:!0}),k(s).forEach(d),r=ge(h,"circle",{cx:!0,cy:!0,r:!0}),k(r).forEach(d),o=ge(h,"path",{d:!0}),k(o).forEach(d),f=ge(h,"path",{d:!0}),k(f).forEach(d),h.forEach(d),this.h()},h(){y(l,"d","M20 25H27V27H20zM22 29H25V31H22zM27 23h-2c0-1.1.4-2 1.2-2.8l.5-.5c.8-.8 1.3-2 1.3-3.2 0-2.5-2-4.5-4.5-4.5S19 14 19 16.5c0 1.2.5 2.3 1.3 3.2l.5.5C21.6 21 22 21.9 22 23h-2c0-.5-.2-1-.6-1.4l-.5-.5c-1.2-1.2-1.9-2.9-1.9-4.6 0-3.6 2.9-6.5 6.5-6.5s6.5 2.9 6.5 6.5c0 1.7-.7 3.4-1.9 4.6l-.5.5C27.2 22 27 22.5 27 23zM6 22H14V24H6z"),y(t,"cx","12"),y(t,"cy","19"),y(t,"r","1"),y(n,"d","M6 18H9V20H6zM6 14H13V16H6zM10 10H17V12H10z"),y(a,"cx","7"),y(a,"cy","11"),y(a,"r","1"),y(s,"d","M16 6H20V8H16z"),y(r,"cx","13"),y(r,"cy","7"),y(r,"r","1"),y(o,"d","M6 6H10V8H6z"),y(f,"d","M18,28H4V4l18,0v4h2V4c0-1.1-0.9-2-2-2H4C2.9,2,2,2.9,2,4v24c0,1.1,0.9,2,2,2h14V28z"),Ce(e,c)},m(m,h){T(m,e,h),u&&u.m(e,null),p(e,l),p(e,t),p(e,n),p(e,a),p(e,s),p(e,r),p(e,o),p(e,f)},p(m,[h]){m[1]?u?u.p(m,h):(u=Ul(m),u.c(),u.m(e,l)):u&&(u.d(1),u=null),Ce(e,c=Ge(_,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},h&1&&{width:m[0]},h&1&&{height:m[0]},h&4&&m[2],h&8&&m[3]]))},i:j,o:j,d(m){m&&d(e),u&&u.d()}}}function sa(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class ra extends Ee{constructor(e){super(),$e(this,e,sa,ia,ke,{size:0,title:1})}}function Yl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function aa(i){let e,l,t,n=i[1]&&Yl(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<a.length;r+=1)s=ce(s,a[r]);return{c(){e=_e("svg"),n&&n.c(),l=_e("path"),t=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=k(e);n&&n.l(o),l=ge(o,"path",{d:!0}),k(l).forEach(d),t=ge(o,"path",{d:!0}),k(t).forEach(d),o.forEach(d),this.h()},h(){y(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),y(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),Ce(e,s)},m(r,o){T(r,e,o),n&&n.m(e,null),p(e,l),p(e,t)},p(r,[o]){r[1]?n?n.p(r,o):(n=Yl(r),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Ce(e,s=Ge(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:j,o:j,d(r){r&&d(e),n&&n.d()}}}function oa(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Dt extends Ee{constructor(e){super(),$e(this,e,oa,aa,ke,{size:0,title:1})}}function Ql(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function fa(i){let e,l,t=i[1]&&Ql(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Ql(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function ua(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Ji extends Ee{constructor(e){super(),$e(this,e,ua,fa,ke,{size:0,title:1})}}function Gl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function ca(i){let e,l,t=i[1]&&Gl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Gl(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function da(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Zi extends Ee{constructor(e){super(),$e(this,e,da,ca,ke,{size:0,title:1})}}function Wl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function ma(i){let e,l,t=i[1]&&Wl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Wl(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function ha(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class Ki extends Ee{constructor(e){super(),$e(this,e,ha,ma,ke,{size:0,title:1})}}function Jl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function _a(i){let e,l,t=i[1]&&Jl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],a={};for(let s=0;s<n.length;s+=1)a=ce(a,n[s]);return{c(){e=_e("svg"),t&&t.c(),l=_e("path"),this.h()},l(s){e=ge(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var r=k(e);t&&t.l(r),l=ge(r,"path",{d:!0}),k(l).forEach(d),r.forEach(d),this.h()},h(){y(l,"d","M4 6H22V8H4zM4 12H22V14H4zM4 18H22V20H4zM4 24H22V26H4zM26 6H28V8H26zM26 12H28V14H26zM26 18H28V20H26zM26 24H28V26H26z"),Ce(e,a)},m(s,r){T(s,e,r),t&&t.m(e,null),p(e,l)},p(s,[r]){s[1]?t?t.p(s,r):(t=Jl(s),t.c(),t.m(e,l)):t&&(t.d(1),t=null),Ce(e,a=Ge(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},r&1&&{width:s[0]},r&1&&{height:s[0]},r&4&&s[2],r&8&&s[3]]))},i:j,o:j,d(s){s&&d(e),t&&t.d()}}}function ga(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class pa extends Ee{constructor(e){super(),$e(this,e,ga,_a,ke,{size:0,title:1})}}function Zl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function ba(i){let e,l,t,n,a=i[1]&&Zl(i),s=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let o=0;o<s.length;o+=1)r=ce(r,s[o]);return{c(){e=_e("svg"),a&&a.c(),l=_e("circle"),t=_e("path"),n=_e("path"),this.h()},l(o){e=ge(o,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var f=k(e);a&&a.l(f),l=ge(f,"circle",{cx:!0,cy:!0,r:!0}),k(l).forEach(d),t=ge(f,"path",{d:!0}),k(t).forEach(d),n=ge(f,"path",{d:!0}),k(n).forEach(d),f.forEach(d),this.h()},h(){y(l,"cx","10"),y(l,"cy","14"),y(l,"r","2"),y(t,"d","M16,30a1,1,0,0,1-.71-.29L4.59,19A2,2,0,0,1,4,17.59V10A2,2,0,0,1,6,8h7.59A2,2,0,0,1,15,8.59l10.71,10.7a1,1,0,0,1,0,1.42l-9,9A1,1,0,0,1,16,30ZM6,10v7.59l10,10L23.59,20l-10-10Z"),y(n,"d","M27.71,13.29,17,2.59A2,2,0,0,0,15.59,2H8A2,2,0,0,0,6,4V6H8V4h7.59l10,10-1.3,1.29,1.42,1.42,2-2A1,1,0,0,0,27.71,13.29Z"),Ce(e,r)},m(o,f){T(o,e,f),a&&a.m(e,null),p(e,l),p(e,t),p(e,n)},p(o,[f]){o[1]?a?a.p(o,f):(a=Zl(o),a.c(),a.m(e,l)):a&&(a.d(1),a=null),Ce(e,r=Ge(s,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},f&1&&{width:o[0]},f&1&&{height:o[0]},f&4&&o[2],f&8&&o[3]]))},i:j,o:j,d(o){o&&d(e),a&&a.d()}}}function va(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class wa extends Ee{constructor(e){super(),$e(this,e,va,ba,ke,{size:0,title:1})}}function Kl(i){let e,l;return{c(){e=_e("title"),l=H(i[1])},l(t){e=ge(t,"title",{});var n=k(e);l=R(n,i[1]),n.forEach(d)},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&2&&ae(l,t[1])},d(t){t&&d(e)}}}function ka(i){let e,l,t,n=i[1]&&Kl(i),a=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],s={};for(let r=0;r<a.length;r+=1)s=ce(s,a[r]);return{c(){e=_e("svg"),n&&n.c(),l=_e("path"),t=_e("path"),this.h()},l(r){e=ge(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var o=k(e);n&&n.l(o),l=ge(o,"path",{d:!0}),k(l).forEach(d),t=ge(o,"path",{d:!0}),k(t).forEach(d),o.forEach(d),this.h()},h(){y(l,"d","M23.092 10.3218L30 3.4141 28.5859 2 2 28.5859 3.4141 30l6.9077-6.9077 6.3218 6.3223a2.001 2.001 0 002.8286 0l9.9424-9.9424a2.001 2.001 0 000-2.8286zM18.0579 28l-6.3218-6.3223 9.9419-9.9419L28 18.0576zM10 14a4 4 0 114-4A4.0045 4.0045 0 0110 14zm0-6a2 2 0 101.998 2.0044A2.002 2.002 0 0010 8z"),y(t,"d","M7.4927,20.2627l1.414-1.4141L4,13.9414V4h9.9417l4.9069,4.9067,1.4141-1.414L15.3555,2.5859A2,2,0,0,0,13.9414,2H4A2,2,0,0,0,2,4v9.9414a2,2,0,0,0,.5857,1.4141Z"),Ce(e,s)},m(r,o){T(r,e,o),n&&n.m(e,null),p(e,l),p(e,t)},p(r,[o]){r[1]?n?n.p(r,o):(n=Kl(r),n.c(),n.m(e,l)):n&&(n.d(1),n=null),Ce(e,s=Ge(a,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},o&1&&{width:r[0]},o&1&&{height:r[0]},o&4&&r[2],o&8&&r[3]]))},i:j,o:j,d(r){r&&d(e),n&&n.d()}}}function Ea(i,e,l){let t,n;const a=["size","title"];let s=ye(e,a),{size:r=16}=e,{title:o=void 0}=e;return i.$$set=f=>{l(5,e=ce(ce({},e),Ne(f))),l(3,s=ye(e,a)),"size"in f&&l(0,r=f.size),"title"in f&&l(1,o=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||o),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ne(e),[r,o,n,s,t]}class $a extends Ee{constructor(e){super(),$e(this,e,Ea,ka,ke,{size:0,title:1})}}function Xl(i){let e;return{c(){e=D("div"),this.h()},l(l){e=N(l,"DIV",{id:!0,style:!0}),k(e).forEach(d),this.h()},h(){y(e,"id","svelte-infinite-scroll"),yt(e,"width","0")},m(l,t){T(l,e,t),i[11](e)},p:j,d(l){l&&d(e),i[11](null)}}}function Sa(i){let e,l=!i[1]&&!i[0]&&Xl(i);return{c(){l&&l.c(),e=he()},l(t){l&&l.l(t),e=he()},m(t,n){l&&l.m(t,n),T(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=Xl(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:j,o:j,d(t){l&&l.d(t),t&&d(e)}}}function ya(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:a=null}=e,{hasMore:s=!0}=e,{reverse:r=!1}=e,{window:o=!1}=e;const f=wt();let u=!1,_,c,m,h;const g=v=>{if(!s)return;const V=v.target;$(V,r,n)<=t?(!u&&s&&(f("loadMore"),l(8,c=V.scrollHeight),l(9,m=V.scrollTop)),l(7,u=!0)):l(7,u=!1)},$=(v,V,S)=>{const I=v.documentElement?v.documentElement:v;return V?S?I.scrollLeft:I.scrollTop:S?I.scrollWidth-I.clientWidth-I.scrollLeft:I.scrollHeight-I.clientHeight-I.scrollTop};Di(()=>{o?l(10,h=document):a?l(10,h=a):l(10,h=_.parentNode)}),ls(()=>{h&&(h.removeEventListener("scroll",g),h.removeEventListener("resize",g))});function E(v){We[v?"unshift":"push"](()=>{_=v,l(2,_)})}return i.$$set=v=>{"threshold"in v&&l(3,t=v.threshold),"horizontal"in v&&l(4,n=v.horizontal),"elementScroll"in v&&l(0,a=v.elementScroll),"hasMore"in v&&l(5,s=v.hasMore),"reverse"in v&&l(6,r=v.reverse),"window"in v&&l(1,o=v.window)},i.$$.update=()=>{i.$$.dirty&1088&&h&&(r&&l(10,h.scrollTop=h.scrollHeight,h),h.addEventListener("scroll",g),h.addEventListener("resize",g)),i.$$.dirty&1984&&u&&r&&l(10,h.scrollTop=h.scrollHeight-c+m,h)},[a,o,_,t,n,s,r,u,c,m,h,E]}class Ia extends Ee{constructor(e){super(),$e(this,e,ya,Sa,ke,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function Da(i){let e,l,t,n,a,s,r,o,f,u;t=new us({});const _=i[7].default,c=Tt(_,i,i[10],null);return{c(){e=D("div"),l=D("button"),z(t.$$.fragment),a=O(),s=D("span"),c&&c.c(),this.h()},l(m){e=N(m,"DIV",{class:!0});var h=k(e);l=N(h,"BUTTON",{class:!0});var g=k(l);B(t.$$.fragment,g),g.forEach(d),a=q(h),s=N(h,"SPAN",{class:!0});var $=k(s);c&&c.l($),$.forEach(d),h.forEach(d),this.h()},h(){l.disabled=i[1],y(l,"class","p-0 opacity-50 hover:opacity-100"),y(s,"class","truncate"),y(e,"class","removable-tag flex items-center gap-x-1")},m(m,h){T(m,e,h),p(e,l),A(t,l,null),p(e,a),p(e,s),c&&c.m(s,null),o=!0,f||(u=[Fe(n=He.call(null,l,{text:i[1]?i[2]:i[3]})),Le(l,"click",ns(i[8])),Fe(r=He.call(null,s,{text:i[4]}))],f=!0)},p(m,h){(!o||h&2)&&(l.disabled=m[1]),n&&Ke(n.update)&&h&14&&n.update.call(null,{text:m[1]?m[2]:m[3]}),c&&c.p&&(!o||h&1024)&&Vt(c,_,m,m[10],o?Ct(_,m[10],h,null):Mt(m[10]),null),r&&Ke(r.update)&&h&16&&r.update.call(null,{text:m[4]})},i(m){o||(b(t.$$.fragment,m),b(c,m),o=!0)},o(m){w(t.$$.fragment,m),w(c,m),o=!1},d(m){m&&d(e),P(t),c&&c.d(m),f=!1,ut(u)}}}function Na(i){let e,l;const t=[{type:i[0]},i[6]];let n={$$slots:{default:[Da]},$$scope:{ctx:i}};for(let a=0;a<t.length;a+=1)n=ce(n,t[a]);return e=new ct({props:n}),e.$on("click",i[9]),{c(){z(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,s){A(e,a,s),l=!0},p(a,[s]){const r=s&65?Ge(t,[s&1&&{type:a[0]},s&64&&nl(a[6])]):{};s&1054&&(r.$$scope={dirty:s,ctx:a}),e.$set(r)},i(a){l||(b(e.$$.fragment,a),l=!0)},o(a){w(e.$$.fragment,a),l=!1},d(a){P(e,a)}}}function Ta(i,e,l){const t=["type","removeDisabled","removeDisabledHelperText","closeHelperText","clickHelperText"];let n=ye(e,t),{$$slots:a={},$$scope:s}=e;const r=wt();let{type:o}=e,{removeDisabled:f=!1}=e,{removeDisabledHelperText:u=void 0}=e,{closeHelperText:_=void 0}=e,{clickHelperText:c=void 0}=e;const m=()=>r("remove");function h(g){xe.call(this,i,g)}return i.$$set=g=>{e=ce(ce({},e),Ne(g)),l(6,n=ye(e,t)),"type"in g&&l(0,o=g.type),"removeDisabled"in g&&l(1,f=g.removeDisabled),"removeDisabledHelperText"in g&&l(2,u=g.removeDisabledHelperText),"closeHelperText"in g&&l(3,_=g.closeHelperText),"clickHelperText"in g&&l(4,c=g.clickHelperText),"$$scope"in g&&l(10,s=g.$$scope)},[o,f,u,_,c,r,n,a,m,h,s]}class bl extends Ee{constructor(e){super(),$e(this,e,Ta,Na,ke,{type:0,removeDisabled:1,removeDisabledHelperText:2,closeHelperText:3,clickHelperText:4})}}function Va(i){let e,l=(i[2]?"":i[5])+"",t,n,a=i[0][i[1].op]+"",s,r,o;return{c(){e=D("span"),t=H(l),n=O(),s=H(a),r=O(),o=H(i[4]),this.h()},l(f){e=N(f,"SPAN",{class:!0});var u=k(e);t=R(u,l),u.forEach(d),n=q(f),s=R(f,a),r=q(f),o=R(f,i[4]),this.h()},h(){y(e,"class","font-mono")},m(f,u){T(f,e,u),p(e,t),T(f,n,u),T(f,s,u),T(f,r,u),T(f,o,u)},p(f,u){u&36&&l!==(l=(f[2]?"":f[5])+"")&&ae(t,l),u&2&&a!==(a=f[0][f[1].op]+"")&&ae(s,a),u&16&&ae(o,f[4])},d(f){f&&d(e),f&&d(n),f&&d(s),f&&d(r),f&&d(o)}}}function Ma(i){let e,l,t=(i[2]?"":i[5])+"",n;return{c(){e=H("lacks "),l=D("span"),n=H(t),this.h()},l(a){e=R(a,"lacks "),l=N(a,"SPAN",{class:!0});var s=k(l);n=R(s,t),s.forEach(d),this.h()},h(){y(l,"class","font-mono")},m(a,s){T(a,e,s),T(a,l,s),p(l,n)},p(a,s){s&36&&t!==(t=(a[2]?"":a[5])+"")&&ae(n,t)},d(a){a&&d(e),a&&d(l)}}}function Ca(i){let e,l,t=(i[2]?"":i[5])+"",n;return{c(){e=H("has "),l=D("span"),n=H(t),this.h()},l(a){e=R(a,"has "),l=N(a,"SPAN",{class:!0});var s=k(l);n=R(s,t),s.forEach(d),this.h()},h(){y(l,"class","font-mono")},m(a,s){T(a,e,s),T(a,l,s),p(l,n)},p(a,s){s&36&&t!==(t=(a[2]?"":a[5])+"")&&ae(n,t)},d(a){a&&d(e),a&&d(l)}}}function za(i){let e;function l(a,s){return a[1].op==="exists"?Ca:a[1].op==="not_exists"?Ma:Va}let t=l(i),n=t(i);return{c(){n.c(),e=he()},l(a){n.l(a),e=he()},m(a,s){n.m(a,s),T(a,e,s)},p(a,s){t===(t=l(a))&&n?n.p(a,s):(n.d(1),n=t(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&d(e)}}}function Aa(i){let e,l,t,n,a,s;return l=new bl({props:{interactive:!0,type:"magenta",$$slots:{default:[za]},$$scope:{ctx:i}}}),l.$on("click",i[12]),l.$on("remove",i[13]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),this.h()},h(){y(e,"class","filter-pill items-center")},m(r,o){T(r,e,o),A(l,e,null),n=!0,a||(s=Fe(t=He.call(null,e,{text:i[6]})),a=!0)},p(r,[o]){const f={};o&16438&&(f.$$scope={dirty:o,ctx:r}),l.$set(f),t&&Ke(t.update)&&o&64&&t.update.call(null,{text:r[6]})},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l),a=!1,s()}}}function Pa(i,e,l){let t,n,a,s,r,o,f;const u={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists",not_exists:"not exists"};let{filter:_}=e,{hidePath:c=!1}=e,{schema:m}=e;const h=lt();Pe(i,h,E=>l(7,f=E));const g=()=>ht({command:_t.EditFilter,namespace:f.namespace,datasetName:f.datasetName,path:s}),$=()=>h.removeFilter(_);return i.$$set=E=>{"filter"in E&&l(1,_=E.filter),"hidePath"in E&&l(2,c=E.hidePath),"schema"in E&&l(9,m=E.schema)},i.$$.update=()=>{i.$$.dirty&514&&l(11,t=rl(m,typeof _.path=="string"?[_.path]:_.path)),i.$$.dirty&2048&&l(10,n=t!=null?cs(t):null),i.$$.dirty&2&&l(4,a=Me(_.value||"false")),i.$$.dirty&2&&l(3,s=al(_.path)),i.$$.dirty&26&&l(6,r=_.op==="exists"?`has ${et(s)}`:_.op==="not_exists"?`lacks ${et(s)}`:`${et(s)} ${u[_.op]} ${a}`),i.$$.dirty&1032&&l(5,o=qt(s,n))},[u,_,c,s,a,o,r,f,h,m,n,t,g,$]}class Xi extends Ee{constructor(e){super(),$e(this,e,Pa,Aa,ke,{FILTER_SHORTHANDS:0,filter:1,hidePath:2,schema:9})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function xl(i){let e,l,t,n,a;return l=new Rr({props:{title:"Previous group",size:24}}),{c(){e=D("button"),z(l.$$.fragment)},l(s){e=N(s,"BUTTON",{});var r=k(e);B(l.$$.fragment,r),r.forEach(d)},m(s,r){T(s,e,r),A(l,e,null),t=!0,n||(a=Le(e,"click",i[13]),n=!0)},p:j,i(s){t||(b(l.$$.fragment,s),t=!0)},o(s){w(l.$$.fragment,s),t=!1},d(s){s&&d(e),P(l),n=!1,a()}}}function Ba(i){let e,l;return e=new nt({props:{class:"!w-40"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Fa(i){let e=Me(i[2])+"",l;return{c(){l=H(e)},l(t){l=R(t,e)},m(t,n){T(t,l,n)},p(t,n){n&4&&e!==(e=Me(t[2])+"")&&ae(l,e)},i:j,o:j,d(t){t&&d(l)}}}function en(i){let e,l,t,n,a;return l=new qr({props:{title:"Next group",size:24}}),{c(){e=D("button"),z(l.$$.fragment)},l(s){e=N(s,"BUTTON",{});var r=k(e);B(l.$$.fragment,r),r.forEach(d)},m(s,r){T(s,e,r),A(l,e,null),t=!0,n||(a=Le(e,"click",i[14]),n=!0)},p:j,i(s){t||(b(l.$$.fragment,s),t=!0)},o(s){w(l.$$.fragment,s),t=!1},d(s){s&&d(e),P(l),n=!1,a()}}}function Ha(i){let e,l,t,n,a,s,r,o,f,u,_=qt(i[0].path)+"",c,m,h,g,$=i[3]!=null&&i[3]>0&&xl(i);const E=[Fa,Ba],v=[];function V(I,M){return I[2]!=null?0:1}s=V(i),r=v[s]=E[s](i);let S=i[3]!=null&&i[1]&&i[3]<i[1].length-1&&en(i);return{c(){e=D("div"),l=D("div"),$&&$.c(),t=O(),n=D("div"),a=D("div"),r.c(),o=O(),f=D("div"),u=D("code"),c=H(_),m=O(),h=D("div"),S&&S.c(),this.h()},l(I){e=N(I,"DIV",{class:!0});var M=k(e);l=N(M,"DIV",{class:!0});var C=k(l);$&&$.l(C),C.forEach(d),t=q(M),n=N(M,"DIV",{class:!0});var L=k(n);a=N(L,"DIV",{class:!0});var G=k(a);r.l(G),G.forEach(d),o=q(L),f=N(L,"DIV",{class:!0});var se=k(f);u=N(se,"CODE",{});var Q=k(u);c=R(Q,_),Q.forEach(d),se.forEach(d),L.forEach(d),m=q(M),h=N(M,"DIV",{class:!0});var K=k(h);S&&S.l(K),K.forEach(d),M.forEach(d),this.h()},h(){y(l,"class","flex-0"),y(a,"class","min-w-0 max-w-lg truncate text-center text-lg"),y(f,"class","flex-0 text-center text-gray-600"),y(n,"class","flex-col items-center justify-items-center"),y(h,"class","flex-0"),y(e,"class","mx-5 my-2 flex items-center justify-between rounded-lg border border-neutral-300 bg-neutral-100 py-2")},m(I,M){T(I,e,M),p(e,l),$&&$.m(l,null),p(e,t),p(e,n),p(n,a),v[s].m(a,null),p(n,o),p(n,f),p(f,u),p(u,c),p(e,m),p(e,h),S&&S.m(h,null),g=!0},p(I,[M]){I[3]!=null&&I[3]>0?$?($.p(I,M),M&8&&b($,1)):($=xl(I),$.c(),b($,1),$.m(l,null)):$&&(le(),w($,1,1,()=>{$=null}),ne());let C=s;s=V(I),s===C?v[s].p(I,M):(le(),w(v[C],1,1,()=>{v[C]=null}),ne(),r=v[s],r?r.p(I,M):(r=v[s]=E[s](I),r.c()),b(r,1),r.m(a,null)),(!g||M&1)&&_!==(_=qt(I[0].path)+"")&&ae(c,_),I[3]!=null&&I[1]&&I[3]<I[1].length-1?S?(S.p(I,M),M&10&&b(S,1)):(S=en(I),S.c(),b(S,1),S.m(h,null)):S&&(le(),w(S,1,1,()=>{S=null}),ne())},i(I){g||(b($),b(r),b(S),g=!0)},o(I){w($),w(r),w(S),g=!1},d(I){I&&d(e),$&&$.d(),v[s].d(),S&&S.d()}}}function Ra(i,e,l){let t,n,a,s,r,o,f,u,_=j,c=()=>(_(),_=Be(r,S=>l(11,u=S)),r),m;i.$$.on_destroy.push(()=>_());let{groupBy:h}=e,{schema:g}=e,$=lt();Pe(i,$,S=>l(12,m=S));function E(S){if(t==null||o==null||f==null)return;const I=S?o[f+1][0]:o[f-1][0];$.setGroupBy(h.path,I)}const v=()=>E(!1),V=()=>E(!0);return i.$$set=S=>{"groupBy"in S&&l(0,h=S.groupBy),"schema"in S&&l(7,g=S.schema)},i.$$.update=()=>{var S;i.$$.dirty&1&&l(2,t=h.value),i.$$.dirty&129&&l(10,n=rl(g,h.path)),i.$$.dirty&1024&&l(9,a=Qt(n.dtype)&&!n.categorical?"value":"count"),i.$$.dirty&512&&l(8,s=a==="value"?"ASC":"DESC"),i.$$.dirty&4865&&c(l(4,r=ol(m.namespace,m.datasetName,{leaf_path:h.path,sort_by:a,sort_order:s}))),i.$$.dirty&2048&&l(1,o=(S=u.data)==null?void 0:S.counts.filter(I=>I[0]!=null)),i.$$.dirty&7&&t==null&&o!=null&&o[0]!=null&&o[0][0]!=null&&(l(2,t=o[0][0]),$.setGroupBy(h.path,t)),i.$$.dirty&6&&l(3,f=o==null?void 0:o.findIndex(I=>I[0]===t))},[h,o,t,f,r,$,E,g,s,a,n,u,m,v,V]}class La extends Ee{constructor(e){super(),$e(this,e,Ra,Ha,ke,{groupBy:0,schema:7})}}const Oa=i=>({item:i&2048}),tn=i=>({item:i[11]}),qa=i=>({}),ln=i=>({item:i[11]});function ja(i){let e,l,t;return l=new Sr({props:{inline:!0}}),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=k(e);B(l.$$.fragment,a),a.forEach(d),this.h()},h(){y(e,"class","h-6 w-16 overflow-hidden")},m(n,a){T(n,e,a),A(l,e,null),t=!0},p:j,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&d(e),P(l)}}}function Ua(i){let e,l,t;function n(s){i[8](s)}let a={size:"sm",type:"inline",selectedId:i[1]!=null?i[1]:Nt,items:i[4],$$slots:{default:[Ga,({item:s})=>({11:s}),({item:s})=>s?2048:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(a.open=i[0]),e=new Wi({props:a}),We.push(()=>Je(e,"open",n)),e.$on("select",i[5]),{c(){z(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,r){A(e,s,r),t=!0},p(s,r){const o={};r&2&&(o.selectedId=s[1]!=null?s[1]:Nt),r&16&&(o.items=s[4]),r&2560&&(o.$$scope={dirty:r,ctx:s}),!l&&r&1&&(l=!0,o.open=s[0],Ze(()=>l=!1)),e.$set(o)},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function Ya(i){let e;const l=i[7].default,t=Tt(l,i,i[9],tn);return{c(){t&&t.c()},l(n){t&&t.l(n)},m(n,a){t&&t.m(n,a),e=!0},p(n,a){t&&t.p&&(!e||a&2560)&&Vt(t,l,n,n[9],e?Ct(l,n[9],a,Oa):Mt(n[9]),tn)},i(n){e||(b(t,n),e=!0)},o(n){w(t,n),e=!1},d(n){t&&t.d(n)}}}function Qa(i){let e,l;return{c(){e=D("div"),l=H("None"),this.h()},l(t){e=N(t,"DIV",{class:!0});var n=k(e);l=R(n,"None"),n.forEach(d),this.h()},h(){y(e,"class","flex items-center justify-between gap-x-1")},m(t,n){T(t,e,n),p(e,l)},p:j,i:j,o:j,d(t){t&&d(e)}}}function Ga(i){let e,l,t,n;const a=[Qa,Ya],s=[];function r(o,f){return o[11].id===Nt?0:1}return e=r(i),l=s[e]=a[e](i),{c(){l.c(),t=he()},l(o){l.l(o),t=he()},m(o,f){s[e].m(o,f),T(o,t,f),n=!0},p(o,f){let u=e;e=r(o),e===u?s[e].p(o,f):(le(),w(s[u],1,1,()=>{s[u]=null}),ne(),l=s[e],l?l.p(o,f):(l=s[e]=a[e](o),l.c()),b(l,1),l.m(t.parentNode,t))},i(o){n||(b(l),n=!0)},o(o){w(l),n=!1},d(o){s[e].d(o),o&&d(t)}}}function Wa(i){let e,l,t,n,a,s,r,o;const f=i[7].icon,u=Tt(f,i,i[9],ln),_=[Ua,ja],c=[];function m(h,g){return h[2]?0:1}return t=m(i),n=c[t]=_[t](i),{c(){e=D("div"),u&&u.c(),l=O(),n.c(),this.h()},l(h){e=N(h,"DIV",{class:!0});var g=k(e);u&&u.l(g),l=q(g),n.l(g),g.forEach(d),this.h()},h(){y(e,"class","drop-pill flex items-center px-2 svelte-99k9u5"),re(e,"active",i[1]!=null)},m(h,g){T(h,e,g),u&&u.m(e,null),p(e,l),c[t].m(e,null),s=!0,r||(o=Fe(a=He.call(null,e,!i[0]&&i[3]?{text:i[3]}:{text:""})),r=!0)},p(h,[g]){u&&u.p&&(!s||g&512)&&Vt(u,f,h,h[9],s?Ct(f,h[9],g,qa):Mt(h[9]),ln);let $=t;t=m(h),t===$?c[t].p(h,g):(le(),w(c[$],1,1,()=>{c[$]=null}),ne(),n=c[t],n?n.p(h,g):(n=c[t]=_[t](h),n.c()),b(n,1),n.m(e,null)),a&&Ke(a.update)&&g&9&&a.update.call(null,!h[0]&&h[3]?{text:h[3]}:{text:""}),(!s||g&2)&&re(e,"active",h[1]!=null)},i(h){s||(b(u,h),b(n),s=!0)},o(h){w(u,h),w(n),s=!1},d(h){h&&d(e),u&&u.d(h),c[t].d(),r=!1,o()}}}const Nt="__none__";function Ja(i,e,l){let t,{$$slots:n={},$$scope:a}=e,{title:s}=e,{selectedId:r=null}=e,{items:o=null}=e,{tooltip:f=void 0}=e;const u=wt();let{open:_=!1}=e;function c(h){l(1,r=h.detail.selectedId==Nt?null:h.detail.selectedId),u("select",{selectedId:r,selectedItem:h.detail.selectedItem})}function m(h){_=h,l(0,_)}return i.$$set=h=>{"title"in h&&l(6,s=h.title),"selectedId"in h&&l(1,r=h.selectedId),"items"in h&&l(2,o=h.items),"tooltip"in h&&l(3,f=h.tooltip),"open"in h&&l(0,_=h.open),"$$scope"in h&&l(9,a=h.$$scope)},i.$$.update=()=>{i.$$.dirty&69&&l(4,t=[{id:Nt,text:_?"None":s},...o||[]])},[_,r,o,f,t,c,s,n,m,a]}class xi extends Ee{constructor(e){super(),$e(this,e,Ja,Wa,ke,{title:6,selectedId:1,items:2,tooltip:3,open:0})}}function nn(i){var l;const e=(l=i[2])==null?void 0:l.find(function(...n){return i[12](i[15],...n)});i[16]=e}function Kt(i){const e=i.slice(),l=e[16].stats.approx_count_distinct;return e[17]=l,e}function sn(i){let e,l,t=i[16].text+"",n,a,s,r=i[16].stats&&rn(Kt(i));return{c(){e=D("div"),l=D("span"),n=H(t),s=O(),r&&r.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);l=N(f,"SPAN",{title:!0,class:!0});var u=k(l);n=R(u,t),u.forEach(d),s=q(f),r&&r.l(f),f.forEach(d),this.h()},h(){y(l,"title",a=i[16].text),y(l,"class","truncate text-sm"),y(e,"class","flex items-center justify-between gap-x-1")},m(o,f){T(o,e,f),p(e,l),p(l,n),p(e,s),r&&r.m(e,null)},p(o,f){f&32772&&t!==(t=o[16].text+"")&&ae(n,t),f&32772&&a!==(a=o[16].text)&&y(l,"title",a),o[16].stats?r?r.p(Kt(o),f):(r=rn(Kt(o)),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},d(o){o&&d(e),r&&r.d()}}}function rn(i){let e,l,t=i[17].toLocaleString()+"",n,a,s=i[17]===1?"":"s",r;return{c(){e=D("span"),l=H("~"),n=H(t),a=H(" group"),r=H(s),this.h()},l(o){e=N(o,"SPAN",{class:!0});var f=k(e);l=R(f,"~"),n=R(f,t),a=R(f," group"),r=R(f,s),f.forEach(d),this.h()},h(){y(e,"class","text-xs text-gray-800")},m(o,f){T(o,e,f),p(e,l),p(e,n),p(e,a),p(e,r)},p(o,f){f&32772&&t!==(t=o[17].toLocaleString()+"")&&ae(n,t),f&32772&&s!==(s=o[17]===1?"":"s")&&ae(r,s)},d(o){o&&d(e)}}}function Za(i){nn(i);let e,l=i[16]&&sn(i);return{c(){l&&l.c(),e=he()},l(t){l&&l.l(t),e=he()},m(t,n){l&&l.m(t,n),T(t,e,n)},p(t,n){nn(t),t[16]?l?l.p(t,n):(l=sn(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&d(e)}}}function Ka(i){let e,l,t;return l=new na({props:{title:"Group by"}}),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(n){e=N(n,"DIV",{slot:!0});var a=k(e);B(l.$$.fragment,a),a.forEach(d),this.h()},h(){y(e,"slot","icon")},m(n,a){T(n,e,a),A(l,e,null),t=!0},p:j,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&d(e),P(l)}}}function Xa(i){let e,l,t;function n(s){i[13](s)}let a={title:"Group by",items:i[2],selectedId:i[1],tooltip:i[5]?`Grouping by ${et(i[5])}`:null,$$slots:{icon:[Ka,({item:s})=>({15:s}),({item:s})=>s?32768:0],default:[Za,({item:s})=>({15:s}),({item:s})=>s?32768:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(a.open=i[0]),e=new xi({props:a}),We.push(()=>Je(e,"open",n)),e.$on("select",i[7]),{c(){z(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,r){A(e,s,r),t=!0},p(s,[r]){const o={};r&4&&(o.items=s[2]),r&2&&(o.selectedId=s[1]),r&32&&(o.tooltip=s[5]?`Grouping by ${et(s[5])}`:null),r&294916&&(o.$$scope={dirty:r,ctx:s}),!l&&r&1&&(l=!0,o.open=s[0],Ze(()=>l=!1)),e.$set(o)},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function xa(i,e,l){let t,n,a,s,r,o,f,u=j,_=()=>(u(),u=Be(r,M=>l(9,f=M)),r),c,m,h=j,g=()=>(h(),h=Be(a,M=>l(11,m=M)),a);i.$$.on_destroy.push(()=>u()),i.$$.on_destroy.push(()=>h());const $=lt();Pe(i,$,M=>l(10,c=M));let E=!1;function v(M,C){return M.filter(L=>L.data!=null&&L.data.total_count>0).map(L=>L.data).map(L=>({id:st(L.path),text:C?et(L.path):Ci(L.path),stats:L}))}function V(M){if(M.detail.selectedId==null){$.setGroupBy(null,null);return}const C=M.detail.selectedItem;$.setGroupBy(C.stats.path,null),l(1,t=M.detail.selectedId)}const S=(M,C)=>C===M;function I(M){E=M,l(0,E)}return i.$$.update=()=>{var M;i.$$.dirty&1024&&l(1,t=c.groupBy?st(c.groupBy.path):null),i.$$.dirty&1024&&l(5,n=(M=c.groupBy)==null?void 0:M.path),i.$$.dirty&1024&&g(l(4,a=kt(c.namespace,c.datasetName))),i.$$.dirty&2048&&l(8,s=m.data?gt(m.data).filter(C=>(C.categorical||!Qt(C.dtype))&&C.dtype!=null&&C.dtype!=="string_span"&&C.dtype!=="embedding"):null),i.$$.dirty&1280&&_(l(3,r=Mi(c.namespace,c.datasetName,s==null?void 0:s.map(C=>C.path),s!=null))),i.$$.dirty&513&&l(2,o=v(f,E))},[E,t,o,r,a,n,$,V,s,f,c,m,S,I]}class eo extends Ee{constructor(e){super(),$e(this,e,xa,Xa,ke,{})}}function an(i){let e,l=i[0].concept_namespace+"",t,n,a=i[0].concept_name+"",s;return{c(){e=D("div"),t=H(l),n=H(" / "),s=H(a),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);t=R(o,l),n=R(o," / "),s=R(o,a),o.forEach(d),this.h()},h(){y(e,"class","mb-2 w-full text-center text-xs")},m(r,o){T(r,e,o),p(e,t),p(e,n),p(e,s)},p(r,o){o&1&&l!==(l=r[0].concept_namespace+"")&&ae(t,l),o&1&&a!==(a=r[0].concept_name+"")&&ae(s,a)},d(r){r&&d(e)}}}function to(i){let e=et(i[0].path)+"",l,t,n=i[0].type+"",a;return{c(){l=H(e),t=H(": "),a=H(n)},l(s){l=R(s,e),t=R(s,": "),a=R(s,n)},m(s,r){T(s,l,r),T(s,t,r),T(s,a,r)},p(s,r){r&1&&e!==(e=et(s[0].path)+"")&&ae(l,e),r&1&&n!==(n=s[0].type+"")&&ae(a,n)},d(s){s&&d(l),s&&d(t),s&&d(a)}}}function on(i){let e,l,t;return l=new Qi({props:{embedding:i[0].embedding}}),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=k(e);B(l.$$.fragment,a),a.forEach(d),this.h()},h(){y(e,"class","ml-2")},m(n,a){T(n,e,a),A(l,e,null),t=!0},p(n,a){const s={};a&1&&(s.embedding=n[0].embedding),l.$set(s)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&d(e),P(l)}}}function fn(i){let e,l;return{c(){e=D("div"),l=H(i[2]),this.h()},l(t){e=N(t,"DIV",{class:!0});var n=k(e);l=R(n,i[2]),n.forEach(d),this.h()},h(){y(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&4&&ae(l,t[2])},d(t){t&&d(e)}}}function lo(i){let e,l,t,n,a,s,r,o,f=i[0].type==="concept"&&an(i);n=new ct({props:{type:i[1],$$slots:{default:[to]},$$scope:{ctx:i}}});let u=(i[0].type==="semantic"||i[0].type==="concept")&&on(i),_=i[2]&&fn(i);return{c(){f&&f.c(),e=O(),l=D("div"),t=D("div"),z(n.$$.fragment),a=O(),u&&u.c(),s=O(),_&&_.c(),r=he(),this.h()},l(c){f&&f.l(c),e=q(c),l=N(c,"DIV",{class:!0});var m=k(l);t=N(m,"DIV",{class:!0});var h=k(t);B(n.$$.fragment,h),h.forEach(d),a=q(m),u&&u.l(m),m.forEach(d),s=q(c),_&&_.l(c),r=he(),this.h()},h(){y(t,"class","whitespace-nowrap"),y(l,"class","flex items-center justify-items-center")},m(c,m){f&&f.m(c,m),T(c,e,m),T(c,l,m),p(l,t),A(n,t,null),p(l,a),u&&u.m(l,null),T(c,s,m),_&&_.m(c,m),T(c,r,m),o=!0},p(c,[m]){c[0].type==="concept"?f?f.p(c,m):(f=an(c),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const h={};m&2&&(h.type=c[1]),m&9&&(h.$$scope={dirty:m,ctx:c}),n.$set(h),c[0].type==="semantic"||c[0].type==="concept"?u?(u.p(c,m),m&1&&b(u,1)):(u=on(c),u.c(),b(u,1),u.m(l,null)):u&&(le(),w(u,1,1,()=>{u=null}),ne()),c[2]?_?_.p(c,m):(_=fn(c),_.c(),_.m(r.parentNode,r)):_&&(_.d(1),_=null)},i(c){o||(b(n.$$.fragment,c),b(u),o=!0)},o(c){w(n.$$.fragment,c),w(u),o=!1},d(c){f&&f.d(c),c&&d(e),c&&d(l),P(n),u&&u.d(),c&&d(s),_&&_.d(c),c&&d(r)}}}function no(i,e,l){let t,{search:n}=e,{tagType:a="outline"}=e;return i.$$set=s=>{"search"in s&&l(0,n=s.search),"tagType"in s&&l(1,a=s.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.type==="concept"?"":n.query)},[n,a,t]}class un extends Ee{constructor(e){super(),$e(this,e,no,lo,ke,{search:0,tagType:1})}}function io(i){let e,l=et(i[0].path)+"",t,n,a,s;return{c(){e=D("span"),t=H(l),n=H(' has "'),a=H(i[2]),s=H('"'),this.h()},l(r){e=N(r,"SPAN",{class:!0});var o=k(e);t=R(o,l),o.forEach(d),n=R(r,' has "'),a=R(r,i[2]),s=R(r,'"'),this.h()},h(){y(e,"class","font-mono")},m(r,o){T(r,e,o),p(e,t),T(r,n,o),T(r,a,o),T(r,s,o)},p(r,o){o&1&&l!==(l=et(r[0].path)+"")&&ae(t,l),o&4&&ae(a,r[2])},d(r){r&&d(e),r&&d(n),r&&d(a),r&&d(s)}}}function so(i){let e,l,t,n,a,s;return l=new bl({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[io]},$$scope:{ctx:i}}}),l.$on("click",i[7]),l.$on("remove",i[8]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),this.h()},h(){y(e,"class","search-pill items-center text-left")},m(r,o){T(r,e,o),A(l,e,null),n=!0,a||(s=Fe(t=He.call(null,e,{component:un,props:{search:i[0],tagType:i[1]}})),a=!0)},p(r,[o]){const f={};o&2&&(f.type=r[1]),o&1029&&(f.$$scope={dirty:o,ctx:r}),l.$set(f),t&&Ke(t.update)&&o&3&&t.update.call(null,{component:un,props:{search:r[0],tagType:r[1]}})},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l),a=!1,s()}}}function ro(i,e,l){let t,n,a,s,r,o=j,f=()=>(o(),o=Be(t,g=>l(4,r=g)),t);i.$$.on_destroy.push(()=>o());let{search:u}=e;const _={keyword:"outline",semantic:"teal",concept:"green",metadata:"magenta"},c=lt();Pe(i,c,g=>l(6,s=g));function m(g){xe.call(this,i,g)}const h=()=>c.removeSearch(u,(r==null?void 0:r.data)||null);return i.$$set=g=>{"search"in g&&l(0,u=g.search)},i.$$.update=()=>{i.$$.dirty&64&&f(l(3,t=Et(s.namespace,s.datasetName,$t(s)))),i.$$.dirty&1&&l(2,n=u.type==="concept"?u.concept_name:u.query),i.$$.dirty&1&&l(1,a=u.type!=null?_[u.type]:"outline")},[u,a,n,t,r,c,s,m,h]}class es extends Ee{constructor(e){super(),$e(this,e,ro,so,ke,{search:0})}}function cn(i){var l;const e=(l=i[3])==null?void 0:l.find(function(...n){return i[10](i[15],...n)});i[16]=e}function dn(i){let e,l=i[16].text+"",t,n;return{c(){e=D("div"),t=H(l),this.h()},l(a){e=N(a,"DIV",{title:!0,class:!0});var s=k(e);t=R(s,l),s.forEach(d),this.h()},h(){y(e,"title",n=i[16].text),y(e,"class","truncate text-sm")},m(a,s){T(a,e,s),p(e,t)},p(a,s){s&32776&&l!==(l=a[16].text+"")&&ae(t,l),s&32776&&n!==(n=a[16].text)&&y(e,"title",n)},d(a){a&&d(e)}}}function ao(i){cn(i);let e,l=i[16]&&dn(i);return{c(){l&&l.c(),e=he()},l(t){l&&l.l(t),e=he()},m(t,n){l&&l.m(t,n),T(t,e,n)},p(t,n){cn(t),t[16]?l?l.p(t,n):(l=dn(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},d(t){l&&l.d(t),t&&d(e)}}}function oo(i){let e,l;return e=new Ki({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function fo(i){let e,l;return e=new Zi({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function uo(i){let e,l,t,n,a,s,r,o,f;const u=[fo,oo],_=[];function c(m,h){var g;return((g=m[1])==null?void 0:g.order)==="ASC"?0:1}return t=c(i),n=_[t]=u[t](i),{c(){e=D("div"),l=D("button"),n.c(),this.h()},l(m){e=N(m,"DIV",{slot:!0});var h=k(e);l=N(h,"BUTTON",{class:!0});var g=k(l);n.l(g),g.forEach(d),h.forEach(d),this.h()},h(){y(l,"class","px-1 py-2"),l.disabled=a=i[1]==null,y(e,"slot","icon")},m(m,h){var g;T(m,e,h),p(e,l),_[t].m(l,null),r=!0,o||(f=[Fe(s=He.call(null,l,{text:((g=i[1])==null?void 0:g.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),Le(l,"click",i[7])],o=!0)},p(m,h){var $;let g=t;t=c(m),t!==g&&(le(),w(_[g],1,1,()=>{_[g]=null}),ne(),n=_[t],n||(n=_[t]=u[t](m),n.c()),b(n,1),n.m(l,null)),(!r||h&2&&a!==(a=m[1]==null))&&(l.disabled=a),s&&Ke(s.update)&&h&2&&s.update.call(null,{text:(($=m[1])==null?void 0:$.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})},i(m){r||(b(n),r=!0)},o(m){w(n),r=!1},d(m){m&&d(e),_[t].d(),o=!1,ut(f)}}}function co(i){let e,l,t,n;function a(r){i[11](r)}let s={title:"Sort",selectedId:i[2],items:i[3],$$slots:{icon:[uo,({item:r})=>({15:r}),({item:r})=>r?32768:0],default:[ao,({item:r})=>({15:r}),({item:r})=>r?32768:0]},$$scope:{ctx:i}};return i[0]!==void 0&&(s.open=i[0]),l=new xi({props:s}),We.push(()=>Je(l,"open",a)),l.$on("select",i[6]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),this.h()},h(){y(e,"class","sort-container flex flex-row items-center gap-x-1 md:w-fit")},m(r,o){T(r,e,o),A(l,e,null),n=!0},p(r,[o]){const f={};o&4&&(f.selectedId=r[2]),o&8&&(f.items=r[3]),o&163850&&(f.$$scope={dirty:o,ctx:r}),!t&&o&1&&(t=!0,f.open=r[0],Ze(()=>t=!1)),l.$set(f)},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l)}}}function mo(i,e,l){let t,n,a,s,r,o=j,f=()=>(o(),o=Be(t,S=>l(8,r=S)),t),u;i.$$.on_destroy.push(()=>o());let _=lt();Pe(i,_,S=>l(9,u=S));let c=!1;function m(S){var M;if(S.query.sort_by&&S.query.sort_by.length>0)return{path:al(S.query.sort_by[0]),order:S.query.sort_order||"DESC"};const I=(((M=r==null?void 0:r.data)==null?void 0:M.sorts)||[])[0];return I==null||xt(I.path,[el])?null:I}let h={};function g(S,I){return zi(S).filter(M=>M.dtype!="embedding"&&M.dtype!="string_span").map(M=>({id:st(M.path),path:M.path,text:I?et(M.path):Ci(M.path),disabled:!1}))}const $=S=>{if(S.detail.selectedId==null){_.clearSorts();return}const I=S.detail.selectedItem;_.setSortBy(I.path),l(2,a=S.detail.selectedId)},E=()=>{n!=null&&_.setSortBy(n.path),_.setSortOrder((n==null?void 0:n.order)==="ASC"?"DESC":"ASC")},v=(S,I)=>I===S;function V(S){c=S,l(0,c)}return i.$$.update=()=>{var S;if(i.$$.dirty&512&&f(l(4,t=Et(u.namespace,u.datasetName,$t(u)))),i.$$.dirty&512&&l(1,n=m(u)),i.$$.dirty&256)for(const I of((S=r==null?void 0:r.data)==null?void 0:S.search_results)||[])h[st(I.result_path)]=I;i.$$.dirty&2&&l(2,a=(n==null?void 0:n.path)&&st(n.path)),i.$$.dirty&257&&l(3,s=r.data&&g(r.data.schema,c))},[c,n,a,s,t,_,$,E,r,u,v,V]}class ho extends Ee{constructor(e){super(),$e(this,e,mo,co,ke,{})}}function mn(i,e,l){const t=i.slice();return t[20]=e[l],t}function hn(i,e,l){const t=i.slice();return t[23]=e[l],t}function _n(i,e,l){const t=i.slice();return t[26]=e[l],t}function _o(i){let e;return{c(){e=H("Filters")},l(l){e=R(l,"Filters")},m(l,t){T(l,e,t)},p:j,i:j,o:j,d(l){l&&d(e)}}}function go(i){let e,l,t,n=i[14],a=[];for(let o=0;o<n.length;o+=1)a[o]=bn(hn(i,n,o));const s=o=>w(a[o],1,1,()=>{a[o]=null});let r=i[6]!=null&&i[6].length>0&&vn(i);return{c(){e=D("div");for(let o=0;o<a.length;o+=1)a[o].c();l=O(),r&&r.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);for(let u=0;u<a.length;u+=1)a[u].l(f);l=q(f),r&&r.l(f),f.forEach(d),this.h()},h(){y(e,"class","flex flex-grow flex-row gap-x-4")},m(o,f){T(o,e,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);p(e,l),r&&r.m(e,null),t=!0},p(o,f){if(f&114696){n=o[14];let u;for(u=0;u<n.length;u+=1){const _=hn(o,n,u);a[u]?(a[u].p(_,f),b(a[u],1)):(a[u]=bn(_),a[u].c(),b(a[u],1),a[u].m(e,l))}for(le(),u=n.length;u<a.length;u+=1)s(u);ne()}o[6]!=null&&o[6].length>0?r?(r.p(o,f),f&64&&b(r,1)):(r=vn(o),r.c(),b(r,1),r.m(e,null)):r&&(le(),w(r,1,1,()=>{r=null}),ne())},i(o){if(!t){for(let f=0;f<n.length;f+=1)b(a[f]);b(r),t=!0}},o(o){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)w(a[f]);w(r),t=!1},d(o){o&&d(e),tt(a,o),r&&r.d()}}}function gn(i){let e,l,t=i[15][i[23]]+"",n,a,s,r,o,f=i[3][i[23]],u=[];for(let c=0;c<f.length;c+=1)u[c]=pn(_n(i,f,c));const _=c=>w(u[c],1,1,()=>{u[c]=null});return{c(){e=D("div"),l=D("div"),n=H(t),a=O(),s=D("div");for(let c=0;c<u.length;c+=1)u[c].c();r=O(),this.h()},l(c){e=N(c,"DIV",{class:!0});var m=k(e);l=N(m,"DIV",{class:!0});var h=k(l);n=R(h,t),h.forEach(d),a=q(m),s=N(m,"DIV",{class:!0});var g=k(s);for(let $=0;$<u.length;$+=1)u[$].l(g);g.forEach(d),r=q(m),m.forEach(d),this.h()},h(){y(l,"class","text-xs font-light"),y(s,"class","flex flex-row gap-x-1"),y(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-7vw0ck")},m(c,m){T(c,e,m),p(e,l),p(l,n),p(e,a),p(e,s);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(s,null);p(e,r),o=!0},p(c,m){if(m&81928){f=c[3][c[23]];let h;for(h=0;h<f.length;h+=1){const g=_n(c,f,h);u[h]?(u[h].p(g,m),b(u[h],1)):(u[h]=pn(g),u[h].c(),b(u[h],1),u[h].m(s,null))}for(le(),h=f.length;h<u.length;h+=1)_(h);ne()}},i(c){if(!o){for(let m=0;m<f.length;m+=1)b(u[m]);o=!0}},o(c){u=u.filter(Boolean);for(let m=0;m<u.length;m+=1)w(u[m]);o=!1},d(c){c&&d(e),tt(u,c)}}}function pn(i){let e,l;function t(){return i[18](i[26])}return e=new es({props:{search:i[26]}}),e.$on("click",t),{c(){z(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){A(e,n,a),l=!0},p(n,a){i=n;const s={};a&8&&(s.search=i[26]),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){P(e,n)}}}function bn(i){let e,l,t=i[3][i[23]]&&gn(i);return{c(){t&&t.c(),e=he()},l(n){t&&t.l(n),e=he()},m(n,a){t&&t.m(n,a),T(n,e,a),l=!0},p(n,a){n[3][n[23]]?t?(t.p(n,a),a&8&&b(t,1)):(t=gn(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(le(),w(t,1,1,()=>{t=null}),ne())},i(n){l||(b(t),l=!0)},o(n){w(t),l=!1},d(n){t&&t.d(n),n&&d(e)}}}function vn(i){let e,l,t,n,a,s,r,o;const f=[bo,po],u=[];function _(c,m){return c[10].data?0:1}return s=_(i),r=u[s]=f[s](i),{c(){e=D("div"),l=D("div"),t=H("Filters"),n=O(),a=D("div"),r.c(),this.h()},l(c){e=N(c,"DIV",{class:!0});var m=k(e);l=N(m,"DIV",{class:!0});var h=k(l);t=R(h,"Filters"),h.forEach(d),n=q(m),a=N(m,"DIV",{class:!0});var g=k(a);r.l(g),g.forEach(d),m.forEach(d),this.h()},h(){y(l,"class","text-xs font-light"),y(a,"class","flex flex-row gap-x-1"),y(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-7vw0ck")},m(c,m){T(c,e,m),p(e,l),p(l,t),p(e,n),p(e,a),u[s].m(a,null),o=!0},p(c,m){let h=s;s=_(c),s===h?u[s].p(c,m):(le(),w(u[h],1,1,()=>{u[h]=null}),ne(),r=u[s],r?r.p(c,m):(r=u[s]=f[s](c),r.c()),b(r,1),r.m(a,null))},i(c){o||(b(r),o=!0)},o(c){w(r),o=!1},d(c){c&&d(e),u[s].d()}}}function po(i){let e,l;return e=new nt({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function bo(i){let e,l,t=i[6],n=[];for(let s=0;s<t.length;s+=1)n[s]=wn(mn(i,t,s));const a=s=>w(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=he()},l(s){for(let r=0;r<n.length;r+=1)n[r].l(s);e=he()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);T(s,e,r),l=!0},p(s,r){if(r&1088){t=s[6];let o;for(o=0;o<t.length;o+=1){const f=mn(s,t,o);n[o]?(n[o].p(f,r),b(n[o],1)):(n[o]=wn(f),n[o].c(),b(n[o],1),n[o].m(e.parentNode,e))}for(le(),o=t.length;o<n.length;o+=1)a(o);ne()}},i(s){if(!l){for(let r=0;r<t.length;r+=1)b(n[r]);l=!0}},o(s){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)w(n[r]);l=!1},d(s){tt(n,s),s&&d(e)}}}function wn(i){let e,l;return e=new Xi({props:{schema:i[10].data,filter:i[20]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n&1024&&(a.schema=t[10].data),n&64&&(a.filter=t[20]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function kn(i){let e;function l(a,s){return a[0]==a[1].dataset_manifest.num_items?wo:vo}let t=l(i),n=t(i);return{c(){n.c(),e=he()},l(a){n.l(a),e=he()},m(a,s){n.m(a,s),T(a,e,s)},p(a,s){t===(t=l(a))&&n?n.p(a,s):(n.d(1),n=t(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&d(e)}}}function vo(i){let e=Me(i[0])+"",l,t,n=Me(i[1].dataset_manifest.num_items)+"",a,s;return{c(){l=H(e),t=H(" of "),a=H(n),s=H(" rows")},l(r){l=R(r,e),t=R(r," of "),a=R(r,n),s=R(r," rows")},m(r,o){T(r,l,o),T(r,t,o),T(r,a,o),T(r,s,o)},p(r,o){o&1&&e!==(e=Me(r[0])+"")&&ae(l,e),o&2&&n!==(n=Me(r[1].dataset_manifest.num_items)+"")&&ae(a,n)},d(r){r&&d(l),r&&d(t),r&&d(a),r&&d(s)}}}function wo(i){let e=Me(i[0])+"",l,t;return{c(){l=H(e),t=H(" rows")},l(n){l=R(n,e),t=R(n," rows")},m(n,a){T(n,l,a),T(n,t,a)},p(n,a){a&1&&e!==(e=Me(n[0])+"")&&ae(l,e)},d(n){n&&d(l),n&&d(t)}}}function En(i){let e,l;return e=new La({props:{schema:i[10].data,groupBy:i[5].groupBy}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n&1024&&(a.schema=t[10].data),n&32&&(a.groupBy=t[5].groupBy),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function $n(i){let e,l;return e=new pl({props:{open:!0,modalHeading:"",passiveModal:!0,size:"lg",$$slots:{default:[yo]},$$scope:{ctx:i}}}),e.$on("close",i[19]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n&536872960&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function ko(i){var s;let e,l,t,n,a;return l=new sl({props:{size:"small",kind:"ghost",icon:Pi,href:Sl((s=i[11])==null?void 0:s.data.namespace,i[11].data.concept_name),iconDescription:"Open concept page",$$slots:{default:[So]},$$scope:{ctx:i}}}),n=new Us({props:{concept:i[11].data}}),{c(){e=D("div"),z(l.$$.fragment),t=O(),z(n.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),t=q(r),B(n.$$.fragment,r),this.h()},h(){y(e,"class","mb-4 ml-6")},m(r,o){T(r,e,o),A(l,e,null),T(r,t,o),A(n,r,o),a=!0},p(r,o){var _;const f={};o&2048&&(f.href=Sl((_=r[11])==null?void 0:_.data.namespace,r[11].data.concept_name)),o&536870912&&(f.$$scope={dirty:o,ctx:r}),l.$set(f);const u={};o&2048&&(u.concept=r[11].data),n.$set(u)},i(r){a||(b(l.$$.fragment,r),b(n.$$.fragment,r),a=!0)},o(r){w(l.$$.fragment,r),w(n.$$.fragment,r),a=!1},d(r){r&&d(e),P(l),r&&d(t),P(n,r)}}}function Eo(i){let e,l=i[11].error.message+"",t;return{c(){e=D("p"),t=H(l)},l(n){e=N(n,"P",{});var a=k(e);t=R(a,l),a.forEach(d)},m(n,a){T(n,e,a),p(e,t)},p(n,a){a&2048&&l!==(l=n[11].error.message+"")&&ae(t,l)},i:j,o:j,d(n){n&&d(e)}}}function $o(i){let e,l;return e=new nt({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function So(i){let e;return{c(){e=H("Go to concept")},l(l){e=R(l,"Go to concept")},m(l,t){T(l,e,t)},d(l){l&&d(e)}}}function yo(i){let e,l,t,n;const a=[$o,Eo,ko],s=[];function r(o,f){var u,_,c;return(u=o[11])!=null&&u.isLoading?0:(_=o[11])!=null&&_.isError?1:(c=o[11])!=null&&c.isSuccess?2:-1}return~(e=r(i))&&(l=s[e]=a[e](i)),{c(){l&&l.c(),t=he()},l(o){l&&l.l(o),t=he()},m(o,f){~e&&s[e].m(o,f),T(o,t,f),n=!0},p(o,f){let u=e;e=r(o),e===u?~e&&s[e].p(o,f):(l&&(le(),w(s[u],1,1,()=>{s[u]=null}),ne()),~e?(l=s[e],l?l.p(o,f):(l=s[e]=a[e](o),l.c()),b(l,1),l.m(t.parentNode,t)):l=null)},i(o){n||(b(l),n=!0)},o(o){w(l),n=!1},d(o){~e&&s[e].d(o),o&&d(t)}}}function Io(i){let e,l,t,n,a,s,r,o,f,u,_,c,m,h,g,$,E,v,V,S,I,M,C;n=new Dl({props:{totalNumRows:i[0],icon:wa,disabled:!i[9],disabledMessage:i[9]?"":"User does not have access to label all.",labelsQuery:{searches:i[4],filters:i[6]},helperText:"Label all items in the current filter"}}),s=new Dl({props:{totalNumRows:i[0],remove:!0,icon:$a,disabled:!i[9],disabledMessage:i[9]?"":"User does not have access to label all.",labelsQuery:{searches:i[4],filters:i[6]},helperText:"Remove label from all items in the current filter"}}),u=new ea({});const L=[go,_o],G=[];function se(J,F){return J[4].length>0||J[6]&&J[6].length>0?0:1}c=se(i),m=G[c]=L[c](i),g=new eo({}),E=new ho({});let Q=i[0]&&i[1]&&kn(i),K=i[5].groupBy&&i[10].data&&En(i),x=i[2]&&$n(i);return{c(){e=D("div"),l=D("div"),t=D("div"),z(n.$$.fragment),a=O(),z(s.$$.fragment),r=O(),o=D("div"),f=D("div"),z(u.$$.fragment),_=O(),m.c(),h=O(),z(g.$$.fragment),$=O(),z(E.$$.fragment),v=O(),V=D("div"),Q&&Q.c(),S=O(),K&&K.c(),I=O(),x&&x.c(),M=he(),this.h()},l(J){e=N(J,"DIV",{class:!0});var F=k(e);l=N(F,"DIV",{class:!0});var Z=k(l);t=N(Z,"DIV",{class:!0});var ee=k(t);B(n.$$.fragment,ee),a=q(ee),B(s.$$.fragment,ee),ee.forEach(d),r=q(Z),o=N(Z,"DIV",{class:!0});var X=k(o);f=N(X,"DIV",{});var be=k(f);B(u.$$.fragment,be),be.forEach(d),_=q(X),m.l(X),X.forEach(d),h=q(Z),B(g.$$.fragment,Z),$=q(Z),B(E.$$.fragment,Z),Z.forEach(d),v=q(F),V=N(F,"DIV",{class:!0});var pe=k(V);Q&&Q.l(pe),pe.forEach(d),F.forEach(d),S=q(J),K&&K.l(J),I=q(J),x&&x.l(J),M=he(),this.h()},h(){y(t,"class","flex items-center gap-x-2"),y(o,"class","flex items-center gap-x-1"),y(l,"class","flex items-center gap-x-6 gap-y-2"),y(V,"class","flex py-2"),y(e,"class","relative mx-5 my-2 flex items-center justify-between")},m(J,F){T(J,e,F),p(e,l),p(l,t),A(n,t,null),p(t,a),A(s,t,null),p(l,r),p(l,o),p(o,f),A(u,f,null),p(o,_),G[c].m(o,null),p(l,h),A(g,l,null),p(l,$),A(E,l,null),p(e,v),p(e,V),Q&&Q.m(V,null),T(J,S,F),K&&K.m(J,F),T(J,I,F),x&&x.m(J,F),T(J,M,F),C=!0},p(J,[F]){const Z={};F&1&&(Z.totalNumRows=J[0]),F&512&&(Z.disabled=!J[9]),F&512&&(Z.disabledMessage=J[9]?"":"User does not have access to label all."),F&80&&(Z.labelsQuery={searches:J[4],filters:J[6]}),n.$set(Z);const ee={};F&1&&(ee.totalNumRows=J[0]),F&512&&(ee.disabled=!J[9]),F&512&&(ee.disabledMessage=J[9]?"":"User does not have access to label all."),F&80&&(ee.labelsQuery={searches:J[4],filters:J[6]}),s.$set(ee);let X=c;c=se(J),c===X?G[c].p(J,F):(le(),w(G[X],1,1,()=>{G[X]=null}),ne(),m=G[c],m?m.p(J,F):(m=G[c]=L[c](J),m.c()),b(m,1),m.m(o,null)),J[0]&&J[1]?Q?Q.p(J,F):(Q=kn(J),Q.c(),Q.m(V,null)):Q&&(Q.d(1),Q=null),J[5].groupBy&&J[10].data?K?(K.p(J,F),F&1056&&b(K,1)):(K=En(J),K.c(),b(K,1),K.m(I.parentNode,I)):K&&(le(),w(K,1,1,()=>{K=null}),ne()),J[2]?x?(x.p(J,F),F&4&&b(x,1)):(x=$n(J),x.c(),b(x,1),x.m(M.parentNode,M)):x&&(le(),w(x,1,1,()=>{x=null}),ne())},i(J){C||(b(n.$$.fragment,J),b(s.$$.fragment,J),b(u.$$.fragment,J),b(m),b(g.$$.fragment,J),b(E.$$.fragment,J),b(K),b(x),C=!0)},o(J){w(n.$$.fragment,J),w(s.$$.fragment,J),w(u.$$.fragment,J),w(m),w(g.$$.fragment,J),w(E.$$.fragment,J),w(K),w(x),C=!1},d(J){J&&d(e),P(n),P(s),P(u),G[c].d(),P(g),P(E),Q&&Q.d(),J&&d(S),K&&K.d(J),J&&d(I),x&&x.d(J),J&&d(M)}}}function Do(i,e,l){let t,n,a,s,r,o,f,u,_=j,c=()=>(_(),_=Be(n,Q=>l(10,u=Q)),n),m,h=j,g=()=>(h(),h=Be(a,Q=>l(11,m=Q)),a);i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>h());let{totalNumRows:$}=e,{manifest:E}=e,v=lt();Pe(i,v,Q=>l(5,o=Q));const V=Gt();Pe(i,V,Q=>l(17,f=Q));let S=null;const I=["keyword","semantic","concept"],M={keyword:"Keyword",semantic:"Semantic",concept:"Concepts",metadata:"Metadata"};let C={};function L(Q){Q.type==="concept"&&l(2,S={namespace:Q.concept_namespace,name:Q.concept_name})}const G=Q=>L(Q),se=()=>l(2,S=null);return i.$$set=Q=>{"totalNumRows"in Q&&l(0,$=Q.totalNumRows),"manifest"in Q&&l(1,E=Q.manifest)},i.$$.update=()=>{var Q;if(i.$$.dirty&131072&&l(9,t=((Q=f.data)==null?void 0:Q.access.dataset.label_all)||!1),i.$$.dirty&32&&c(l(8,n=kt(o.namespace,o.datasetName))),i.$$.dirty&4&&g(l(7,a=S?Ai(S.namespace,S.name):void 0)),i.$$.dirty&32&&l(4,s=fl(o)),i.$$.dirty&32&&l(6,r=o.query.filters),i.$$.dirty&24){l(3,C={});for(const K of s)K.type&&(K.type in C||l(3,C[K.type]=[],C),C[K.type].push(K))}},[$,E,S,C,s,o,r,a,n,t,u,m,v,V,I,M,L,f,G,se]}class No extends Ee{constructor(e){super(),$e(this,e,Do,Io,ke,{totalNumRows:0,manifest:1})}}function Sn(i,e,l){const t=i.slice();return t[21]=e[l],t}function To(i){let e,l;return{c(){e=D("div"),l=H("No results."),this.h()},l(t){e=N(t,"DIV",{class:!0});var n=k(e);l=R(n,"No results."),n.forEach(d),this.h()},h(){y(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){T(t,e,n),p(e,l)},p:j,i:j,o:j,d(t){t&&d(e)}}}function Vo(i){let e,l;return e=new nt({props:{paragraph:!0,lines:3}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Mo(i){var t,n;let e,l;return e=new zt({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[1].error.body)==null?void 0:t.detail)||((n=i[1])==null?void 0:n.error.message)}}),{c(){z(e.$$.fragment)},l(a){B(e.$$.fragment,a)},m(a,s){A(e,a,s),l=!0},p(a,s){var o,f;const r={};s&2&&(r.subtitle=((o=a[1].error.body)==null?void 0:o.detail)||((f=a[1])==null?void 0:f.error.message)),e.$set(r)},i(a){l||(b(e.$$.fragment,a),l=!0)},o(a){w(e.$$.fragment,a),l=!1},d(a){P(e,a)}}}function Co(i){var t;let e,l;return e=new zt({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||i[2].error.message}}),{c(){z(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){A(e,n,a),l=!0},p(n,a){var r;const s={};a&4&&(s.subtitle=((r=n[2].error.body)==null?void 0:r.detail)||n[2].error.message),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){P(e,n)}}}function yn(i){let e,l,t,n=i[4],a=[];for(let o=0;o<n.length;o+=1)a[o]=In(Sn(i,n,o));const s=o=>w(a[o],1,1,()=>{a[o]=null});let r=i[4].length>0&&Dn(i);return{c(){e=D("div");for(let o=0;o<a.length;o+=1)a[o].c();l=O(),r&&r.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);for(let u=0;u<a.length;u+=1)a[u].l(f);l=q(f),r&&r.l(f),f.forEach(d),this.h()},h(){y(e,"class","flex h-full w-full flex-col gap-y-10 overflow-y-scroll px-5 pb-32")},m(o,f){T(o,e,f);for(let u=0;u<a.length;u+=1)a[u]&&a[u].m(e,null);p(e,l),r&&r.m(e,null),i[19](e),t=!0},p(o,f){if(f&152){n=o[4];let u;for(u=0;u<n.length;u+=1){const _=Sn(o,n,u);a[u]?(a[u].p(_,f),b(a[u],1)):(a[u]=In(_),a[u].c(),b(a[u],1),a[u].m(e,l))}for(le(),u=n.length;u<a.length;u+=1)s(u);ne()}o[4].length>0?r?(r.p(o,f),f&16&&b(r,1)):(r=Dn(o),r.c(),b(r,1),r.m(e,null)):r&&(le(),w(r,1,1,()=>{r=null}),ne())},i(o){if(!t){for(let f=0;f<n.length;f+=1)b(a[f]);b(r),t=!0}},o(o){a=a.filter(Boolean);for(let f=0;f<a.length;f+=1)w(a[f]);w(r),t=!1},d(o){o&&d(e),tt(a,o),r&&r.d(),i[19](null)}}}function In(i){let e,l;return e=new Js({props:{rowId:i[21],mediaFields:i[3],highlightedFields:i[7]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n&16&&(a.rowId=t[21]),n&8&&(a.mediaFields=t[3]),n&128&&(a.highlightedFields=t[7]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Dn(i){let e,l;return e=new Ia({props:{threshold:100}}),e.$on("loadMore",i[18]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function zo(i){let e,l,t,n,a,s,r;e=new No({props:{totalNumRows:i[5],manifest:i[12].data}});const o=[Co,Mo,Vo,To],f=[];function u(c,m){var h,g,$;return c[2].isError?0:(h=c[1])!=null&&h.isError?1:(g=c[2])!=null&&g.isFetching?2:($=c[2])!=null&&$.isSuccess&&c[4]&&c[4].length===0?3:-1}~(t=u(i))&&(n=f[t]=o[t](i));let _=i[4]&&i[13].isSuccess&&i[3]!=null&&yn(i);return{c(){z(e.$$.fragment),l=O(),n&&n.c(),a=O(),_&&_.c(),s=he()},l(c){B(e.$$.fragment,c),l=q(c),n&&n.l(c),a=q(c),_&&_.l(c),s=he()},m(c,m){A(e,c,m),T(c,l,m),~t&&f[t].m(c,m),T(c,a,m),_&&_.m(c,m),T(c,s,m),r=!0},p(c,[m]){const h={};m&32&&(h.totalNumRows=c[5]),m&4096&&(h.manifest=c[12].data),e.$set(h);let g=t;t=u(c),t===g?~t&&f[t].p(c,m):(n&&(le(),w(f[g],1,1,()=>{f[g]=null}),ne()),~t?(n=f[t],n?n.p(c,m):(n=f[t]=o[t](c),n.c()),b(n,1),n.m(a.parentNode,a)):n=null),c[4]&&c[13].isSuccess&&c[3]!=null?_?(_.p(c,m),m&8216&&b(_,1)):(_=yn(c),_.c(),b(_,1),_.m(s.parentNode,s)):_&&(le(),w(_,1,1,()=>{_=null}),ne())},i(c){r||(b(e.$$.fragment,c),b(n),b(_),r=!0)},o(c){w(e.$$.fragment,c),w(n),w(_),r=!1},d(c){P(e,c),c&&d(l),~t&&f[t].d(c),c&&d(a),_&&_.d(c),c&&d(s)}}}function Ao(i,e,l){let t,n,a,s,r,o,f,u,_,c,m,h=j,g=()=>(h(),h=Be(s,X=>l(16,m=X)),s),$,E=j,v=()=>(E(),E=Be(r,X=>l(1,$=X)),r),V,S=j,I=()=>(S(),S=Be(f,X=>l(2,V=X)),f),M,C,L=j,G=()=>(L(),L=Be(t,X=>l(12,C=X)),t),se,Q=j,K=()=>(Q(),Q=Be(n,X=>l(13,se=X)),n);i.$$.on_destroy.push(()=>h()),i.$$.on_destroy.push(()=>E()),i.$$.on_destroy.push(()=>S()),i.$$.on_destroy.push(()=>L()),i.$$.on_destroy.push(()=>Q());const x=lt();Pe(i,x,X=>l(17,M=X));let J=null;const F=js(J),Z=()=>V==null?void 0:V.fetchNextPage();function ee(X){We[X?"unshift":"push"](()=>{J=X,l(0,J)})}return i.$$.update=()=>{var X,be,pe;i.$$.dirty&131072&&G(l(11,t=ds(M.namespace,M.datasetName))),i.$$.dirty&131072&&K(l(10,n=kt(M.namespace,M.datasetName))),i.$$.dirty&131072&&l(15,a=ms(M,!0)),i.$$.dirty&131072&&g(l(9,s=ul(M.namespace,M.datasetName))),i.$$.dirty&131072&&v(l(8,r=Et(M.namespace,M.datasetName,$t(M)))),i.$$.dirty&131074&&l(7,o=hs(M.query,$==null?void 0:$.data)),i.$$.dirty&163842&&I(l(6,f=_s(M.namespace,M.datasetName,{...a,columns:[el]},$!=null&&$.isSuccess?$.data.schema:void 0))),i.$$.dirty&4&&l(5,u=(X=V.data)==null?void 0:X.pages[0].total_num_rows),i.$$.dirty&4&&l(4,_=(be=V.data)==null?void 0:be.pages.flatMap(ie=>ie.rows).map(ie=>tl.value(Ht(ie,[el]),"string"))),i.$$.dirty&65538&&l(3,c=m.data?gs((pe=$==null?void 0:$.data)==null?void 0:pe.schema,m.data):[]),i.$$.dirty&1&&F.set(J)},is(ps,F),[J,$,V,c,_,u,f,o,r,s,n,t,C,se,x,a,m,M,Z,ee]}class Po extends Ee{constructor(e){super(),$e(this,e,Ao,zo,ke,{})}}function Nn(i){const e=i[3].find(function(...s){return i[43](i[53],...s)});i[54]=e;const l=i[54]!=null&&typeof i[54].id=="object"&&i[54].id.type==="field"&&i[54].id.isSignal;i[55]=l;const t=i[54]!=null&&typeof i[54].id=="object"&&i[54].id.type==="concept";i[56]=t;const n=i[54]!=null&&typeof i[54].id=="object"&&i[54].id.type==="label";i[57]=n}function Tn(i){const e=i[5].find(function(...t){return i[42](i[54],...t)});i[58]=e}function Vn(i){let e,l=i[58].text+"",t,n,a,s,r=i[58].embeddings.length>0&&Mn(i);return{c(){e=D("div"),t=H(l),n=O(),r&&r.c(),a=he(),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);t=R(f,l),f.forEach(d),n=q(o),r&&r.l(o),a=he(),this.h()},h(){y(e,"class","w-full flex-grow truncate")},m(o,f){T(o,e,f),p(e,t),T(o,n,f),r&&r.m(o,f),T(o,a,f),s=!0},p(o,f){(!s||f[0]&32|f[1]&8388608)&&l!==(l=o[58].text+"")&&ae(t,l),o[58].embeddings.length>0?r?(r.p(o,f),f[0]&32|f[1]&8388608&&b(r,1)):(r=Mn(o),r.c(),b(r,1),r.m(a.parentNode,a)):r&&(le(),w(r,1,1,()=>{r=null}),ne())},i(o){s||(b(r),s=!0)},o(o){w(r),s=!1},d(o){o&&d(e),o&&d(n),r&&r.d(o),o&&d(a)}}}function Mn(i){let e,l,t,n,a,s;return l=new ct({props:{$$slots:{default:[Bo]},$$scope:{ctx:i}}}),{c(){e=D("div"),z(l.$$.fragment)},l(r){e=N(r,"DIV",{});var o=k(e);B(l.$$.fragment,o),o.forEach(d)},m(r,o){T(r,e,o),A(l,e,null),n=!0,a||(s=Fe(t=He.call(null,e,{text:`Computed embeddings: ${i[58].embeddings.join(", ")}`})),a=!0)},p(r,o){i=r;const f={};o[1]&268435456&&(f.$$scope={dirty:o,ctx:i}),l.$set(f),t&&Ke(t.update)&&o[0]&32|o[1]&8388608&&t.update.call(null,{text:`Computed embeddings: ${i[58].embeddings.join(", ")}`})},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l),a=!1,s()}}}function Bo(i){let e,l;return e=new ys({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Fo(i){Tn(i);let e,l,t=i[58]&&Vn(i);return{c(){e=D("div"),t&&t.c(),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=k(e);t&&t.l(a),a.forEach(d),this.h()},h(){y(e,"class","flex h-full w-full items-center justify-between gap-x-1")},m(n,a){T(n,e,a),t&&t.m(e,null),l=!0},p(n,a){Tn(n),n[58]?t?(t.p(n,a),a[0]&32|a[1]&8388608&&b(t,1)):(t=Vn(n),t.c(),b(t,1),t.m(e,null)):t&&(le(),w(t,1,1,()=>{t=null}),ne())},i(n){l||(b(t),l=!0)},o(n){w(t),l=!1},d(n){n&&d(e),t&&t.d()}}}function Ho(i){let e,l,t=i[54].text+"",n,a,s=i[54].description&&Cn(i);return{c(){e=D("div"),l=D("div"),n=H(t),a=O(),s&&s.c(),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);l=N(o,"DIV",{});var f=k(l);n=R(f,t),f.forEach(d),a=q(o),s&&s.l(o),o.forEach(d),this.h()},h(){y(e,"class","flex justify-between gap-x-8"),re(e,"isSignal",i[55]),re(e,"isConcept",i[56]),re(e,"isLabel",i[57])},m(r,o){T(r,e,o),p(e,l),p(l,n),p(e,a),s&&s.m(e,null)},p(r,o){o[0]&8|o[1]&4194304&&t!==(t=r[54].text+"")&&ae(n,t),r[54].description?s?s.p(r,o):(s=Cn(r),s.c(),s.m(e,null)):s&&(s.d(1),s=null),o[0]&8|o[1]&4194304&&re(e,"isSignal",r[55]),o[0]&8|o[1]&4194304&&re(e,"isConcept",r[56]),o[0]&8|o[1]&4194304&&re(e,"isLabel",r[57])},i:j,o:j,d(r){r&&d(e),s&&s.d()}}}function Ro(i){let e,l,t,n,a,s;return l=new ct({props:{$$slots:{default:[Uo]},$$scope:{ctx:i}}}),{c(){e=D("div"),z(l.$$.fragment),t=O(),n=D("div"),a=H("Compute embeddings to enable concept search."),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),t=q(o),n=N(o,"DIV",{class:!0});var f=k(n);a=R(f,"Compute embeddings to enable concept search."),f.forEach(d),o.forEach(d),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-concept flex items-center")},m(r,o){T(r,e,o),A(l,e,null),p(e,t),p(e,n),p(n,a),s=!0},p(r,o){const f={};o[1]&268435456&&(f.$$scope={dirty:o,ctx:r}),l.$set(f)},i(r){s||(b(l.$$.fragment,r),s=!0)},o(r){w(l.$$.fragment,r),s=!1},d(r){r&&d(e),P(l)}}}function Lo(i){let e,l,t,n,a,s,r;return l=new ct({props:{$$slots:{default:[Yo]},$$scope:{ctx:i}}}),{c(){e=D("div"),z(l.$$.fragment),t=O(),n=D("div"),a=H(`Semantic search:
              `),s=H(i[1]),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);B(l.$$.fragment,f),t=q(f),n=N(f,"DIV",{class:!0});var u=k(n);a=R(u,`Semantic search:
              `),s=R(u,i[1]),u.forEach(d),f.forEach(d),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(o,f){T(o,e,f),A(l,e,null),p(e,t),p(e,n),p(n,a),p(n,s),r=!0},p(o,f){const u={};f[1]&268435456&&(u.$$scope={dirty:f,ctx:o}),l.$set(u),(!r||f[0]&2)&&ae(s,o[1])},i(o){r||(b(l.$$.fragment,o),r=!0)},o(o){w(l.$$.fragment,o),r=!1},d(o){o&&d(e),P(l)}}}function Oo(i){let e,l,t,n,a,s,r;return l=new ct({props:{$$slots:{default:[Qo]},$$scope:{ctx:i}}}),{c(){e=D("div"),z(l.$$.fragment),t=O(),n=D("div"),a=H(`Keyword search:
              `),s=H(i[1]),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);B(l.$$.fragment,f),t=q(f),n=N(f,"DIV",{class:!0});var u=k(n);a=R(u,`Keyword search:
              `),s=R(u,i[1]),u.forEach(d),f.forEach(d),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(o,f){T(o,e,f),A(l,e,null),p(e,t),p(e,n),p(n,a),p(n,s),r=!0},p(o,f){const u={};f[1]&268435456&&(u.$$scope={dirty:f,ctx:o}),l.$set(u),(!r||f[0]&2)&&ae(s,o[1])},i(o){r||(b(l.$$.fragment,o),r=!0)},o(o){w(l.$$.fragment,o),r=!1},d(o){o&&d(e),P(l)}}}function qo(i){let e,l,t,n,a,s=i[1]!=""?":":"",r,o,f,u;return l=new ct({props:{$$slots:{default:[Go]},$$scope:{ctx:i}}}),{c(){e=D("div"),z(l.$$.fragment),t=O(),n=D("div"),a=H("New concept"),r=H(s),o=O(),f=H(i[1]),this.h()},l(_){e=N(_,"DIV",{class:!0});var c=k(e);B(l.$$.fragment,c),t=q(c),n=N(c,"DIV",{class:!0});var m=k(n);a=R(m,"New concept"),r=R(m,s),o=q(m),f=R(m,i[1]),m.forEach(d),c.forEach(d),this.h()},h(){y(n,"class","ml-2"),y(e,"class","new-concept flex flex-row items-center justify-items-center")},m(_,c){T(_,e,c),A(l,e,null),p(e,t),p(e,n),p(n,a),p(n,r),p(n,o),p(n,f),u=!0},p(_,c){const m={};c[1]&268435456&&(m.$$scope={dirty:c,ctx:_}),l.$set(m),(!u||c[0]&2)&&s!==(s=_[1]!=""?":":"")&&ae(r,s),(!u||c[0]&2)&&ae(f,_[1])},i(_){u||(b(l.$$.fragment,_),u=!0)},o(_){w(l.$$.fragment,_),u=!1},d(_){_&&d(e),P(l)}}}function jo(i){let e;return{c(){e=D("div")},l(l){e=N(l,"DIV",{}),k(e).forEach(d)},m(l,t){T(l,e,t)},p:j,i:j,o:j,d(l){l&&d(e)}}}function Cn(i){let e,l=i[54].description+"",t;return{c(){e=D("div"),t=H(l),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=k(e);t=R(a,l),a.forEach(d),this.h()},h(){y(e,"class","truncate text-xs text-gray-500")},m(n,a){T(n,e,a),p(e,t)},p(n,a){a[0]&8|a[1]&4194304&&l!==(l=n[54].description+"")&&ae(t,l)},d(n){n&&d(e)}}}function Uo(i){let e,l;return e=new Yi({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Yo(i){let e,l;return e=new Ji({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Qo(i){let e,l;return e=new Ji({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Go(i){let e,l;return e=new Br({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Wo(i){Nn(i);let e,l,t,n;const a=[jo,qo,Oo,Lo,Ro,Ho],s=[];function r(o,f){return o[54]==null?0:o[54].id==="new-concept"?1:o[54].id==="keyword-search"?2:o[54].id==="semantic-search"?3:o[54].id==="compute-embedding"&&o[2]&&o[0]?4:5}return e=r(i),l=s[e]=a[e](i),{c(){l.c(),t=he()},l(o){l.l(o),t=he()},m(o,f){s[e].m(o,f),T(o,t,f),n=!0},p(o,f){Nn(o);let u=e;e=r(o),e===u?s[e].p(o,f):(le(),w(s[u],1,1,()=>{s[u]=null}),ne(),l=s[e],l?l.p(o,f):(l=s[e]=a[e](o),l.c()),b(l,1),l.m(t.parentNode,t))},i(o){n||(b(l),n=!0)},o(o){w(l),n=!1},d(o){s[e].d(o),o&&d(t)}}}function Jo(i){var E;let e,l,t,n,a,s,r,o,f,u,_,c,m,h;n=new sr({props:{class:"ml-2 mr-px",size:16}}),r=new Wi({props:{size:"xl",class:"w-48",disabled:i[0]==null,selectedId:i[0]?st(i[0]):(E=i[5][0])==null?void 0:E.id,items:i[5],$$slots:{default:[Fo,({item:v})=>({54:v}),({item:v})=>[0,v?8388608:0]]},$$scope:{ctx:i}}}),r.$on("select",i[17]);function g(v){i[45](v)}let $={size:"xl",class:"w-full",items:i[3],shouldFilterItem:Zo,placeholder:i[6],$$slots:{default:[Wo,({item:v})=>({53:v}),({item:v})=>[0,v?4194304:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&($.value=i[1]),u=new lr({props:$}),i[44](u),We.push(()=>Je(u,"value",g)),u.$on("select",i[16]),{c(){e=D("div"),l=D("div"),t=D("div"),z(n.$$.fragment),a=O(),s=D("div"),z(r.$$.fragment),o=O(),f=D("div"),z(u.$$.fragment),this.h()},l(v){e=N(v,"DIV",{class:!0});var V=k(e);l=N(V,"DIV",{class:!0});var S=k(l);t=N(S,"DIV",{class:!0});var I=k(t);B(n.$$.fragment,I),I.forEach(d),a=q(S),s=N(S,"DIV",{class:!0});var M=k(s);B(r.$$.fragment,M),M.forEach(d),o=q(S),f=N(S,"DIV",{class:!0});var C=k(f);B(u.$$.fragment,C),C.forEach(d),S.forEach(d),V.forEach(d),this.h()},h(){y(t,"class","search-icon flex items-center svelte-18z5kej"),y(s,"class","embedding-dropdown rounded border-r border-gray-200"),y(f,"class","search-container w-full flex-grow"),y(l,"class","flex w-full rounded border border-gray-200"),y(e,"class","flex h-full w-full flex-grow items-center")},m(v,V){T(v,e,V),p(e,l),p(l,t),A(n,t,null),p(l,a),p(l,s),A(r,s,null),p(l,o),p(l,f),A(u,f,null),c=!0,m||(h=Fe(He.call(null,t,{text:"Select the field to search over."})),m=!0)},p(v,V){var M;const S={};V[0]&1&&(S.disabled=v[0]==null),V[0]&33&&(S.selectedId=v[0]?st(v[0]):(M=v[5][0])==null?void 0:M.id),V[0]&32&&(S.items=v[5]),V[0]&32|V[1]&276824064&&(S.$$scope={dirty:V,ctx:v}),r.$set(S);const I={};V[0]&8&&(I.items=v[3]),V[0]&64&&(I.placeholder=v[6]),V[0]&15|V[1]&272629760&&(I.$$scope={dirty:V,ctx:v}),!_&&V[0]&2&&(_=!0,I.value=v[1],Ze(()=>_=!1)),u.$set(I)},i(v){c||(b(n.$$.fragment,v),b(r.$$.fragment,v),b(u.$$.fragment,v),c=!0)},o(v){w(n.$$.fragment,v),w(r.$$.fragment,v),w(u.$$.fragment,v),c=!1},d(v){v&&d(e),P(n),P(r),i[44](null),P(u),m=!1,h()}}}const Zo=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept"||i.id==="compute-embedding";function Ko(i,e,l){let t,n,a,s,r,o,f,u,_,c,m,h,g,$,E,v,V,S,I,M,C=j,L=()=>(C(),C=Be(o,de=>l(34,M=de)),o),G,se,Q,K,x,J,F=j,Z=()=>(F(),F=Be(t,de=>l(39,J=de)),t),ee,X,be=j,pe=()=>(be(),be=Be(r,de=>l(41,X=de)),r);i.$$.on_destroy.push(()=>C()),i.$$.on_destroy.push(()=>F()),i.$$.on_destroy.push(()=>be());const ie=lt();Pe(i,ie,de=>l(40,ee=de));const Se=ir();Pe(i,Se,de=>l(38,x=de));let me;function ue(de,ze){let Ae=ze.filter(Oe=>Oe.data!=null).map(Oe=>Oe.data).map(Oe=>({path:Oe.path,embeddings:Rt(de,Oe.path),avgTextLength:Oe.avg_text_length}));if(Ae=Ae.sort((Oe,qe)=>Oe.embeddings.length>0&&qe.embeddings.length===0?-1:Oe.embeddings.length===0&&qe.embeddings.length>0?1:Oe.avgTextLength!=null&&qe.avgTextLength!=null?qe.avgTextLength-Oe.avgTextLength:qe.embeddings.length-Oe.embeddings.length),Ae.length!==0)return Ae[0].path}function Te(de,ze,Ae){if(ze==null||de==null)return[];const Oe=ze?gt(ze):[],qe=[];for(const Ve of Oe){const te=Ss(Ve);if(Ve.dtype==null&&(te==null?void 0:te.signal_name)!="concept_score"||Ve.dtype==="embedding"||Ve.dtype==="binary"||!Fi(Ve.path,de))continue;if((te==null?void 0:te.signal_name)==="concept_score"){const rt=te;Wt(Ve)&&qe.push({id:{type:"field",path:[...Ve.path,cl,"score"],op:"greater",opValue:.5,sort:"DESC",isSignal:te!=null},text:rt.concept_name,description:`Find documents with ${rt.concept_name}`});continue}if(Ae==null?void 0:Ae.some(rt=>rt.name===(te==null?void 0:te.signal_name)))continue;const it=et(Ve.path.slice(de.length)),dt=qt(Ve.path);if(Qt(Ve.dtype)){qe.push({id:{type:"field",path:Ve.path,sort:"DESC",isSignal:te!=null},text:it,description:`Sort descending by ${dt}`});continue}if(Ve.dtype==="string"||Ve.dtype==="string_span"){if(te==null)continue;qe.push({id:{type:"field",path:Ve.path,op:"exists",isSignal:te!=null},text:it,description:`Find documents with ${dt}`});continue}}return qe}const W=Bi();Pe(i,W,de=>l(46,G=de));const U=bs();Pe(i,U,de=>l(37,K=de));const oe=(de,ze)=>`${st(de||"")}_${ze}`;let Y={};const Ie=vs();Pe(i,Ie,de=>l(36,Q=de));const fe=Gt();Pe(i,fe,de=>l(35,se=de));let we=[],ve="",Re;function Xe(){_!=null&&(l(18,Y[oe(me,_)]=!0,Y),G.mutate([n,a,{leaf_path:al(me||[]),signal:{signal_name:_}}]))}let at;const je=(de,ze)=>{me==null||_==null||(ie.addSearch({path:me,type:"concept",concept_namespace:de,concept_name:ze,embedding:_}),at.clear())},Ue=de=>{ie.addFilter({path:[de,"label"],op:"equals",value:"true"})},Ye=de=>{if(me!=null){if(de.detail.selectedId==="new-concept"){ve===Re.id&&l(1,ve="");const ze=ve.split("/",2);let Ae="",Oe="";ze.length===2?[Ae,Oe]=ze:[Oe]=ze,ht({command:_t.CreateConcept,namespace:Ae,conceptName:Oe,dataset:{namespace:n,name:a},path:me,onCreate:qe=>je(qe.detail.namespace,qe.detail.name)})}else if(de.detail.selectedId==="keyword-search"){if(ve=="")return;ie.addSearch({path:me,type:"keyword",query:ve})}else if(de.detail.selectedId=="semantic-search"){if(ve==""||_==null)return;ie.addSearch({path:me,type:"semantic",query:ve,embedding:_})}else if(de.detail.selectedId=="compute-embedding")Xe();else if(de.detail.selectedId.type==="concept")je(de.detail.selectedId.namespace,de.detail.selectedId.name);else if(de.detail.selectedId.type==="label")Ue(de.detail.selectedId.name);else if(de.detail.selectedId.type==="field"){const ze=de.detail.selectedId;ze.sort!=null&&(ie.setSortBy(ze.path),ie.setSortOrder(ze.sort)),ze.op!=null&&ie.addFilter({path:ze.path,op:ze.op,value:ze.opValue})}else throw new Error(`Unknown search type ${de.detail.selectedId}`);at.clear()}},Jt=de=>{l(0,me=de.detail.selectedItem.path)};let St=[];const Zt=(de,ze)=>ze===de,At=(de,ze)=>ze.id===de.id;function Qe(de){We[de?"unshift":"push"](()=>{at=de,l(4,at)})}function Pt(de){ve=de,l(1,ve)}return i.$$.update=()=>{var de,ze,Ae,Oe,qe;i.$$.dirty[1]&512&&Z(l(9,t=ul(ee.namespace,ee.datasetName))),i.$$.dirty[1]&512&&l(22,n=ee.namespace),i.$$.dirty[1]&512&&l(21,a=ee.datasetName),i.$$.dirty[1]&256&&l(20,s=(Ae=(ze=(de=J.data)==null?void 0:de.ui)==null?void 0:ze.media_paths)==null?void 0:Ae.map(Ve=>Array.isArray(Ve)?Ve:[Ve])),i.$$.dirty[0]&7340032&&pe(l(8,r=Mi(n,a,s,s!=null))),i.$$.dirty[0]&6291456&&L(l(7,o=kt(n,a))),i.$$.dirty[0]&1|i.$$.dirty[1]&1032&&me==null&&M.data!=null&&l(0,me=ue(M.data,X)),i.$$.dirty[0]&1|i.$$.dirty[1]&512&&l(23,f=fl(ee,me)),i.$$.dirty[0]&1|i.$$.dirty[1]&72&&l(25,u=M.data!=null?Te(me,M.data,K.data):[]),i.$$.dirty[0]&1|i.$$.dirty[1]&456&&l(2,_=ws(J.data,x,M.data,me,(K.data||[]).map(Ve=>Ve.name))),i.$$.dirty[0]&1|i.$$.dirty[1]&8&&l(33,c=M.data!=null?Rt(M.data,me):[]),i.$$.dirty[0]&4|i.$$.dirty[1]&4&&l(28,m=c!=null&&!!c.includes(_||"")),i.$$.dirty[0]&268697605&&l(31,h=!m&&Y[oe(me,_)]),i.$$.dirty[0]&268435456&&l(6,g=m?"Search by keyword, field or concept.":"Search by keyword or field. Compute embedding to enable concept search."),i.$$.dirty[1]&16&&l(32,$=(qe=(Oe=se.data)==null?void 0:Oe.user)==null?void 0:qe.id),i.$$.dirty[0]&268435456|i.$$.dirty[1]&34&&l(24,E=m?ks(Q.data||[],$):[]),i.$$.dirty[0]&2&&l(19,Re={id:"new-concept",text:ve}),i.$$.dirty[0]&2&&l(30,v={id:"keyword-search",text:ve}),i.$$.dirty[0]&2&&l(29,V={id:"semantic-search",text:ve}),i.$$.dirty[1]&1&&l(27,S={id:"compute-embedding",text:"Compute embedding",disabled:h}),i.$$.dirty[1]&8&&l(26,I=M.data!=null?Es(M.data):[]),i.$$.dirty[0]&2139619334|i.$$.dirty[1]&48&&l(3,we=Q!=null&&Q.data?[...ve!=""?[v]:[],...ve!=""&&_&&m?[V]:[],...m?[Re]:[S],...I.map(Ve=>({id:{type:"label",name:Ve},text:Ve,description:`Find documents labeled "${Ve}"`})),...u,...E.flatMap(Ve=>Ve.concepts.map(te=>({id:{namespace:te.namespace,name:te.name,type:"concept"},text:$s(te.namespace,te.name,se.data),description:te.metadata.description||void 0,disabled:f.some(De=>De.type==="concept"&&De.concept_namespace===te.namespace&&De.concept_name===te.name)})))]:[]),i.$$.dirty[0]&1048576|i.$$.dirty[1]&8&&l(5,St=(s||[]).map(Ve=>({id:st(Ve),text:et(Ve),path:Ve,embeddings:M.data!=null?Rt(M.data,Ve):[]})))},[me,ve,_,we,at,St,g,o,r,t,ie,Se,W,U,Ie,fe,Ye,Jt,Y,Re,s,a,n,f,E,u,I,S,m,V,v,h,$,c,M,se,Q,K,x,J,ee,X,Zt,At,Qe,Pt]}class Xo extends Ee{constructor(e){super(),$e(this,e,Ko,Jo,ke,{},null,[-1,-1])}}function zn(i){let e,l;return e=new rs({props:{light:!0,flipped:!0,$$slots:{default:[xo]},$$scope:{ctx:i}}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&767|n[1]&4&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function An(i){let e,l;return e=new pt({props:{text:"Sort by"}}),e.$on("click",i[22]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Pn(i){let e,l;return e=new pt({props:{text:"Filter"}}),e.$on("click",i[23]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Bn(i){let e,l,t,n,a,s;return l=new pt({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[24]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),this.h()},h(){y(e,"class","w-full")},m(r,o){T(r,e,o),A(l,e,null),n=!0,a||(s=Fe(t=He.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),a=!0)},p(r,o){const f={};o[0]&128&&(f.disabled=!r[7]),l.$set(f),t&&Ke(t.update)&&o[0]&128&&t.update.call(null,{text:r[7]?"":"User does not have access to compute embeddings over this dataset."})},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l),a=!1,s()}}}function Fn(i){let e,l,t,n,a,s;return l=new pt({props:{text:"Compute concept",disabled:!i[7]||i[9].length===0}}),l.$on("click",i[25]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),this.h()},h(){y(e,"class","w-full")},m(r,o){T(r,e,o),A(l,e,null),n=!0,a||(s=Fe(t=He.call(null,e,{text:i[7]?i[9].length===0?"No embeddings are computed for this field. Compute embeddings before using concepts.":"":"User does not have access to compute concepts over this dataset."})),a=!0)},p(r,o){const f={};o[0]&640&&(f.disabled=!r[7]||r[9].length===0),l.$set(f),t&&Ke(t.update)&&o[0]&640&&t.update.call(null,{text:r[7]?r[9].length===0?"No embeddings are computed for this field. Compute embeddings before using concepts.":"":"User does not have access to compute concepts over this dataset."})},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l),a=!1,s()}}}function Hn(i){let e,l,t,n,a,s;return l=new pt({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[26]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),this.h()},h(){y(e,"class","w-full")},m(r,o){T(r,e,o),A(l,e,null),n=!0,a||(s=Fe(t=He.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),a=!0)},p(r,o){const f={};o[0]&128&&(f.disabled=!r[7]),l.$set(f),t&&Ke(t.update)&&o[0]&128&&t.update.call(null,{text:r[7]?"":"User does not have access to compute signals over this dataset."})},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l),a=!1,s()}}}function Rn(i){let e,l;return e=new pt({props:{text:"Preview signal"}}),e.$on("click",i[27]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Ln(i){let e,l,t,n,a,s;return l=new pt({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[28]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),this.h()},h(){y(e,"class","w-full")},m(r,o){T(r,e,o),A(l,e,null),n=!0,a||(s=Fe(t=He.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),a=!0)},p(r,o){const f={};o[0]&64&&(f.disabled=!r[6]),l.$set(f),t&&Ke(t.update)&&o[0]&64&&t.update.call(null,{text:r[6]?"":"User does not have access to delete signals for this dataset."})},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l),a=!1,s()}}}function xo(i){let e=jt(i[0]),l,t=ll(i[0]),n,a,s,r,o,f,u,_=e&&An(i),c=t&&Pn(i),m=!i[4]&&Bn(i),h=!i[4]&&Fn(i),g=!i[4]&&Hn(i),$=!i[4]&&Rn(i),E=i[3]&&Ln(i);return{c(){_&&_.c(),l=O(),c&&c.c(),n=O(),m&&m.c(),a=O(),h&&h.c(),s=O(),g&&g.c(),r=O(),$&&$.c(),o=O(),E&&E.c(),f=he()},l(v){_&&_.l(v),l=q(v),c&&c.l(v),n=q(v),m&&m.l(v),a=q(v),h&&h.l(v),s=q(v),g&&g.l(v),r=q(v),$&&$.l(v),o=q(v),E&&E.l(v),f=he()},m(v,V){_&&_.m(v,V),T(v,l,V),c&&c.m(v,V),T(v,n,V),m&&m.m(v,V),T(v,a,V),h&&h.m(v,V),T(v,s,V),g&&g.m(v,V),T(v,r,V),$&&$.m(v,V),T(v,o,V),E&&E.m(v,V),T(v,f,V),u=!0},p(v,V){V[0]&1&&(e=jt(v[0])),e?_?(_.p(v,V),V[0]&1&&b(_,1)):(_=An(v),_.c(),b(_,1),_.m(l.parentNode,l)):_&&(le(),w(_,1,1,()=>{_=null}),ne()),V[0]&1&&(t=ll(v[0])),t?c?(c.p(v,V),V[0]&1&&b(c,1)):(c=Pn(v),c.c(),b(c,1),c.m(n.parentNode,n)):c&&(le(),w(c,1,1,()=>{c=null}),ne()),v[4]?m&&(le(),w(m,1,1,()=>{m=null}),ne()):m?(m.p(v,V),V[0]&16&&b(m,1)):(m=Bn(v),m.c(),b(m,1),m.m(a.parentNode,a)),v[4]?h&&(le(),w(h,1,1,()=>{h=null}),ne()):h?(h.p(v,V),V[0]&16&&b(h,1)):(h=Fn(v),h.c(),b(h,1),h.m(s.parentNode,s)),v[4]?g&&(le(),w(g,1,1,()=>{g=null}),ne()):g?(g.p(v,V),V[0]&16&&b(g,1)):(g=Hn(v),g.c(),b(g,1),g.m(r.parentNode,r)),v[4]?$&&(le(),w($,1,1,()=>{$=null}),ne()):$?($.p(v,V),V[0]&16&&b($,1)):($=Rn(v),$.c(),b($,1),$.m(o.parentNode,o)),v[3]?E?(E.p(v,V),V[0]&8&&b(E,1)):(E=Ln(v),E.c(),b(E,1),E.m(f.parentNode,f)):E&&(le(),w(E,1,1,()=>{E=null}),ne())},i(v){u||(b(_),b(c),b(m),b(h),b(g),b($),b(E),u=!0)},o(v){w(_),w(c),w(m),w(h),w(g),w($),w(E),u=!1},d(v){_&&_.d(v),v&&d(l),c&&c.d(v),v&&d(n),m&&m.d(v),v&&d(a),h&&h.d(v),v&&d(s),g&&g.d(v),v&&d(r),$&&$.d(v),v&&d(o),E&&E.d(v),v&&d(f)}}}function ef(i){let e,l,t,n=st(i[0].path)+"",a,s,r,o,f;return{c(){e=D("p"),l=H("Confirm deleting "),t=D("code"),a=H(n),s=H(" ?"),r=O(),o=D("p"),f=H("This is a permanent action and cannot be undone."),this.h()},l(u){e=N(u,"P",{class:!0});var _=k(e);l=R(_,"Confirm deleting "),t=N(_,"CODE",{});var c=k(t);a=R(c,n),c.forEach(d),s=R(_," ?"),_.forEach(d),r=q(u),o=N(u,"P",{class:!0});var m=k(o);f=R(m,"This is a permanent action and cannot be undone."),m.forEach(d),this.h()},h(){y(e,"class","!text-lg"),y(o,"class","mt-2")},m(u,_){T(u,e,_),p(e,l),p(e,t),p(t,a),p(e,s),T(u,r,_),T(u,o,_),p(o,f)},p(u,_){_[0]&1&&n!==(n=st(u[0].path)+"")&&ae(a,n)},d(u){u&&d(e),u&&d(r),u&&d(o)}}}function tf(i){let e,l,t,n,a=i[8]&&zn(i);function s(o){i[29](o)}let r={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[12].isLoading?Il:void 0,secondaryButtonText:"Cancel",$$slots:{default:[ef]},$$scope:{ctx:i}};return i[5]!==void 0&&(r.open=i[5]),l=new pl({props:r}),We.push(()=>Je(l,"open",s)),l.$on("click:button--secondary",i[30]),l.$on("open",i[31]),l.$on("close",i[32]),l.$on("submit",i[16]),{c(){a&&a.c(),e=O(),z(l.$$.fragment)},l(o){a&&a.l(o),e=q(o),B(l.$$.fragment,o)},m(o,f){a&&a.m(o,f),T(o,e,f),A(l,o,f),n=!0},p(o,f){o[8]?a?(a.p(o,f),f[0]&256&&b(a,1)):(a=zn(o),a.c(),b(a,1),a.m(e.parentNode,e)):a&&(le(),w(a,1,1,()=>{a=null}),ne());const u={};f[0]&4096&&(u.primaryButtonIcon=o[12].isLoading?Il:void 0),f[0]&1|f[1]&4&&(u.$$scope={dirty:f,ctx:o}),!t&&f[0]&32&&(t=!0,u.open=o[5],Ze(()=>t=!1)),l.$set(u)},i(o){n||(b(a),b(l.$$.fragment,o),n=!0)},o(o){w(a),w(l.$$.fragment,o),n=!1},d(o){a&&a.d(o),o&&d(e),P(l,o)}}}function lf(i,e,l){let t,n,a,s,r,o,f,u,_,c,m,h,g,$,E=j,v=()=>(E(),E=Be(s,ue=>l(19,$=ue)),s),V,S=j,I=()=>(S(),S=Be(a,ue=>l(20,V=ue)),a),M;i.$$.on_destroy.push(()=>E()),i.$$.on_destroy.push(()=>S());let{field:C}=e,L=!1;const G=lt();Pe(i,G,ue=>l(21,M=ue));const se=Is();Pe(i,se,ue=>l(12,h=ue));const Q=Gt();Pe(i,Q,ue=>l(18,g=ue));function K(){h.mutate([t,n,{signal_path:C.path}],{onSuccess:()=>{l(5,L=!1),G.deleteSignal(C.path)}})}const x=()=>G.addSortBy(C.path),J=()=>ht({command:_t.EditFilter,namespace:t,datasetName:n,path:C.path}),F=()=>ht({command:_t.ComputeEmbedding,namespace:t,datasetName:n,path:C==null?void 0:C.path}),Z=()=>ht({command:_t.ComputeConcept,namespace:t,datasetName:n,path:C==null?void 0:C.path}),ee=()=>ht({command:_t.ComputeSignal,namespace:t,datasetName:n,path:C==null?void 0:C.path}),X=()=>ht({command:_t.PreviewConcept,namespace:t,datasetName:n,path:C==null?void 0:C.path}),be=()=>l(5,L=!0);function pe(ue){L=ue,l(5,L)}const ie=()=>l(5,L=!1);function Se(ue){xe.call(this,i,ue)}function me(ue){xe.call(this,i,ue)}return i.$$set=ue=>{"field"in ue&&l(0,C=ue.field)},i.$$.update=()=>{var ue,Te;i.$$.dirty[0]&2097152&&l(2,t=M.namespace),i.$$.dirty[0]&2097152&&l(1,n=M.datasetName),i.$$.dirty[0]&6&&I(l(11,a=kt(t,n))),i.$$.dirty[0]&2097158&&v(l(10,s=Et(t,n,$t(M)))),i.$$.dirty[0]&1&&l(4,r=It(C)),i.$$.dirty[0]&1&&l(3,o=Wt(C)),i.$$.dirty[0]&1048577&&l(9,f=Rt(V.data,C.path)),i.$$.dirty[0]&524289&&l(17,u=Hi(($==null?void 0:$.data)||null,C.path)),i.$$.dirty[0]&131097&&l(8,_=(jt(C)||ll(C)||!r||o)&&!u),i.$$.dirty[0]&262144&&l(7,c=(ue=g.data)==null?void 0:ue.access.dataset.compute_signals),i.$$.dirty[0]&262144&&l(6,m=(Te=g.data)==null?void 0:Te.access.dataset.delete_signals)},[C,n,t,o,r,L,m,c,_,f,s,a,h,G,se,Q,K,u,g,$,V,M,x,J,F,Z,ee,X,be,pe,ie,Se,me]}class nf extends Ee{constructor(e){super(),$e(this,e,lf,tf,ke,{field:0},null,[-1,-1])}}function sf(i){let e,l,t,n,a;const s=[i[3],{type:i[0]?"green":"blue"},{icon:i[2]}];let r={};for(let o=0;o<s.length;o+=1)r=ce(r,s[o]);return l=new ct({props:r}),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);B(l.$$.fragment,f),f.forEach(d),this.h()},h(){y(e,"class","signal-badge")},m(o,f){T(o,e,f),A(l,e,null),t=!0,n||(a=Fe(He.call(null,e,{text:i[1]})),n=!0)},p(o,[f]){const u=f&13?Ge(s,[f&8&&nl(o[3]),f&1&&{type:o[0]?"green":"blue"},f&4&&{icon:o[2]}]):{};l.$set(u)},i(o){t||(b(l.$$.fragment,o),t=!0)},o(o){w(l.$$.fragment,o),t=!1},d(o){o&&d(e),P(l),n=!1,a()}}}function rf(i,e,l){const t=["isPreview"];let n=ye(e,t),{isPreview:a=!1}=e;const s=a?"Signal is in preview mode and has not been computed for the whole dataset.":"Generated by a signal.",r=a?Ys:Wr;return i.$$set=o=>{e=ce(ce({},e),Ne(o)),l(3,n=ye(e,t)),"isPreview"in o&&l(0,a=o.isPreview)},[a,s,r,n]}class af extends Ee{constructor(e){super(),$e(this,e,rf,sf,ke,{isPreview:0})}}function On(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const a=`${t[8]/t[1]*100}%`;t[10]=a;const s=Me(t[8]);return t[11]=s,t}function qn(i){let e,l,t=i[9]+"",n,a,s,r,o,f=i[11]+"",u,_,c,m,h;function g(){return i[6](i[7])}return{c(){e=D("button"),l=D("div"),n=H(t),s=O(),r=D("div"),o=D("div"),u=H(f),c=O(),this.h()},l($){e=N($,"BUTTON",{class:!0});var E=k(e);l=N(E,"DIV",{title:!0,class:!0});var v=k(l);n=R(v,t),v.forEach(d),s=q(E),r=N(E,"DIV",{class:!0});var V=k(r);o=N(V,"DIV",{title:!0,class:!0});var S=k(o);u=R(S,f),S.forEach(d),V.forEach(d),c=q(E),E.forEach(d),this.h()},h(){y(l,"title",a=i[9]),y(l,"class","w-48 flex-none truncate px-2"),y(o,"title",_=i[11]),y(o,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),yt(o,"width",i[10]),y(r,"class","w-36 border-l border-gray-300 pl-2"),y(e,"class","flex items-center p-0 text-left text-xs text-black hover:bg-gray-200")},m($,E){T($,e,E),p(e,l),p(l,n),p(e,s),p(e,r),p(r,o),p(o,u),p(e,c),m||(h=Le(e,"click",g),m=!0)},p($,E){i=$,E&1&&t!==(t=i[9]+"")&&ae(n,t),E&1&&a!==(a=i[9])&&y(l,"title",a),E&1&&f!==(f=i[11]+"")&&ae(u,f),E&1&&_!==(_=i[11])&&y(o,"title",_),E&3&&yt(o,"width",i[10])},d($){$&&d(e),m=!1,h()}}}function of(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=qn(On(i,l,n));return{c(){e=D("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=N(n,"DIV",{class:!0});var a=k(e);for(let s=0;s<t.length;s+=1)t[s].l(a);a.forEach(d),this.h()},h(){y(e,"class","histogram")},m(n,a){T(n,e,a);for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,null)},p(n,[a]){if(a&15){l=n[0];let s;for(s=0;s<l.length;s+=1){const r=On(n,l,s);t[s]?t[s].p(r,a):(t[s]=qn(r),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=l.length}},i:j,o:j,d(n){n&&d(e),tt(t,n)}}}function ff(i,e,l){let t,{field:n}=e,{counts:a}=e,{bins:s}=e;function r(u){if(u==null)return Me(u);if(s==null||n.bins!=null)return Me(u);const[_,c]=s[u.toString()];return _==null?`< ${Me(c)}`:c==null?`≥ ${Me(_)}`:`${Me(_)} .. ${Me(c)}`}const o=wt(),f=u=>o("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,a=u.counts),"bins"in u&&l(5,s=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...a.map(([u,_])=>_)))},[a,t,r,o,n,s,f]}class uf extends Ee{constructor(e){super(),$e(this,e,ff,of,ke,{field:4,counts:0,bins:5})}}function cf(i){let e,l,t,n,a,s,r,o,f,u,_,c=Me(i[4].total_count)+"",m,h,g,$,E,v,V,S,I,M,C,L,G=Me(i[4].approx_count_distinct)+"",se,Q,K,x,J,F;s=new Dt({props:{class:"inline"}}),v=new Dt({props:{class:"inline"}});let Z=i[4].avg_text_length&&jn(i),ee=i[4].min_val&&i[4].max_val&&Un(i);return{c(){e=D("table"),l=D("tbody"),t=D("tr"),n=D("td"),a=D("span"),z(s.$$.fragment),r=O(),o=D("span"),f=H("Total count"),u=O(),_=D("td"),m=H(c),h=O(),g=D("tr"),$=D("td"),E=D("span"),z(v.$$.fragment),V=O(),S=D("span"),I=H("Unique values"),M=O(),C=D("td"),L=H("~"),se=H(G),Q=O(),Z&&Z.c(),K=O(),ee&&ee.c(),this.h()},l(X){e=N(X,"TABLE",{class:!0});var be=k(e);l=N(be,"TBODY",{});var pe=k(l);t=N(pe,"TR",{});var ie=k(t);n=N(ie,"TD",{class:!0});var Se=k(n);a=N(Se,"SPAN",{});var me=k(a);B(s.$$.fragment,me),me.forEach(d),r=q(Se),o=N(Se,"SPAN",{});var ue=k(o);f=R(ue,"Total count"),ue.forEach(d),Se.forEach(d),u=q(ie),_=N(ie,"TD",{class:!0});var Te=k(_);m=R(Te,c),Te.forEach(d),ie.forEach(d),h=q(pe),g=N(pe,"TR",{});var W=k(g);$=N(W,"TD",{class:!0});var U=k($);E=N(U,"SPAN",{});var oe=k(E);B(v.$$.fragment,oe),oe.forEach(d),V=q(U),S=N(U,"SPAN",{});var Y=k(S);I=R(Y,"Unique values"),Y.forEach(d),U.forEach(d),M=q(W),C=N(W,"TD",{class:!0});var Ie=k(C);L=R(Ie,"~"),se=R(Ie,G),Ie.forEach(d),W.forEach(d),Q=q(pe),Z&&Z.l(pe),K=q(pe),ee&&ee.l(pe),pe.forEach(d),be.forEach(d),this.h()},h(){y(n,"class","svelte-1tctrjz"),y(_,"class","svelte-1tctrjz"),y($,"class","svelte-1tctrjz"),y(C,"class","svelte-1tctrjz"),y(e,"class","stats-table w-full svelte-1tctrjz")},m(X,be){T(X,e,be),p(e,l),p(l,t),p(t,n),p(n,a),A(s,a,null),p(n,r),p(n,o),p(o,f),p(t,u),p(t,_),p(_,m),p(l,h),p(l,g),p(g,$),p($,E),A(v,E,null),p($,V),p($,S),p(S,I),p(g,M),p(g,C),p(C,L),p(C,se),p(l,Q),Z&&Z.m(l,null),p(l,K),ee&&ee.m(l,null),x=!0,J||(F=[Fe(He.call(null,a,{text:"Total number of rows where the value is defined."})),Fe(He.call(null,E,{text:"An approximation of the total number of unique values."}))],J=!0)},p(X,be){(!x||be&16)&&c!==(c=Me(X[4].total_count)+"")&&ae(m,c),(!x||be&16)&&G!==(G=Me(X[4].approx_count_distinct)+"")&&ae(se,G),X[4].avg_text_length?Z?(Z.p(X,be),be&16&&b(Z,1)):(Z=jn(X),Z.c(),b(Z,1),Z.m(l,K)):Z&&(le(),w(Z,1,1,()=>{Z=null}),ne()),X[4].min_val&&X[4].max_val?ee?(ee.p(X,be),be&16&&b(ee,1)):(ee=Un(X),ee.c(),b(ee,1),ee.m(l,null)):ee&&(le(),w(ee,1,1,()=>{ee=null}),ne())},i(X){x||(b(s.$$.fragment,X),b(v.$$.fragment,X),b(Z),b(ee),x=!0)},o(X){w(s.$$.fragment,X),w(v.$$.fragment,X),w(Z),w(ee),x=!1},d(X){X&&d(e),P(s),P(v),Z&&Z.d(),ee&&ee.d(),J=!1,ut(F)}}}function df(i){let e,l;return e=new nt({props:{paragraph:!0,width:"50%"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function mf(i){let e,l,t=i[2].error.message+"",n;return{c(){e=D("p"),l=H("Error: "),n=H(t)},l(a){e=N(a,"P",{});var s=k(e);l=R(s,"Error: "),n=R(s,t),s.forEach(d)},m(a,s){T(a,e,s),p(e,l),p(e,n)},p(a,s){s&4&&t!==(t=a[2].error.message+"")&&ae(n,t)},i:j,o:j,d(a){a&&d(e)}}}function jn(i){let e,l,t,n,a,s,r,o,f,u=Me(i[4].avg_text_length)+"",_,c,m,h;return n=new Dt({props:{class:"inline"}}),{c(){e=D("tr"),l=D("td"),t=D("span"),z(n.$$.fragment),a=O(),s=D("span"),r=H("Average text length"),o=O(),f=D("td"),_=H(u),this.h()},l(g){e=N(g,"TR",{});var $=k(e);l=N($,"TD",{class:!0});var E=k(l);t=N(E,"SPAN",{});var v=k(t);B(n.$$.fragment,v),v.forEach(d),a=q(E),s=N(E,"SPAN",{});var V=k(s);r=R(V,"Average text length"),V.forEach(d),E.forEach(d),o=q($),f=N($,"TD",{class:!0});var S=k(f);_=R(S,u),S.forEach(d),$.forEach(d),this.h()},h(){y(l,"class","svelte-1tctrjz"),y(f,"class","svelte-1tctrjz")},m(g,$){T(g,e,$),p(e,l),p(l,t),A(n,t,null),p(l,a),p(l,s),p(s,r),p(e,o),p(e,f),p(f,_),c=!0,m||(h=Fe(He.call(null,t,{text:"The average length of the text in characters."})),m=!0)},p(g,$){(!c||$&16)&&u!==(u=Me(g[4].avg_text_length)+"")&&ae(_,u)},i(g){c||(b(n.$$.fragment,g),c=!0)},o(g){w(n.$$.fragment,g),c=!1},d(g){g&&d(e),P(n),m=!1,h()}}}function Un(i){let e,l,t,n,a,s,r,o,f,u=Me(i[4].min_val)+"",_,c,m=Me(i[4].max_val)+"",h,g,$,E;return n=new Dt({props:{class:"inline"}}),{c(){e=D("tr"),l=D("td"),t=D("span"),z(n.$$.fragment),a=O(),s=D("span"),r=H("Range"),o=O(),f=D("td"),_=H(u),c=H(" .. "),h=H(m),this.h()},l(v){e=N(v,"TR",{});var V=k(e);l=N(V,"TD",{class:!0});var S=k(l);t=N(S,"SPAN",{});var I=k(t);B(n.$$.fragment,I),I.forEach(d),a=q(S),s=N(S,"SPAN",{});var M=k(s);r=R(M,"Range"),M.forEach(d),S.forEach(d),o=q(V),f=N(V,"TD",{class:!0});var C=k(f);_=R(C,u),c=R(C," .. "),h=R(C,m),C.forEach(d),V.forEach(d),this.h()},h(){y(l,"class","svelte-1tctrjz"),y(f,"class","svelte-1tctrjz")},m(v,V){T(v,e,V),p(e,l),p(l,t),A(n,t,null),p(l,a),p(l,s),p(s,r),p(e,o),p(e,f),p(f,_),p(f,c),p(f,h),g=!0,$||(E=Fe(He.call(null,t,{text:"The minimum and maximum value across the dataset"})),$=!0)},p(v,V){(!g||V&16)&&u!==(u=Me(v[4].min_val)+"")&&ae(_,u),(!g||V&16)&&m!==(m=Me(v[4].max_val)+"")&&ae(h,m)},i(v){g||(b(n.$$.fragment,v),g=!0)},o(v){w(n.$$.fragment,v),g=!1},d(v){v&&d(e),P(n),$=!1,E()}}}function hf(i){let e,l,t;return l=new uf({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[13]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=k(e);B(l.$$.fragment,a),a.forEach(d),this.h()},h(){y(e,"class","mt-4")},m(n,a){T(n,e,a),A(l,e,null),t=!0},p(n,a){const s={};a&32&&(s.counts=n[5]),a&8&&(s.bins=n[3]),a&1&&(s.field=n[0]),l.$set(s)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&d(e),P(l)}}}function _f(i){let e,l;return e=new nt({props:{paragraph:!0,width:"50%"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function gf(i){let e,l,t=i[1].error.message+"",n;return{c(){e=D("p"),l=H("Error: "),n=H(t)},l(a){e=N(a,"P",{});var s=k(e);l=R(s,"Error: "),n=R(s,t),s.forEach(d)},m(a,s){T(a,e,s),p(e,l),p(e,n)},p(a,s){s&2&&t!==(t=a[1].error.message+"")&&ae(n,t)},i:j,o:j,d(a){a&&d(e)}}}function pf(i){let e,l,t,n,a,s,r;const o=[mf,df,cf],f=[];function u(h,g){return h[2].error?0:h[4]==null?1:2}l=u(i),t=f[l]=o[l](i);const _=[gf,_f,hf],c=[];function m(h,g){return h[1].error?0:h[5]==null?1:h[5].length>0?2:-1}return~(a=m(i))&&(s=c[a]=_[a](i)),{c(){e=D("div"),t.c(),n=O(),s&&s.c(),this.h()},l(h){e=N(h,"DIV",{class:!0});var g=k(e);t.l(g),n=q(g),s&&s.l(g),g.forEach(d),this.h()},h(){y(e,"class","p-4")},m(h,g){T(h,e,g),f[l].m(e,null),p(e,n),~a&&c[a].m(e,null),r=!0},p(h,[g]){let $=l;l=u(h),l===$?f[l].p(h,g):(le(),w(f[$],1,1,()=>{f[$]=null}),ne(),t=f[l],t?t.p(h,g):(t=f[l]=o[l](h),t.c()),b(t,1),t.m(e,n));let E=a;a=m(h),a===E?~a&&c[a].p(h,g):(s&&(le(),w(c[E],1,1,()=>{c[E]=null}),ne()),~a?(s=c[a],s?s.p(h,g):(s=c[a]=_[a](h),s.c()),b(s,1),s.m(e,null)):s=null)},i(h){r||(b(t),b(s),r=!0)},o(h){w(t),w(s),r=!1},d(h){h&&d(e),f[l].d(),~a&&c[a].d()}}}function bf(i,e,l){let t,n,a,s,r,o=j,f=()=>(o(),o=Be(n,I=>l(1,r=I)),n),u,_=j,c=()=>(_(),_=Be(t,I=>l(2,u=I)),t),m;i.$$.on_destroy.push(()=>o()),i.$$.on_destroy.push(()=>_());let{field:h}=e;const g=lt();Pe(i,g,I=>l(12,m=I));let $,E,v=null;function V(I){if(I==null){g.addFilter({path:h.path,op:"not_exists"});return}if(v!=null){const[C,L]=v[I.toString()];if(C!=null){const G={path:h.path,op:"greater_equal",value:C};g.addFilter(G)}if(L!=null){const G={path:h.path,op:"less",value:L};g.addFilter(G)}return}const M={path:h.path,op:"equals",value:I};g.addFilter(M)}const S=I=>V(I.detail.value);return i.$$set=I=>{"field"in I&&l(0,h=I.field)},i.$$.update=()=>{var I;if(i.$$.dirty&4097&&c(l(7,t=Ri(m.namespace,m.datasetName,{leaf_path:h.path}))),i.$$.dirty&1&&l(10,$=Qt(h.dtype)&&!h.categorical?"value":"count"),i.$$.dirty&1024&&l(11,E=$==="value"?"ASC":"DESC"),i.$$.dirty&7169&&f(l(6,n=ol(m.namespace,m.datasetName,{leaf_path:h.path,filters:m.query.filters,sort_by:$,sort_order:E}))),i.$$.dirty&2&&l(5,a=r.data!=null?r.data.counts:null),i.$$.dirty&4&&l(4,s=u.data!=null?u.data:null),i.$$.dirty&2)if(((I=r.data)==null?void 0:I.bins)!=null){l(3,v={});for(const[M,C,L]of Object.values(r.data.bins))l(3,v[M]=[C,L],v)}else l(3,v=null)},[h,r,u,v,s,a,n,t,g,V,$,E,m,S]}class vf extends Ee{constructor(e){super(),$e(this,e,bf,pf,ke,{field:0})}}function Yn(i,e,l){const t=i.slice();return t[40]=e[l],t}function Qn(i,e,l){const t=i.slice();return t[43]=e[l],t}function Gn(i,e,l){const t=i.slice();return t[46]=e[l],t}function Wn(i,e,l){const t=i.slice();return t[49]=e[l],t}function wf(i){let e,l="{}",t;return{c(){e=D("span"),t=H(l),this.h()},l(n){e=N(n,"SPAN",{class:!0});var a=k(e);t=R(a,l),a.forEach(d),this.h()},h(){y(e,"class","font-mono")},m(n,a){T(n,e,a),p(e,t)},p:j,i:j,o:j,d(n){n&&d(e)}}}function kf(i){let e,l,t,n;var a=Ut[i[1].repeated_field.dtype];function s(r){return{props:{title:r[1].dtype||void 0}}}return a&&(l=Ot(a,s(i))),{c(){e=D("div"),l&&z(l.$$.fragment),t=H("[]"),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);l&&B(l.$$.fragment,o),t=R(o,"[]"),o.forEach(d),this.h()},h(){y(e,"class","flex")},m(r,o){T(r,e,o),l&&A(l,e,null),p(e,t),n=!0},p(r,o){const f={};if(o[0]&2&&(f.title=r[1].dtype||void 0),o[0]&2&&a!==(a=Ut[r[1].repeated_field.dtype])){if(l){le();const u=l;w(u.$$.fragment,1,0,()=>{P(u,1)}),ne()}a?(l=Ot(a,s(r)),z(l.$$.fragment),b(l.$$.fragment,1),A(l,e,t)):l=null}else a&&l.$set(f)},i(r){n||(l&&b(l.$$.fragment,r),n=!0)},o(r){l&&w(l.$$.fragment,r),n=!1},d(r){r&&d(e),l&&P(l)}}}function Ef(i){let e,l,t;var n=Ut[i[1].dtype];function a(s){return{props:{title:s[1].dtype}}}return n&&(e=Ot(n,a(i))),{c(){e&&z(e.$$.fragment),l=he()},l(s){e&&B(e.$$.fragment,s),l=he()},m(s,r){e&&A(e,s,r),T(s,l,r),t=!0},p(s,r){const o={};if(r[0]&2&&(o.title=s[1].dtype),r[0]&2&&n!==(n=Ut[s[1].dtype])){if(e){le();const f=e;w(f.$$.fragment,1,0,()=>{P(f,1)}),ne()}n?(e=Ot(n,a(s)),z(e.$$.fragment),b(e.$$.fragment,1),A(e,l.parentNode,l)):e=null}else n&&e.$set(o)},i(s){t||(e&&b(e.$$.fragment,s),t=!0)},o(s){e&&w(e.$$.fragment,s),t=!1},d(s){s&&d(l),e&&P(e,s)}}}function Jn(i){let e,l;return e=new bl({props:{interactive:!0,type:"green",$$slots:{default:[yf]},$$scope:{ctx:i}}}),e.$on("click",i[34]),e.$on("remove",i[35]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&65536|n[1]&2097152&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function $f(i){let e,l;return e=new Ki({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Sf(i){let e,l;return e=new Zi({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function yf(i){let e,l,t,n,a,s,r,o;const f=[Sf,$f],u=[];function _(c,m){return c[16]=="ASC"?0:1}return s=_(i),r=u[s]=f[s](i),{c(){e=D("div"),l=D("div"),t=H("Sorted"),n=O(),a=D("span"),r.c(),this.h()},l(c){e=N(c,"DIV",{class:!0});var m=k(e);l=N(m,"DIV",{class:!0});var h=k(l);t=R(h,"Sorted"),h.forEach(d),n=q(m),a=N(m,"SPAN",{});var g=k(a);r.l(g),g.forEach(d),m.forEach(d),this.h()},h(){y(l,"class","mr-1"),y(e,"class","flex flex-row")},m(c,m){T(c,e,m),p(e,l),p(l,t),p(e,n),p(e,a),u[s].m(a,null),o=!0},p(c,m){let h=s;s=_(c),s!==h&&(le(),w(u[h],1,1,()=>{u[h]=null}),ne(),r=u[s],r||(r=u[s]=f[s](c),r.c()),b(r,1),r.m(a,null))},i(c){o||(b(r),o=!0)},o(c){w(r),o=!1},d(c){c&&d(e),u[s].d()}}}function Zn(i){let e,l,t=i[7],n=[];for(let s=0;s<t.length;s+=1)n[s]=Kn(Wn(i,t,s));const a=s=>w(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=he()},l(s){for(let r=0;r<n.length;r+=1)n[r].l(s);e=he()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);T(s,e,r),l=!0},p(s,r){if(r[0]&129){t=s[7];let o;for(o=0;o<t.length;o+=1){const f=Wn(s,t,o);n[o]?(n[o].p(f,r),b(n[o],1)):(n[o]=Kn(f),n[o].c(),b(n[o],1),n[o].m(e.parentNode,e))}for(le(),o=t.length;o<n.length;o+=1)a(o);ne()}},i(s){if(!l){for(let r=0;r<t.length;r+=1)b(n[r]);l=!0}},o(s){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)w(n[r]);l=!1},d(s){tt(n,s),s&&d(e)}}}function Kn(i){let e,l;return e=new Xi({props:{schema:i[0],filter:i[49],hidePath:!0}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&1&&(a.schema=t[0]),n[0]&128&&(a.filter=t[49]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Xn(i){let e,l;return e=new es({props:{search:i[46]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&16384&&(a.search=t[46]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function xn(i){var t;let e,l;return e=new Qi({props:{embedding:(t=i[43].signal)==null?void 0:t.signal_name}}),{c(){z(e.$$.fragment)},l(n){B(e.$$.fragment,n)},m(n,a){A(e,n,a),l=!0},p(n,a){var r;const s={};a[0]&262144&&(s.embedding=(r=n[43].signal)==null?void 0:r.signal_name),e.$set(s)},i(n){l||(b(e.$$.fragment,n),l=!0)},o(n){w(e.$$.fragment,n),l=!1},d(n){P(e,n)}}}function ei(i){let e,l,t,n,a,s,r;return l=new ct({props:{type:"cyan",icon:Yi}}),l.$on("click",i[36]),n=new af({props:{isPreview:!0}}),n.$on("click",i[37]),{c(){e=D("div"),z(l.$$.fragment),t=O(),z(n.$$.fragment),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);B(l.$$.fragment,f),f.forEach(d),t=q(o),B(n.$$.fragment,o),this.h()},h(){y(e,"class","compute-signal-preview pointer-events-auto")},m(o,f){T(o,e,f),A(l,e,null),T(o,t,f),A(n,o,f),a=!0,s||(r=Fe(He.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),s=!0)},p:j,i(o){a||(b(l.$$.fragment,o),b(n.$$.fragment,o),a=!0)},o(o){w(l.$$.fragment,o),w(n.$$.fragment,o),a=!1},d(o){o&&d(e),P(l),o&&d(t),P(n,o),s=!1,r()}}}function ti(i){let e,l,t,n,a,s,r;return t=new rr({}),{c(){e=D("button"),l=D("div"),z(t.$$.fragment),this.h()},l(o){e=N(o,"BUTTON",{});var f=k(e);l=N(f,"DIV",{class:!0});var u=k(l);B(t.$$.fragment,u),u.forEach(d),f.forEach(d),this.h()},h(){y(l,"class","transition"),re(l,"rotate-180",i[21]),re(e,"bg-slate-300",i[21])},m(o,f){T(o,e,f),p(e,l),A(t,l,null),a=!0,s||(r=[Fe(n=He.call(null,e,{text:i[21]?"Close statistics":"See statistics"})),Le(e,"click",i[38])],s=!0)},p(o,f){(!a||f[0]&2097152)&&re(l,"rotate-180",o[21]),n&&Ke(n.update)&&f[0]&2097152&&n.update.call(null,{text:o[21]?"Close statistics":"See statistics"}),(!a||f[0]&2097152)&&re(e,"bg-slate-300",o[21])},i(o){a||(b(t.$$.fragment,o),a=!0)},o(o){w(t.$$.fragment,o),a=!1},d(o){o&&d(e),P(t),s=!1,ut(r)}}}function li(i){let e,l,t,n;return l=new vf({props:{field:i[1]}}),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(a){e=N(a,"DIV",{class:!0});var s=k(e);B(l.$$.fragment,s),s.forEach(d),this.h()},h(){y(e,"class","px-2")},m(a,s){T(a,e,s),A(l,e,null),n=!0},p(a,s){const r={};s[0]&2&&(r.field=a[1]),l.$set(r)},i(a){n||(b(l.$$.fragment,a),a&&Vi(()=>{n&&(t||(t=Lt(e,Yt,{},!0)),t.run(1))}),n=!0)},o(a){w(l.$$.fragment,a),a&&(t||(t=Lt(e,Yt,{},!1)),t.run(0)),n=!1},d(a){a&&d(e),P(l),a&&t&&t.end()}}}function ni(i){let e,l,t=i[19],n=[];for(let s=0;s<t.length;s+=1)n[s]=ii(Yn(i,t,s));const a=s=>w(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=he()},l(s){for(let r=0;r<n.length;r+=1)n[r].l(s);e=he()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);T(s,e,r),l=!0},p(s,r){if(r[0]&524559){t=s[19];let o;for(o=0;o<t.length;o+=1){const f=Yn(s,t,o);n[o]?(n[o].p(f,r),b(n[o],1)):(n[o]=ii(f),n[o].c(),b(n[o],1),n[o].m(e.parentNode,e))}for(le(),o=t.length;o<n.length;o+=1)a(o);ne()}},i(s){if(!l){for(let r=0;r<t.length;r+=1)b(n[r]);l=!0}},o(s){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)w(n[r]);l=!1},d(s){tt(n,s),s&&d(e)}}}function ii(i){let e,l;return e=new ts({props:{schema:i[0],field:i[40],indent:i[3]+1,sourceField:i[8]&&It(i[40])?i[1]:i[2]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&1&&(a.schema=t[0]),n[0]&524288&&(a.field=t[40]),n[0]&8&&(a.indent=t[3]+1),n[0]&524550&&(a.sourceField=t[8]&&It(t[40])?t[1]:t[2]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function If(i){let e,l,t,n,a,s,r,o,f,u,_,c,m,h,g,$,E,v,V,S,I,M,C,L,G,se,Q;const K=[Ef,kf,wf],x=[];function J(U,oe){return U[1].dtype?0:U[1].repeated_field&&U[1].repeated_field.dtype?1:2}n=J(i),a=x[n]=K[n](i);let F=i[17]&&Jn(i),Z=i[15]&&Zn(i),ee=i[14],X=[];for(let U=0;U<ee.length;U+=1)X[U]=Xn(Gn(i,ee,U));const be=U=>w(X[U],1,1,()=>{X[U]=null});let pe=i[18],ie=[];for(let U=0;U<pe.length;U+=1)ie[U]=xn(Qn(i,pe,U));const Se=U=>w(ie[U],1,1,()=>{ie[U]=null});let me=i[4]&&i[23]&&ei(i),ue=i[12]&&ti(i);S=new nf({props:{field:i[1]}});let Te=i[21]&&li(i),W=i[19].length&&ni(i);return{c(){e=D("div"),l=D("div"),t=D("div"),a.c(),r=O(),o=D("div"),f=D("button"),u=H(i[20]),m=O(),F&&F.c(),h=O(),Z&&Z.c(),g=O();for(let U=0;U<X.length;U+=1)X[U].c();$=O();for(let U=0;U<ie.length;U+=1)ie[U].c();E=O(),me&&me.c(),v=O(),ue&&ue.c(),V=O(),z(S.$$.fragment),I=O(),Te&&Te.c(),M=O(),C=D("div"),W&&W.c(),this.h()},l(U){e=N(U,"DIV",{class:!0});var oe=k(e);l=N(oe,"DIV",{class:!0});var Y=k(l);t=N(Y,"DIV",{class:!0});var Ie=k(t);a.l(Ie),Ie.forEach(d),r=q(Y),o=N(Y,"DIV",{class:!0});var fe=k(o);f=N(fe,"BUTTON",{class:!0});var we=k(f);u=R(we,i[20]),we.forEach(d),fe.forEach(d),m=q(Y),F&&F.l(Y),h=q(Y),Z&&Z.l(Y),g=q(Y);for(let Re=0;Re<X.length;Re+=1)X[Re].l(Y);$=q(Y);for(let Re=0;Re<ie.length;Re+=1)ie[Re].l(Y);E=q(Y),me&&me.l(Y),v=q(Y),ue&&ue.l(Y),V=q(Y),B(S.$$.fragment,Y),Y.forEach(d),I=q(oe),Te&&Te.l(oe),M=q(oe),C=N(oe,"DIV",{});var ve=k(C);W&&W.l(ve),ve.forEach(d),oe.forEach(d),this.h()},h(){y(t,"class","rounded-md bg-blue-200 p-0.5"),re(t,"bg-blue-200",i[5]),yt(t,"margin-left",i[3]*1.5+"rem"),y(f,"class","ml-2 w-full cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),f.disabled=_=!i[12],re(f,"cursor-default",!i[12]),y(o,"class","grow"),y(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),re(l,"bg-blue-50",i[5]),re(l,"bg-emerald-100",i[4]),re(l,"bg-teal-100",i[9]),re(l,"hover:bg-blue-100",i[5]),y(e,"class","border-gray-300"),re(e,"border-b",i[8])},m(U,oe){T(U,e,oe),p(e,l),p(l,t),x[n].m(t,null),p(l,r),p(l,o),p(o,f),p(f,u),p(l,m),F&&F.m(l,null),p(l,h),Z&&Z.m(l,null),p(l,g);for(let Y=0;Y<X.length;Y+=1)X[Y]&&X[Y].m(l,null);p(l,$);for(let Y=0;Y<ie.length;Y+=1)ie[Y]&&ie[Y].m(l,null);p(l,E),me&&me.m(l,null),p(l,v),ue&&ue.m(l,null),p(l,V),A(S,l,null),p(e,I),Te&&Te.m(e,null),p(e,M),p(e,C),W&&W.m(C,null),G=!0,se||(Q=[Fe(s=He.call(null,t,{text:i[13]})),Le(f,"click",i[33]),Fe(c=He.call(null,o,{text:i[11]||""}))],se=!0)},p(U,oe){let Y=n;if(n=J(U),n===Y?x[n].p(U,oe):(le(),w(x[Y],1,1,()=>{x[Y]=null}),ne(),a=x[n],a?a.p(U,oe):(a=x[n]=K[n](U),a.c()),b(a,1),a.m(t,null)),s&&Ke(s.update)&&oe[0]&8192&&s.update.call(null,{text:U[13]}),(!G||oe[0]&32)&&re(t,"bg-blue-200",U[5]),oe[0]&8&&yt(t,"margin-left",U[3]*1.5+"rem"),(!G||oe[0]&1048576)&&ae(u,U[20]),(!G||oe[0]&4096&&_!==(_=!U[12]))&&(f.disabled=_),(!G||oe[0]&4096)&&re(f,"cursor-default",!U[12]),c&&Ke(c.update)&&oe[0]&2048&&c.update.call(null,{text:U[11]||""}),U[17]?F?(F.p(U,oe),oe[0]&131072&&b(F,1)):(F=Jn(U),F.c(),b(F,1),F.m(l,h)):F&&(le(),w(F,1,1,()=>{F=null}),ne()),U[15]?Z?(Z.p(U,oe),oe[0]&32768&&b(Z,1)):(Z=Zn(U),Z.c(),b(Z,1),Z.m(l,g)):Z&&(le(),w(Z,1,1,()=>{Z=null}),ne()),oe[0]&16384){ee=U[14];let fe;for(fe=0;fe<ee.length;fe+=1){const we=Gn(U,ee,fe);X[fe]?(X[fe].p(we,oe),b(X[fe],1)):(X[fe]=Xn(we),X[fe].c(),b(X[fe],1),X[fe].m(l,$))}for(le(),fe=ee.length;fe<X.length;fe+=1)be(fe);ne()}if(oe[0]&262144){pe=U[18];let fe;for(fe=0;fe<pe.length;fe+=1){const we=Qn(U,pe,fe);ie[fe]?(ie[fe].p(we,oe),b(ie[fe],1)):(ie[fe]=xn(we),ie[fe].c(),b(ie[fe],1),ie[fe].m(l,E))}for(le(),fe=pe.length;fe<ie.length;fe+=1)Se(fe);ne()}U[4]&&U[23]?me?(me.p(U,oe),oe[0]&8388624&&b(me,1)):(me=ei(U),me.c(),b(me,1),me.m(l,v)):me&&(le(),w(me,1,1,()=>{me=null}),ne()),U[12]?ue?(ue.p(U,oe),oe[0]&4096&&b(ue,1)):(ue=ti(U),ue.c(),b(ue,1),ue.m(l,V)):ue&&(le(),w(ue,1,1,()=>{ue=null}),ne());const Ie={};oe[0]&2&&(Ie.field=U[1]),S.$set(Ie),(!G||oe[0]&32)&&re(l,"bg-blue-50",U[5]),(!G||oe[0]&16)&&re(l,"bg-emerald-100",U[4]),(!G||oe[0]&512)&&re(l,"bg-teal-100",U[9]),(!G||oe[0]&32)&&re(l,"hover:bg-blue-100",U[5]),U[21]?Te?(Te.p(U,oe),oe[0]&2097152&&b(Te,1)):(Te=li(U),Te.c(),b(Te,1),Te.m(e,M)):Te&&(le(),w(Te,1,1,()=>{Te=null}),ne()),U[19].length?W?(W.p(U,oe),oe[0]&524288&&b(W,1)):(W=ni(U),W.c(),b(W,1),W.m(C,null)):W&&(le(),w(W,1,1,()=>{W=null}),ne()),(!G||oe[0]&256)&&re(e,"border-b",U[8])},i(U){if(!G){b(a),b(F),b(Z);for(let oe=0;oe<ee.length;oe+=1)b(X[oe]);for(let oe=0;oe<pe.length;oe+=1)b(ie[oe]);b(me),b(ue),b(S.$$.fragment,U),b(Te),b(W),U&&Vi(()=>{G&&(L||(L=Lt(C,Yt,{},!0)),L.run(1))}),G=!0}},o(U){w(a),w(F),w(Z),X=X.filter(Boolean);for(let oe=0;oe<X.length;oe+=1)w(X[oe]);ie=ie.filter(Boolean);for(let oe=0;oe<ie.length;oe+=1)w(ie[oe]);w(me),w(ue),w(S.$$.fragment,U),w(Te),w(W),U&&(L||(L=Lt(C,Yt,{},!1)),L.run(0)),G=!1},d(U){U&&d(e),x[n].d(),F&&F.d(),Z&&Z.d(),tt(X,U),tt(ie,U),me&&me.d(),ue&&ue.d(),P(S),Te&&Te.d(),W&&W.d(),U&&L&&L.end(),se=!1,ut(Q)}}}function Df(i,e,l){let t,n,a,s,r,o,f,u,_,c,m,h,g,$,E,v,V,S,I,M,C,L,G,se=j,Q=()=>(se(),se=Be(r,Y=>l(31,G=Y)),r),K,x;i.$$.on_destroy.push(()=>se());let{schema:J}=e,{field:F}=e,{sourceField:Z=void 0}=e,{indent:ee=0}=e;const X=Bi();Pe(i,X,Y=>l(24,x=Y));const be=lt();Pe(i,be,Y=>l(10,L=Y));const pe=Ds();Pe(i,pe,Y=>l(32,K=Y));let ie=null;function Se(Y){return Y!=null&&Y.repeated_field?Se(Y.repeated_field):Y!=null&&Y.fields?[...Object.values(Y.fields).filter(Ie=>Ie.path.at(-1)!==Ns)].filter(Ie=>{var fe,we,ve,Re;return!(Ie.dtype==="embedding"||Ie.signal!=null&&gt(Ie).some(Xe=>Xe.dtype==="embedding")||((fe=Ie.signal)==null?void 0:fe.signal_name)==="sentences"||((we=Ie.signal)==null?void 0:we.signal_name)==="substring_search"||((ve=Ie.signal)==null?void 0:ve.signal_name)==="semantic_similarity"||((Re=Ie.signal)==null?void 0:Re.signal_name)==="concept_labels")}):[]}const me=()=>{C&&(f?be.removeExpandedColumn(o):be.addExpandedColumn(o))},ue=()=>g==="ASC"?Xt(be,L.query.sort_order="DESC",L):Xt(be,L.query.sort_order="ASC",L),Te=()=>be.removeSortBy(o),W=()=>F.signal&&v&&Z&&x.mutate([L.namespace,L.datasetName,{leaf_path:Z.path,signal:F.signal}]),U=()=>{var Y;return F.signal&&v&&ht({command:_t.EditPreviewConcept,namespace:L.namespace,datasetName:L.datasetName,path:Z==null?void 0:Z.path,signalName:(Y=F.signal)==null?void 0:Y.signal_name,value:F.signal})},oe=()=>{f?be.removeExpandedColumn(o):be.addExpandedColumn(o)};return i.$$set=Y=>{"schema"in Y&&l(0,J=Y.schema),"field"in Y&&l(1,F=Y.field),"sourceField"in Y&&l(2,Z=Y.sourceField),"indent"in Y&&l(3,ee=Y.indent)},i.$$.update=()=>{var Y,Ie;if(i.$$.dirty[0]&2&&l(5,t=It(F)),i.$$.dirty[0]&2&&l(23,n=Wt(F)),i.$$.dirty[0]&2&&l(9,a=Li(F)),i.$$.dirty[0]&544&&l(8,s=!t&&!a),i.$$.dirty[0]&1024&&Q(l(22,r=Et(L.namespace,L.datasetName,$t(L)))),i.$$.dirty[0]&2&&l(6,o=F.path),i.$$.dirty[0]&1088&&l(21,f=L.expandedStats[st(o)]||!1),i.$$.dirty[0]&64&&l(30,u=o.at(-1)===cl),i.$$.dirty[0]&1073741888&&l(20,_=u?o.at(-2):o.at(-1)),i.$$.dirty[0]&2|i.$$.dirty[1]&2&&F.signal&&K.data!=null)if(F.signal.signal_name==="concept_score"){const fe=F.signal;l(20,_=`${fe.concept_name}`),l(11,ie=`Concept '${fe.namespace}/${fe.concept_name}' arguments:

embedding: '${fe.embedding}'`+(fe.version!=null?`
version: ${fe.version}`:""))}else{const fe=K.data.find(we=>{var ve;return we.name===((ve=F.signal)==null?void 0:ve.signal_name)});if(fe!=null){l(20,_=fe.json_schema.title);const we=Object.entries(F.signal||{}).filter(([ve,Re])=>ve!="signal_name").map(([ve,Re])=>`${ve}: ${Re}`).join(`
`);we.length>0&&l(11,ie=`Signal '${fe.name}' arguments: 

${we}`)}}i.$$.dirty[0]&2&&l(19,c=Se(F)),i.$$.dirty[0]&258&&l(18,m=s?gt(F).filter(fe=>fe.signal!=null&&gt(fe).some(we=>we.dtype==="embedding")):[]),i.$$.dirty[0]&1088&&l(17,h=(Y=L.query.sort_by)==null?void 0:Y.some(fe=>xt(fe,o))),i.$$.dirty[0]&1024&&l(16,g=L.query.sort_order),i.$$.dirty[0]&1088&&l(7,$=((Ie=L.query.filters)==null?void 0:Ie.filter(fe=>xt(fe.path,o)))||[]),i.$$.dirty[0]&128&&l(15,E=$.length>0),i.$$.dirty[0]&64|i.$$.dirty[1]&1&&l(4,v=Hi(G.data||null,o)),i.$$.dirty[0]&1088&&l(14,V=fl(L,o)),i.$$.dirty[0]&32&&l(28,S=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(29,I=F.dtype??(F.repeated_field&&F.repeated_field.dtype?`${F.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&805306368&&l(13,M=`${I}${S}`),i.$$.dirty[0]&18&&l(12,C=jt(F)&&!v)},[J,F,Z,ee,v,t,o,$,s,a,L,ie,C,M,V,E,g,h,m,c,_,f,r,n,x,X,be,pe,S,I,u,G,K,me,ue,Te,W,U,oe]}class ts extends Ee{constructor(e){super(),$e(this,e,Df,If,ke,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function si(i,e,l){const t=i.slice();return t[4]=e[l],t}function Nf(i){let e=[],l=new Map,t,n,a=Object.keys(i[1].data.schema.fields);const s=r=>r[4];for(let r=0;r<a.length;r+=1){let o=si(i,a,r),f=s(o);l.set(f,e[r]=ri(f,o))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=he()},l(r){for(let o=0;o<e.length;o+=1)e[o].l(r);t=he()},m(r,o){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(r,o);T(r,t,o),n=!0},p(r,o){o&2&&(a=Object.keys(r[1].data.schema.fields),le(),e=Ni(e,o,s,1,r,a,l,t.parentNode,Ti,ri,t,si),ne())},i(r){if(!n){for(let o=0;o<a.length;o+=1)b(e[o]);n=!0}},o(r){for(let o=0;o<e.length;o+=1)w(e[o]);n=!1},d(r){for(let o=0;o<e.length;o+=1)e[o].d(r);r&&d(t)}}}function Tf(i){let e,l;return e=new nt({props:{paragraph:!0,lines:3}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function ri(i,e){let l,t,n;return t=new ts({props:{schema:e[1].data.schema,field:e[1].data.schema.fields[e[4]]}}),{key:i,first:null,c(){l=he(),z(t.$$.fragment),this.h()},l(a){l=he(),B(t.$$.fragment,a),this.h()},h(){this.first=l},m(a,s){T(a,l,s),A(t,a,s),n=!0},p(a,s){e=a;const r={};s&2&&(r.schema=e[1].data.schema),s&2&&(r.field=e[1].data.schema.fields[e[4]]),t.$set(r)},i(a){n||(b(t.$$.fragment,a),n=!0)},o(a){w(t.$$.fragment,a),n=!1},d(a){a&&d(l),P(t,a)}}}function Vf(i){let e,l,t,n;const a=[Tf,Nf],s=[];function r(o,f){var u,_;return(u=o[1])!=null&&u.isLoading?0:(_=o[1])!=null&&_.isSuccess&&o[1].data.schema.fields!=null?1:-1}return~(l=r(i))&&(t=s[l]=a[l](i)),{c(){e=D("div"),t&&t.c(),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);t&&t.l(f),f.forEach(d),this.h()},h(){y(e,"class","schema flex h-full flex-col overflow-y-auto")},m(o,f){T(o,e,f),~l&&s[l].m(e,null),n=!0},p(o,[f]){let u=l;l=r(o),l===u?~l&&s[l].p(o,f):(t&&(le(),w(s[u],1,1,()=>{s[u]=null}),ne()),~l?(t=s[l],t?t.p(o,f):(t=s[l]=a[l](o),t.c()),b(t,1),t.m(e,null)):t=null)},i(o){n||(b(t),n=!0)},o(o){w(t),n=!1},d(o){o&&d(e),~l&&s[l].d()}}}function Mf(i,e,l){let t,n,a,s=j,r=()=>(s(),s=Be(t,f=>l(1,a=f)),t);i.$$.on_destroy.push(()=>s());const o=lt();return Pe(i,o,f=>l(3,n=f)),i.$$.update=()=>{i.$$.dirty&8&&r(l(0,t=Et(n.namespace,n.datasetName,$t(n))))},[t,a,o,n]}class Cf extends Ee{constructor(e){super(),$e(this,e,Mf,Vf,ke,{})}}function zf(i){let e,l,t,n,a,s,r,o,f,u,_,c,m,h,g,$,E,v,V,S,I,M,C,L,G,se,Q,K;function x(F){i[13](F)}let J={invalid:i[5]!=i[6]};return i[5]!==void 0&&(J.value=i[5]),V=new Oi({props:J}),We.push(()=>Je(V,"value",x)),L=new Qs({}),{c(){e=D("div"),l=D("section"),t=D("div"),n=H("Delete this dataset"),a=O(),s=D("div"),r=D("p"),o=H("This action cannot be undone."),f=O(),u=D("p"),_=H(`This will permanently delete the
                  `),c=D("span"),m=H(i[6]),h=H(` dataset and all its files. Please type
                  `),g=D("span"),$=H(i[6]),E=H(" to confirm."),v=O(),z(V.$$.fragment),I=O(),M=D("button"),C=H(`I understand, delete this dataset
                `),z(L.$$.fragment),this.h()},l(F){e=N(F,"DIV",{class:!0});var Z=k(e);l=N(Z,"SECTION",{class:!0});var ee=k(l);t=N(ee,"DIV",{class:!0});var X=k(t);n=R(X,"Delete this dataset"),X.forEach(d),a=q(ee),s=N(ee,"DIV",{class:!0});var be=k(s);r=N(be,"P",{class:!0});var pe=k(r);o=R(pe,"This action cannot be undone."),pe.forEach(d),f=q(be),u=N(be,"P",{});var ie=k(u);_=R(ie,`This will permanently delete the
                  `),c=N(ie,"SPAN",{class:!0});var Se=k(c);m=R(Se,i[6]),Se.forEach(d),h=R(ie,` dataset and all its files. Please type
                  `),g=N(ie,"SPAN",{class:!0});var me=k(g);$=R(me,i[6]),me.forEach(d),E=R(ie," to confirm."),ie.forEach(d),be.forEach(d),v=q(ee),B(V.$$.fragment,ee),I=q(ee),M=N(ee,"BUTTON",{class:!0});var ue=k(M);C=R(ue,`I understand, delete this dataset
                `),B(L.$$.fragment,ue),ue.forEach(d),ee.forEach(d),Z.forEach(d),this.h()},h(){y(t,"class","text-lg text-gray-700"),y(r,"class","mb-2"),y(c,"class","font-bold"),y(g,"class","font-bold"),y(s,"class","mb-4 text-sm text-gray-500"),y(M,"class","mt-2 flex cursor-pointer flex-row justify-between p-4 text-left outline-red-400 hover:bg-gray-200"),M.disabled=G=i[5]!=i[6],re(M,"cursor-not-allowed",i[5]!=i[6]),re(M,"outline",i[5]==i[6]),re(M,"opacity-50",i[5]!=i[6]),y(l,"class","flex flex-col gap-y-1"),y(e,"class","flex flex-col gap-y-6")},m(F,Z){T(F,e,Z),p(e,l),p(l,t),p(t,n),p(l,a),p(l,s),p(s,r),p(r,o),p(s,f),p(s,u),p(u,_),p(u,c),p(c,m),p(u,h),p(u,g),p(g,$),p(u,E),p(l,v),A(V,l,null),p(l,I),p(l,M),p(M,C),A(L,M,null),se=!0,Q||(K=Le(M,"click",i[14]),Q=!0)},p(F,Z){(!se||Z&64)&&ae(m,F[6]),(!se||Z&64)&&ae($,F[6]);const ee={};Z&96&&(ee.invalid=F[5]!=F[6]),!S&&Z&32&&(S=!0,ee.value=F[5],Ze(()=>S=!1)),V.$set(ee),(!se||Z&96&&G!==(G=F[5]!=F[6]))&&(M.disabled=G),(!se||Z&96)&&re(M,"cursor-not-allowed",F[5]!=F[6]),(!se||Z&96)&&re(M,"outline",F[5]==F[6]),(!se||Z&96)&&re(M,"opacity-50",F[5]!=F[6])},i(F){se||(b(V.$$.fragment,F),b(L.$$.fragment,F),se=!0)},o(F){w(V.$$.fragment,F),w(L.$$.fragment,F),se=!1},d(F){F&&d(e),P(V),P(L),Q=!1,K()}}}function Af(i){let e,l,t;function n(s){i[12](s)}let a={namespace:i[1],datasetName:i[2]};return i[4]!==void 0&&(a.settings=i[4]),e=new Zs({props:a}),We.push(()=>Je(e,"settings",n)),{c(){z(e.$$.fragment)},l(s){B(e.$$.fragment,s)},m(s,r){A(e,s,r),t=!0},p(s,r){const o={};r&2&&(o.namespace=s[1]),r&4&&(o.datasetName=s[2]),!l&&r&16&&(l=!0,o.settings=s[4],Ze(()=>l=!1)),e.$set(o)},i(s){t||(b(e.$$.fragment,s),t=!0)},o(s){w(e.$$.fragment,s),t=!1},d(s){P(e,s)}}}function Pf(i){let e,l,t,n,a,s,r,o;t=new Cs({props:{items:[{title:"Fields",value:"fields"},{title:"Administration",value:"administration"}],item:i[3]}}),t.$on("select",i[11]);const f=[Af,zf],u=[];function _(c,m){return c[3]==="fields"?0:c[3]==="administration"?1:-1}return~(s=_(i))&&(r=u[s]=f[s](i)),{c(){e=D("div"),l=D("div"),z(t.$$.fragment),n=O(),a=D("div"),r&&r.c(),this.h()},l(c){e=N(c,"DIV",{class:!0});var m=k(e);l=N(m,"DIV",{class:!0});var h=k(l);B(t.$$.fragment,h),h.forEach(d),n=q(m),a=N(m,"DIV",{class:!0});var g=k(a);r&&r.l(g),g.forEach(d),m.forEach(d),this.h()},h(){y(l,"class","-ml-4 mr-4 w-96 grow-0"),y(a,"class","flex w-full flex-col gap-y-6 rounded border border-gray-300 bg-white p-4"),y(e,"class","flex flex-row")},m(c,m){T(c,e,m),p(e,l),A(t,l,null),p(e,n),p(e,a),~s&&u[s].m(a,null),o=!0},p(c,m){const h={};m&8&&(h.item=c[3]),t.$set(h);let g=s;s=_(c),s===g?~s&&u[s].p(c,m):(r&&(le(),w(u[g],1,1,()=>{u[g]=null}),ne()),~s?(r=u[s],r?r.p(c,m):(r=u[s]=f[s](c),r.c()),b(r,1),r.m(a,null)):r=null)},i(c){o||(b(t.$$.fragment,c),b(r),o=!0)},o(c){w(t.$$.fragment,c),w(r),o=!1},d(c){c&&d(e),P(t),~s&&u[s].d()}}}function Bf(i){let e,l,t,n,a,s;return e=new ml({props:{label:"Changes",title:"Dataset settings"}}),t=new hl({props:{hasForm:!0,$$slots:{default:[Pf]},$$scope:{ctx:i}}}),a=new _l({props:{danger:i[3]==="administration",primaryButtonText:"Save",secondaryButtonText:"Cancel",primaryButtonDisabled:i[3]==="administration"}}),a.$on("click:button--secondary",i[15]),{c(){z(e.$$.fragment),l=O(),z(t.$$.fragment),n=O(),z(a.$$.fragment)},l(r){B(e.$$.fragment,r),l=q(r),B(t.$$.fragment,r),n=q(r),B(a.$$.fragment,r)},m(r,o){A(e,r,o),T(r,l,o),A(t,r,o),T(r,n,o),A(a,r,o),s=!0},p(r,o){const f={};o&262398&&(f.$$scope={dirty:o,ctx:r}),t.$set(f);const u={};o&8&&(u.danger=r[3]==="administration"),o&8&&(u.primaryButtonDisabled=r[3]==="administration"),a.$set(u)},i(r){s||(b(e.$$.fragment,r),b(t.$$.fragment,r),b(a.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),w(t.$$.fragment,r),w(a.$$.fragment,r),s=!1},d(r){P(e,r),r&&d(l),P(t,r),r&&d(n),P(a,r)}}}function Ff(i){let e,l;return e=new dl({props:{open:i[0],$$slots:{default:[Bf]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[16]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,[n]){const a={};n&1&&(a.open=t[0]),n&262399&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Hf(i,e,l){let t,n,a,{namespace:s}=e,{name:r}=e,{open:o=!1}=e;const f=Ts();Pe(i,f,I=>l(17,n=I));let u="fields",_;function c(){_!=null&&n.mutate([s,r,_],{onSuccess:()=>{l(0,o=!1)}})}let m="";const h=Vs();Pe(i,h,I=>l(7,a=I));const g=I=>l(3,u=I.detail);function $(I){_=I,l(4,_)}function E(I){m=I,l(5,m)}const v=()=>a.mutate([s,r],{onSuccess:()=>il("/")}),V=()=>l(0,o=!1),S=()=>l(0,o=!1);return i.$$set=I=>{"namespace"in I&&l(1,s=I.namespace),"name"in I&&l(2,r=I.name),"open"in I&&l(0,o=I.open)},i.$$.update=()=>{i.$$.dirty&6&&l(6,t=Ms(s,r))},[o,s,r,u,_,m,t,a,f,c,h,g,$,E,v,V,S]}class Rf extends Ee{constructor(e){super(),$e(this,e,Hf,Ff,ke,{namespace:1,name:2,open:0})}}function ai(i,e,l){const t=i.slice();return t[40]=e[l],t}function oi(i,e,l){const t=i.slice();return t[43]=e[l],t[44]=e,t[45]=l,t}function fi(i){let e,l,t,n,a,s,r;function o(u){i[27](u)}let f={fields:i[11]};return i[3]!==void 0&&(f.checkedFields=i[3]),a=new gl({props:f}),We.push(()=>Je(a,"checkedFields",o)),{c(){e=D("section"),l=D("h4"),t=H("Labels"),n=O(),z(a.$$.fragment),this.h()},l(u){e=N(u,"SECTION",{});var _=k(e);l=N(_,"H4",{class:!0});var c=k(l);t=R(c,"Labels"),c.forEach(d),n=q(_),B(a.$$.fragment,_),_.forEach(d),this.h()},h(){y(l,"class","svelte-196x1u0")},m(u,_){T(u,e,_),p(e,l),p(l,t),p(e,n),A(a,e,null),r=!0},p(u,_){const c={};_[0]&2048&&(c.fields=u[11]),!s&&_[0]&8&&(s=!0,c.checkedFields=u[3],Ze(()=>s=!1)),a.$set(c)},i(u){r||(b(a.$$.fragment,u),r=!0)},o(u){w(a.$$.fragment,u),r=!1},d(u){u&&d(e),P(a)}}}function ui(i){let e,l,t,n,a,s,r;function o(u){i[28](u)}let f={fields:i[14]};return i[4]!==void 0&&(f.checkedFields=i[4]),a=new gl({props:f}),We.push(()=>Je(a,"checkedFields",o)),{c(){e=D("section"),l=D("h4"),t=H("Enriched fields"),n=O(),z(a.$$.fragment),this.h()},l(u){e=N(u,"SECTION",{});var _=k(e);l=N(_,"H4",{class:!0});var c=k(l);t=R(c,"Enriched fields"),c.forEach(d),n=q(_),B(a.$$.fragment,_),_.forEach(d),this.h()},h(){y(l,"class","svelte-196x1u0")},m(u,_){T(u,e,_),p(e,l),p(l,t),p(e,n),A(a,e,null),r=!0},p(u,_){const c={};_[0]&16384&&(c.fields=u[14]),!s&&_[0]&16&&(s=!0,c.checkedFields=u[4],Ze(()=>s=!1)),a.$set(c)},i(u){r||(b(a.$$.fragment,u),r=!0)},o(u){w(a.$$.fragment,u),r=!1},d(u){u&&d(e),P(a)}}}function ci(i){let e,l,t,n,a,s,r,o,f,u,_,c,m,h,g,$,E,v,V;f=new Ks({props:{class:"inline"}});let S=i[11],I=[];for(let C=0;C<S.length;C+=1)I[C]=di(oi(i,S,C));const M=C=>w(I[C],1,1,()=>{I[C]=null});return{c(){e=D("section"),l=D("h2"),t=H("Step 2: Filter by label"),n=O(),a=D("table"),s=D("thead"),r=D("tr"),o=D("th"),z(f.$$.fragment),u=H(" Label"),_=O(),c=D("th"),m=H("Include only"),h=O(),g=D("th"),$=H("Exclude"),E=O(),v=D("tbody");for(let C=0;C<I.length;C+=1)I[C].c();this.h()},l(C){e=N(C,"SECTION",{});var L=k(e);l=N(L,"H2",{class:!0});var G=k(l);t=R(G,"Step 2: Filter by label"),G.forEach(d),n=q(L),a=N(L,"TABLE",{class:!0});var se=k(a);s=N(se,"THEAD",{});var Q=k(s);r=N(Q,"TR",{});var K=k(r);o=N(K,"TH",{class:!0});var x=k(o);B(f.$$.fragment,x),u=R(x," Label"),x.forEach(d),_=q(K),c=N(K,"TH",{class:!0});var J=k(c);m=R(J,"Include only"),J.forEach(d),h=q(K),g=N(K,"TH",{class:!0});var F=k(g);$=R(F,"Exclude"),F.forEach(d),K.forEach(d),Q.forEach(d),E=q(se),v=N(se,"TBODY",{});var Z=k(v);for(let ee=0;ee<I.length;ee+=1)I[ee].l(Z);Z.forEach(d),se.forEach(d),L.forEach(d),this.h()},h(){y(l,"class","svelte-196x1u0"),y(o,"class","svelte-196x1u0"),y(c,"class","svelte-196x1u0"),y(g,"class","svelte-196x1u0"),y(a,"class","svelte-196x1u0")},m(C,L){T(C,e,L),p(e,l),p(l,t),p(e,n),p(e,a),p(a,s),p(s,r),p(r,o),A(f,o,null),p(o,u),p(r,_),p(r,c),p(c,m),p(r,h),p(r,g),p(g,$),p(a,E),p(a,v);for(let G=0;G<I.length;G+=1)I[G]&&I[G].m(v,null);V=!0},p(C,L){if(L[0]&4197888){S=C[11];let G;for(G=0;G<S.length;G+=1){const se=oi(C,S,G);I[G]?(I[G].p(se,L),b(I[G],1)):(I[G]=di(se),I[G].c(),b(I[G],1),I[G].m(v,null))}for(le(),G=S.length;G<I.length;G+=1)M(G);ne()}},i(C){if(!V){b(f.$$.fragment,C);for(let L=0;L<S.length;L+=1)b(I[L]);V=!0}},o(C){w(f.$$.fragment,C),I=I.filter(Boolean);for(let L=0;L<I.length;L+=1)w(I[L]);V=!1},d(C){C&&d(e),P(f),tt(I,C)}}}function di(i){let e,l,t=et(i[43].path)+"",n,a,s,r,o,f,u,_,c,m,h;function g(I){i[29](I,i[45])}function $(){return i[30](i[45])}let E={};i[9][i[45]]!==void 0&&(E.checked=i[9][i[45]]),r=new yl({props:E}),We.push(()=>Je(r,"checked",g)),r.$on("change",$);function v(I){i[31](I,i[45])}function V(){return i[32](i[45])}let S={};return i[10][i[45]]!==void 0&&(S.checked=i[10][i[45]]),_=new yl({props:S}),We.push(()=>Je(_,"checked",v)),_.$on("change",V),{c(){e=D("tr"),l=D("td"),n=H(t),a=O(),s=D("td"),z(r.$$.fragment),f=O(),u=D("td"),z(_.$$.fragment),m=O(),this.h()},l(I){e=N(I,"TR",{});var M=k(e);l=N(M,"TD",{class:!0});var C=k(l);n=R(C,t),C.forEach(d),a=q(M),s=N(M,"TD",{class:!0});var L=k(s);B(r.$$.fragment,L),L.forEach(d),f=q(M),u=N(M,"TD",{class:!0});var G=k(u);B(_.$$.fragment,G),G.forEach(d),m=q(M),M.forEach(d),this.h()},h(){y(l,"class","svelte-196x1u0"),y(s,"class","svelte-196x1u0"),y(u,"class","svelte-196x1u0")},m(I,M){T(I,e,M),p(e,l),p(l,n),p(e,a),p(e,s),A(r,s,null),p(e,f),p(e,u),A(_,u,null),p(e,m),h=!0},p(I,M){i=I,(!h||M[0]&2048)&&t!==(t=et(i[43].path)+"")&&ae(n,t);const C={};!o&&M[0]&512&&(o=!0,C.checked=i[9][i[45]],Ze(()=>o=!1)),r.$set(C);const L={};!c&&M[0]&1024&&(c=!0,L.checked=i[10][i[45]],Ze(()=>c=!1)),_.$set(L)},i(I){h||(b(r.$$.fragment,I),b(_.$$.fragment,I),h=!0)},o(I){w(r.$$.fragment,I),w(_.$$.fragment,I),h=!1},d(I){I&&d(e),P(r),P(_)}}}function mi(i){let e,l;return e=new ur({props:{labelText:i[40],value:i[40]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Lf(i){let e,l,t=i[17],n=[];for(let s=0;s<t.length;s+=1)n[s]=mi(ai(i,t,s));const a=s=>w(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=he()},l(s){for(let r=0;r<n.length;r+=1)n[r].l(s);e=he()},m(s,r){for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(s,r);T(s,e,r),l=!0},p(s,r){if(r[0]&131072){t=s[17];let o;for(o=0;o<t.length;o+=1){const f=ai(s,t,o);n[o]?(n[o].p(f,r),b(n[o],1)):(n[o]=mi(f),n[o].c(),b(n[o],1),n[o].m(e.parentNode,e))}for(le(),o=t.length;o<n.length;o+=1)a(o);ne()}},i(s){if(!l){for(let r=0;r<t.length;r+=1)b(n[r]);l=!0}},o(s){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)w(n[r]);l=!1},d(s){tt(n,s),s&&d(e)}}}function hi(i){let e,l,t,n;function a(r){i[35](r)}let s={labelText:"JSONL"};return i[8]!==void 0&&(s.toggled=i[8]),l=new As({props:s}),We.push(()=>Je(l,"toggled",a)),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(r){e=N(r,"DIV",{class:!0});var o=k(e);B(l.$$.fragment,o),o.forEach(d),this.h()},h(){y(e,"class","mt-4 border-t border-gray-300 pt-2")},m(r,o){T(r,e,o),A(l,e,null),n=!0},p(r,o){const f={};!t&&o[0]&256&&(t=!0,f.toggled=r[8],Ze(()=>t=!1)),l.$set(f)},i(r){n||(b(l.$$.fragment,r),n=!0)},o(r){w(l.$$.fragment,r),n=!1},d(r){r&&d(e),P(l)}}}function Of(i){let e,l,t;return l=new zt({props:{kind:"success",lowContrast:!0,hideCloseButton:!0,$$slots:{actions:[Qf],title:[Uf]},$$scope:{ctx:i}}}),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=k(e);B(l.$$.fragment,a),a.forEach(d),this.h()},h(){y(e,"class","export-success")},m(n,a){T(n,e,a),A(l,e,null),t=!0},p(n,a){const s={};a[0]&64|a[1]&32768&&(s.$$scope={dirty:a,ctx:n}),l.$set(s)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&d(e),P(l)}}}function qf(i){let e,l;return e=new zr({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function jf(i){let e,l;return e=new zt({props:{kind:"error",title:"Error",subtitle:i[6].error.body.detail,hideCloseButton:!0}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&64&&(a.subtitle=t[6].error.body.detail),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Uf(i){let e,l,t,n=i[6].data+"",a;return{c(){e=D("div"),l=H("Dataset exported to "),t=D("a"),a=H(n),this.h()},l(s){e=N(s,"DIV",{slot:!0,class:!0});var r=k(e);l=R(r,"Dataset exported to "),t=N(r,"A",{href:!0});var o=k(t);a=R(o,n),o.forEach(d),r.forEach(d),this.h()},h(){y(t,"href",i[23]()),y(e,"slot","title"),y(e,"class","inline")},m(s,r){T(s,e,r),p(e,l),p(e,t),p(t,a)},p(s,r){r[0]&64&&n!==(n=s[6].data+"")&&ae(a,n)},d(s){s&&d(e)}}}function Yf(i){let e,l,t,n;return t=new Yr({}),{c(){e=H("Download "),l=D("span"),z(t.$$.fragment),this.h()},l(a){e=R(a,"Download "),l=N(a,"SPAN",{class:!0});var s=k(l);B(t.$$.fragment,s),s.forEach(d),this.h()},h(){y(l,"class","ml-2")},m(a,s){T(a,e,s),T(a,l,s),A(t,l,null),n=!0},p:j,i(a){n||(b(t.$$.fragment,a),n=!0)},o(a){w(t.$$.fragment,a),n=!1},d(a){a&&d(e),a&&d(l),P(t)}}}function Qf(i){let e,l,t;return l=new Tr({props:{$$slots:{default:[Yf]},$$scope:{ctx:i}}}),l.$on("click",i[36]),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(n){e=N(n,"DIV",{class:!0});var a=k(e);B(l.$$.fragment,a),a.forEach(d),this.h()},h(){y(e,"class","my-auto")},m(n,a){T(n,e,a),A(l,e,null),t=!0},p(n,a){const s={};a[1]&32768&&(s.$$scope={dirty:a,ctx:n}),l.$set(s)},i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&d(e),P(l)}}}function _i(i){let e,l;return{c(){e=D("p"),l=H("No fields selected. Please select at least one field to preview in JSON."),this.h()},l(t){e=N(t,"P",{class:!0});var n=k(e);l=R(n,"No fields selected. Please select at least one field to preview in JSON."),n.forEach(d),this.h()},h(){y(e,"class","text-gray-600")},m(t,n){T(t,e,n),p(e,l)},d(t){t&&d(e)}}}function Gf(i){let e,l,t,n;return e=new zt({props:{hideCloseButton:!0,kind:"info",lowContrast:!0,title:"The preview below is not identical to the exported file which depends on the format selected above."}}),t=new Gi({props:{value:JSON.stringify(i[16].data,null,2),readonly:!0,rows:20,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){z(e.$$.fragment),l=O(),z(t.$$.fragment)},l(a){B(e.$$.fragment,a),l=q(a),B(t.$$.fragment,a)},m(a,s){A(e,a,s),T(a,l,s),A(t,a,s),n=!0},p(a,s){const r={};s[0]&65536&&(r.value=JSON.stringify(a[16].data,null,2)),t.$set(r)},i(a){n||(b(e.$$.fragment,a),b(t.$$.fragment,a),n=!0)},o(a){w(e.$$.fragment,a),w(t.$$.fragment,a),n=!1},d(a){P(e,a),a&&d(l),P(t,a)}}}function Wf(i){let e,l;return e=new nt({props:{paragraph:!0}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Jf(i){let e,l,t,n,a,s,r,o,f,u,_,c,m,h,g,$,E,v,V,S,I,M,C=(i[11].length>0?3:2)+"",L,G,se,Q,K,x,J,F,Z,ee,X,be,pe,ie,Se,me,ue,Te,W=(i[11].length>0?4:3)+"",U,oe,Y,Ie,fe,we,ve,Re;function Xe(te){i[26](te)}let at={fields:i[15]};i[2]!==void 0&&(at.checkedFields=i[2]),h=new gl({props:at}),We.push(()=>Je(h,"checkedFields",Xe));let je=i[11].length>0&&fi(i),Ue=i[14].length>0&&ui(i),Ye=i[11].length>0&&ci(i);function Jt(te){i[33](te)}let St={$$slots:{default:[Lf]},$$scope:{ctx:i}};i[7]!==void 0&&(St.selected=i[7]),K=new fr({props:St}),We.push(()=>Je(K,"selected",Jt));function Zt(te){i[34](te)}let At={labelText:"Output filepath",invalid:i[1].length===0,invalidText:"The file path is required",placeholder:"Enter a file path for the exported dataset"};i[1]!==void 0&&(At.value=i[1]),Z=new Oi({props:At}),We.push(()=>Je(Z,"value",Zt));let Qe=i[7]==="json"&&hi(i);const Pt=[jf,qf,Of],de=[];function ze(te,De){return te[6].isError?0:te[6].isLoading?1:te[6].data?2:-1}~(pe=ze(i))&&(ie=de[pe]=Pt[pe](i));let Ae=i[5].length===0&&_i();const Oe=[Wf,Gf],qe=[];function Ve(te,De){return te[16]&&te[16].isFetching?0:te[13]&&te[16]?1:-1}return~(we=Ve(i))&&(ve=qe[we]=Oe[we](i)),{c(){e=D("div"),l=D("section"),t=D("h2"),n=H("Step 1: Fields to export"),a=O(),s=D("p"),r=H("No fields selected. Please select at least one field to export."),o=O(),f=D("div"),u=D("section"),_=D("h4"),c=H("Source fields"),m=O(),z(h.$$.fragment),$=O(),je&&je.c(),E=O(),Ue&&Ue.c(),v=O(),Ye&&Ye.c(),V=O(),S=D("section"),I=D("h2"),M=H("Step "),L=H(C),G=H(": Export format"),se=O(),Q=D("div"),z(K.$$.fragment),J=O(),F=D("div"),z(Z.$$.fragment),X=O(),Qe&&Qe.c(),be=O(),ie&&ie.c(),Se=O(),me=D("section"),ue=D("h2"),Te=H("Step "),U=H(W),oe=H(": JSON preview"),Y=O(),Ae&&Ae.c(),Ie=O(),fe=D("div"),ve&&ve.c(),this.h()},l(te){e=N(te,"DIV",{class:!0});var De=k(e);l=N(De,"SECTION",{});var it=k(l);t=N(it,"H2",{class:!0});var dt=k(t);n=R(dt,"Step 1: Fields to export"),dt.forEach(d),a=q(it),s=N(it,"P",{class:!0});var rt=k(s);r=R(rt,"No fields selected. Please select at least one field to export."),rt.forEach(d),o=q(it),f=N(it,"DIV",{class:!0});var ot=k(f);u=N(ot,"SECTION",{});var mt=k(u);_=N(mt,"H4",{class:!0});var vl=k(_);c=R(vl,"Source fields"),vl.forEach(d),m=q(mt),B(h.$$.fragment,mt),mt.forEach(d),$=q(ot),je&&je.l(ot),E=q(ot),Ue&&Ue.l(ot),ot.forEach(d),it.forEach(d),v=q(De),Ye&&Ye.l(De),V=q(De),S=N(De,"SECTION",{});var ft=k(S);I=N(ft,"H2",{class:!0});var Bt=k(I);M=R(Bt,"Step "),L=R(Bt,C),G=R(Bt,": Export format"),Bt.forEach(d),se=q(ft),Q=N(ft,"DIV",{});var wl=k(Q);B(K.$$.fragment,wl),wl.forEach(d),J=q(ft),F=N(ft,"DIV",{class:!0});var kl=k(F);B(Z.$$.fragment,kl),kl.forEach(d),X=q(ft),Qe&&Qe.l(ft),be=q(ft),ie&&ie.l(ft),ft.forEach(d),Se=q(De),me=N(De,"SECTION",{});var bt=k(me);ue=N(bt,"H2",{class:!0});var Ft=k(ue);Te=R(Ft,"Step "),U=R(Ft,W),oe=R(Ft,": JSON preview"),Ft.forEach(d),Y=q(bt),Ae&&Ae.l(bt),Ie=q(bt),fe=N(bt,"DIV",{class:!0});var El=k(fe);ve&&ve.l(El),El.forEach(d),bt.forEach(d),De.forEach(d),this.h()},h(){y(t,"class","svelte-196x1u0"),y(s,"class","text-red-600"),re(s,"invisible",i[5].length>0),y(_,"class","svelte-196x1u0"),y(f,"class","flex flex-wrap gap-x-12"),y(I,"class","svelte-196x1u0"),y(F,"class","mt-4 max-w-lg pt-2"),y(ue,"class","svelte-196x1u0"),y(fe,"class","preview svelte-196x1u0"),y(e,"class","flex flex-col gap-y-10")},m(te,De){T(te,e,De),p(e,l),p(l,t),p(t,n),p(l,a),p(l,s),p(s,r),p(l,o),p(l,f),p(f,u),p(u,_),p(_,c),p(u,m),A(h,u,null),p(f,$),je&&je.m(f,null),p(f,E),Ue&&Ue.m(f,null),p(e,v),Ye&&Ye.m(e,null),p(e,V),p(e,S),p(S,I),p(I,M),p(I,L),p(I,G),p(S,se),p(S,Q),A(K,Q,null),p(S,J),p(S,F),A(Z,F,null),p(S,X),Qe&&Qe.m(S,null),p(S,be),~pe&&de[pe].m(S,null),p(e,Se),p(e,me),p(me,ue),p(ue,Te),p(ue,U),p(ue,oe),p(me,Y),Ae&&Ae.m(me,null),p(me,Ie),p(me,fe),~we&&qe[we].m(fe,null),Re=!0},p(te,De){(!Re||De[0]&32)&&re(s,"invisible",te[5].length>0);const it={};De[0]&32768&&(it.fields=te[15]),!g&&De[0]&4&&(g=!0,it.checkedFields=te[2],Ze(()=>g=!1)),h.$set(it),te[11].length>0?je?(je.p(te,De),De[0]&2048&&b(je,1)):(je=fi(te),je.c(),b(je,1),je.m(f,E)):je&&(le(),w(je,1,1,()=>{je=null}),ne()),te[14].length>0?Ue?(Ue.p(te,De),De[0]&16384&&b(Ue,1)):(Ue=ui(te),Ue.c(),b(Ue,1),Ue.m(f,null)):Ue&&(le(),w(Ue,1,1,()=>{Ue=null}),ne()),te[11].length>0?Ye?(Ye.p(te,De),De[0]&2048&&b(Ye,1)):(Ye=ci(te),Ye.c(),b(Ye,1),Ye.m(e,V)):Ye&&(le(),w(Ye,1,1,()=>{Ye=null}),ne()),(!Re||De[0]&2048)&&C!==(C=(te[11].length>0?3:2)+"")&&ae(L,C);const dt={};De[1]&32768&&(dt.$$scope={dirty:De,ctx:te}),!x&&De[0]&128&&(x=!0,dt.selected=te[7],Ze(()=>x=!1)),K.$set(dt);const rt={};De[0]&2&&(rt.invalid=te[1].length===0),!ee&&De[0]&2&&(ee=!0,rt.value=te[1],Ze(()=>ee=!1)),Z.$set(rt),te[7]==="json"?Qe?(Qe.p(te,De),De[0]&128&&b(Qe,1)):(Qe=hi(te),Qe.c(),b(Qe,1),Qe.m(S,be)):Qe&&(le(),w(Qe,1,1,()=>{Qe=null}),ne());let ot=pe;pe=ze(te),pe===ot?~pe&&de[pe].p(te,De):(ie&&(le(),w(de[ot],1,1,()=>{de[ot]=null}),ne()),~pe?(ie=de[pe],ie?ie.p(te,De):(ie=de[pe]=Pt[pe](te),ie.c()),b(ie,1),ie.m(S,null)):ie=null),(!Re||De[0]&2048)&&W!==(W=(te[11].length>0?4:3)+"")&&ae(U,W),te[5].length===0?Ae||(Ae=_i(),Ae.c(),Ae.m(me,Ie)):Ae&&(Ae.d(1),Ae=null);let mt=we;we=Ve(te),we===mt?~we&&qe[we].p(te,De):(ve&&(le(),w(qe[mt],1,1,()=>{qe[mt]=null}),ne()),~we?(ve=qe[we],ve?ve.p(te,De):(ve=qe[we]=Oe[we](te),ve.c()),b(ve,1),ve.m(fe,null)):ve=null)},i(te){Re||(b(h.$$.fragment,te),b(je),b(Ue),b(Ye),b(K.$$.fragment,te),b(Z.$$.fragment,te),b(Qe),b(ie),b(ve),Re=!0)},o(te){w(h.$$.fragment,te),w(je),w(Ue),w(Ye),w(K.$$.fragment,te),w(Z.$$.fragment,te),w(Qe),w(ie),w(ve),Re=!1},d(te){te&&d(e),P(h),je&&je.d(),Ue&&Ue.d(),Ye&&Ye.d(),P(K),P(Z),Qe&&Qe.d(),~pe&&de[pe].d(),Ae&&Ae.d(),~we&&qe[we].d()}}}function Zf(i){let e,l,t,n,a,s;return e=new ml({props:{title:"Export dataset"}}),t=new hl({props:{hasForm:!0,$$slots:{default:[Jf]},$$scope:{ctx:i}}}),a=new _l({props:{primaryButtonText:"Export dataset",primaryButtonDisabled:i[12],secondaryButtonText:"Cancel"}}),a.$on("click:button--secondary",i[21]),{c(){z(e.$$.fragment),l=O(),z(t.$$.fragment),n=O(),z(a.$$.fragment)},l(r){B(e.$$.fragment,r),l=q(r),B(t.$$.fragment,r),n=q(r),B(a.$$.fragment,r)},m(r,o){A(e,r,o),T(r,l,o),A(t,r,o),T(r,n,o),A(a,r,o),s=!0},p(r,o){const f={};o[0]&126974|o[1]&32768&&(f.$$scope={dirty:o,ctx:r}),t.$set(f);const u={};o[0]&4096&&(u.primaryButtonDisabled=r[12]),a.$set(u)},i(r){s||(b(e.$$.fragment,r),b(t.$$.fragment,r),b(a.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),w(t.$$.fragment,r),w(a.$$.fragment,r),s=!1},d(r){P(e,r),r&&d(l),P(t,r),r&&d(n),P(a,r)}}}function Kf(i){let e,l;return e=new dl({props:{size:"lg",open:i[0],$$slots:{default:[Zf]},$$scope:{ctx:i}}}),e.$on("submit",i[20]),e.$on("close",i[37]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&1&&(a.open=t[0]),n[0]&131070|n[1]&32768&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Xf(i,e,l){let t,n,a,s,r,o,f,u,_,c=j,m=()=>(c(),c=Be(r,Y=>l(16,_=Y)),r);i.$$.on_destroy.push(()=>c());let{open:h=!1}=e,{schema:g}=e;const $=["json","csv","parquet"];let E="json",v="",V=!1;const S=wt(),I=zs();Pe(i,I,Y=>l(6,f=Y));const M=lt();Pe(i,M,Y=>l(25,u=Y));let C=[],L=[],G=[],se=[],Q=[];function K(Y){const Ie=gt(Y),we=zi(Y).filter(Xe=>["embedding"].indexOf(Xe.dtype)===-1).filter(Xe=>!It(Xe)&&!Li(Xe)),ve=Ie.filter(Xe=>Xe.label!=null),Re=Ie.filter(Xe=>Wt(Xe)).filter(Xe=>!gt(Xe).some(at=>at.dtype==="embedding"));return{sourceFields:we,enrichedFields:Re,labelFields:ve}}async function x(){const Y=u.namespace,Ie=u.datasetName,fe={format:E,filepath:v,jsonl:V,columns:s.map(we=>we.path),include_labels:a.filter((we,ve)=>se[ve]).map(we=>we.path[0]),exclude_labels:a.filter((we,ve)=>Q[ve]).map(we=>we.path[0])};f.mutate([Y,Ie,fe])}function J(){l(0,h=!1),S("close")}function F(Y,Ie){Ie?l(10,Q[Y]=!1,Q):l(9,se[Y]=!1,se)}function Z(){return`/api/v1/datasets/serve_dataset?filepath=${f.data}`}function ee(Y){C=Y,l(2,C)}function X(Y){L=Y,l(3,L)}function be(Y){G=Y,l(4,G)}function pe(Y,Ie){i.$$.not_equal(se[Ie],Y)&&(se[Ie]=Y,l(9,se))}const ie=Y=>F(Y,!0);function Se(Y,Ie){i.$$.not_equal(Q[Ie],Y)&&(Q[Ie]=Y,l(10,Q))}const me=Y=>F(Y,!1);function ue(Y){E=Y,l(7,E)}function Te(Y){v=Y,l(1,v)}function W(Y){V=Y,l(8,V)}const U=()=>window.open(Z(),"_blank"),oe=()=>l(0,h=!1);return i.$$set=Y=>{"open"in Y&&l(0,h=Y.open),"schema"in Y&&l(24,g=Y.schema)},i.$$.update=()=>{i.$$.dirty[0]&16777216&&l(15,{sourceFields:t,enrichedFields:n,labelFields:a}=K(g),t,(l(14,n),l(24,g)),(l(11,a),l(24,g))),i.$$.dirty[0]&28&&l(5,s=[...C,...L,...G]),i.$$.dirty[0]&33554464&&m(l(13,r=s.length>0?qi(u.namespace,u.datasetName,{columns:s.map(Y=>Y.path),limit:3,combine_columns:!1}):null)),i.$$.dirty[0]&98&&l(12,o=s.length===0||v.length===0||f.isLoading)},[h,v,C,L,G,s,f,E,V,se,Q,a,o,r,n,t,_,$,I,M,x,J,F,Z,g,u,ee,X,be,pe,ie,Se,me,ue,Te,W,U,oe]}class xf extends Ee{constructor(e){super(),$e(this,e,Xf,Kf,ke,{open:0,schema:24},null,[-1,-1])}}function gi(i,e,l){const t=i.slice();t[12]=e[l];const n=t[3](t[12]);t[13]=n;const a=t[4](t[12]);return t[14]=a,t}function eu(i){let e,l,t,n,a,s,r,o,f;r=new sl({props:{size:"small",tooltipPosition:"left",icon:Pi,iconDescription:"Sort dataset by concept score"}}),r.$on("click",i[5]);let u=i[2].data.rows,_=[];for(let m=0;m<u.length;m+=1)_[m]=pi(gi(i,u,m));const c=m=>w(_[m],1,1,()=>{_[m]=null});return{c(){e=D("div"),l=D("div"),t=D("div"),n=H("Items with highest score"),a=O(),s=D("div"),z(r.$$.fragment),o=O();for(let m=0;m<_.length;m+=1)_[m].c();this.h()},l(m){e=N(m,"DIV",{class:!0});var h=k(e);l=N(h,"DIV",{class:!0});var g=k(l);t=N(g,"DIV",{});var $=k(t);n=R($,"Items with highest score"),$.forEach(d),a=q(g),s=N(g,"DIV",{});var E=k(s);B(r.$$.fragment,E),E.forEach(d),g.forEach(d),o=q(h);for(let v=0;v<_.length;v+=1)_[v].l(h);h.forEach(d),this.h()},h(){y(l,"class","flex h-8 justify-between text-lg"),y(e,"class","flex flex-col gap-y-4")},m(m,h){T(m,e,h),p(e,l),p(l,t),p(t,n),p(l,a),p(l,s),A(r,s,null),p(e,o);for(let g=0;g<_.length;g+=1)_[g]&&_[g].m(e,null);f=!0},p(m,h){if(h&29){u=m[2].data.rows;let g;for(g=0;g<u.length;g+=1){const $=gi(m,u,g);_[g]?(_[g].p($,h),b(_[g],1)):(_[g]=pi($),_[g].c(),b(_[g],1),_[g].m(e,null))}for(le(),g=u.length;g<_.length;g+=1)c(g);ne()}},i(m){if(!f){b(r.$$.fragment,m);for(let h=0;h<u.length;h+=1)b(_[h]);f=!0}},o(m){w(r.$$.fragment,m),_=_.filter(Boolean);for(let h=0;h<_.length;h+=1)w(_[h]);f=!1},d(m){m&&d(e),P(r),tt(_,m)}}}function tu(i){let e,l;return e=new nt({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function pi(i){let e,l,t,n,a,s,r,o,f,u=Me(i[14])+"",_,c,m;return t=new nr({props:{text:i[13],row:i[12],spanPaths:i[0].spanPaths,valuePaths:i[0].valuePaths,embeddings:[]}}),{c(){e=D("div"),l=D("div"),z(t.$$.fragment),n=O(),a=D("div"),s=D("div"),r=H("Max score"),o=O(),f=D("div"),_=H(u),c=O(),this.h()},l(h){e=N(h,"DIV",{class:!0});var g=k(e);l=N(g,"DIV",{class:!0});var $=k(l);B(t.$$.fragment,$),$.forEach(d),n=q(g),a=N(g,"DIV",{class:!0});var E=k(a);s=N(E,"DIV",{class:!0});var v=k(s);r=R(v,"Max score"),v.forEach(d),o=q(E),f=N(E,"DIV",{class:!0});var V=k(f);_=R(V,u),V.forEach(d),E.forEach(d),c=q(g),g.forEach(d),this.h()},h(){y(l,"class","flex-grow"),y(s,"class","text-sm text-gray-500"),y(f,"class","text-lg"),y(a,"class","flex flex-none flex-col items-end"),y(e,"class","flex gap-x-4 rounded border border-gray-300 px-4 py-2")},m(h,g){T(h,e,g),p(e,l),A(t,l,null),p(e,n),p(e,a),p(a,s),p(s,r),p(a,o),p(a,f),p(f,_),p(e,c),m=!0},p(h,g){const $={};g&4&&($.text=h[13]),g&4&&($.row=h[12]),g&1&&($.spanPaths=h[0].spanPaths),g&1&&($.valuePaths=h[0].valuePaths),t.$set($),(!m||g&4)&&u!==(u=Me(h[14])+"")&&ae(_,u)},i(h){m||(b(t.$$.fragment,h),m=!0)},o(h){w(t.$$.fragment,h),m=!1},d(h){h&&d(e),P(t)}}}function lu(i){let e,l,t,n;const a=[tu,eu],s=[];function r(o,f){return o[2].isFetching?0:o[2].data?1:-1}return~(e=r(i))&&(l=s[e]=a[e](i)),{c(){l&&l.c(),t=he()},l(o){l&&l.l(o),t=he()},m(o,f){~e&&s[e].m(o,f),T(o,t,f),n=!0},p(o,[f]){let u=e;e=r(o),e===u?~e&&s[e].p(o,f):(l&&(le(),w(s[u],1,1,()=>{s[u]=null}),ne()),~e?(l=s[e],l?l.p(o,f):(l=s[e]=a[e](o),l.c()),b(l,1),l.m(t.parentNode,t)):l=null)},i(o){n||(b(l),n=!0)},o(o){w(l),n=!1},d(o){~e&&s[e].d(o),o&&d(t)}}}const nu=5;function iu(i,e,l){let t,n,a,s,r=j,o=()=>(r(),r=Be(t,E=>l(2,s=E)),t);i.$$.on_destroy.push(()=>r());let{schema:f}=e,{namespace:u}=e,{datasetName:_}=e,{mediaPath:c}=e,{scorePath:m}=e;function h(E){return tl.value(Ht(E,c),"string")}function g(E){const v=m.slice(0,m.length-2),V=Ht(E,v);let S=0;for(const I of V){const M=tl.value(Ht(I,["score"]),"float32");S=Math.max(S,M)}return S}function $(){const E=Ui(u,_);E.query.sort_by=[m],E.query.sort_order="DESC",E.insightsOpen=!1,il(ji(u,_,E))}return i.$$set=E=>{"schema"in E&&l(6,f=E.schema),"namespace"in E&&l(7,u=E.namespace),"datasetName"in E&&l(8,_=E.datasetName),"mediaPath"in E&&l(9,c=E.mediaPath),"scorePath"in E&&l(10,m=E.scorePath)},i.$$.update=()=>{i.$$.dirty&1984&&o(l(1,t=qi(u,_,{columns:[c,m],limit:nu,combine_columns:!0,sort_by:[m]},f))),i.$$.dirty&1088&&l(11,n=[rl(f,m)]),i.$$.dirty&2112&&l(0,a=Ps(f,n))},[a,t,s,h,g,$,f,u,_,c,m,n]}class su extends Ee{constructor(e){super(),$e(this,e,iu,lu,ke,{schema:6,namespace:7,datasetName:8,mediaPath:9,scorePath:10})}}function ru(i){let e,l;return e=new nt({props:{lines:1,width:"200px"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function au(i){let e,l;return{c(){e=D("div"),l=H(i[9]),this.h()},l(t){e=N(t,"DIV",{class:!0});var n=k(e);l=R(n,i[9]),n.forEach(d),this.h()},h(){y(e,"class","text-sm text-gray-500")},m(t,n){T(t,e,n),p(e,l)},p(t,n){n&512&&ae(l,t[9])},i:j,o:j,d(t){t&&d(e)}}}function ou(i){let e,l=i[7].toFixed(2)+"",t,n,a=Me(i[3])+"",s,r;return{c(){e=D("div"),t=H(l),n=H("% ("),s=H(a),r=H(" items)"),this.h()},l(o){e=N(o,"DIV",{class:!0});var f=k(e);t=R(f,l),n=R(f,"% ("),s=R(f,a),r=R(f," items)"),f.forEach(d),this.h()},h(){y(e,"class","text-lg font-bold")},m(o,f){T(o,e,f),p(e,t),p(e,n),p(e,s),p(e,r)},p(o,f){f&128&&l!==(l=o[7].toFixed(2)+"")&&ae(t,l),f&8&&a!==(a=Me(o[3])+"")&&ae(s,a)},i:j,o:j,d(o){o&&d(e)}}}function fu(i){let e,l;return e=new nt({props:{lines:1,width:"200px"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function uu(i){let e,l,t,n,a=i[13].namespace+"",s,r,o=i[13].concept_name+"",f,u,_,c,m,h,g,$,E,v,V,S;const I=[au,ru],M=[];function C(Q,K){return Q[9]?0:1}c=C(i),m=M[c]=I[c](i);const L=[fu,ou],G=[];function se(Q,K){return Q[6].isFetching?0:1}return $=se(i),E=G[$]=L[$](i),{c(){e=D("div"),l=D("div"),t=D("div"),n=D("span"),s=H(a),r=H(" / "),f=H(o),_=O(),m.c(),h=O(),g=D("div"),E.c(),this.h()},l(Q){e=N(Q,"DIV",{slot:!0,class:!0});var K=k(e);l=N(K,"DIV",{class:!0});var x=k(l);t=N(x,"DIV",{class:!0});var J=k(t);n=N(J,"SPAN",{});var F=k(n);s=R(F,a),r=R(F," / "),f=R(F,o),F.forEach(d),J.forEach(d),_=q(x),m.l(x),x.forEach(d),h=q(K),g=N(K,"DIV",{class:!0});var Z=k(g);E.l(Z),Z.forEach(d),K.forEach(d),this.h()},h(){y(t,"class","text-lg"),y(l,"class","w-full flex-grow"),y(g,"class","flex-none"),y(e,"slot","above"),y(e,"class","flex w-full items-center")},m(Q,K){T(Q,e,K),p(e,l),p(l,t),p(t,n),p(n,s),p(n,r),p(n,f),p(l,_),M[c].m(l,null),p(e,h),p(e,g),G[$].m(g,null),v=!0,V||(S=Fe(u=He.call(null,n,{text:`version: ${i[8]}`})),V=!0)},p(Q,K){u&&Ke(u.update)&&K&256&&u.update.call(null,{text:`version: ${Q[8]}`});let x=c;c=C(Q),c===x?M[c].p(Q,K):(le(),w(M[x],1,1,()=>{M[x]=null}),ne(),m=M[c],m?m.p(Q,K):(m=M[c]=I[c](Q),m.c()),b(m,1),m.m(l,null));let J=$;$=se(Q),$===J?G[$].p(Q,K):(le(),w(G[J],1,1,()=>{G[J]=null}),ne(),E=G[$],E?E.p(Q,K):(E=G[$]=L[$](Q),E.c()),b(E,1),E.m(g,null))},i(Q){v||(b(m),b(E),v=!0)},o(Q){w(m),w(E),v=!1},d(Q){Q&&d(e),M[c].d(),G[$].d(),V=!1,S()}}}function cu(i){let e,l;return e=new nt({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function du(i){let e,l;return e=new su({props:{schema:i[0],namespace:i[1],datasetName:i[2],mediaPath:i[12],scorePath:i[4]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n&1&&(a.schema=t[0]),n&2&&(a.namespace=t[1]),n&4&&(a.datasetName=t[2]),n&4096&&(a.mediaPath=t[12]),n&16&&(a.scorePath=t[4]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function mu(i){let e,l,t,n;const a=[du,cu],s=[];function r(o,f){return o[5].data?0:1}return l=r(i),t=s[l]=a[l](i),{c(){e=D("div"),t.c(),this.h()},l(o){e=N(o,"DIV",{slot:!0});var f=k(e);t.l(f),f.forEach(d),this.h()},h(){y(e,"slot","below")},m(o,f){T(o,e,f),s[l].m(e,null),n=!0},p(o,f){let u=l;l=r(o),l===u?s[l].p(o,f):(le(),w(s[u],1,1,()=>{s[u]=null}),ne(),t=s[l],t?t.p(o,f):(t=s[l]=a[l](o),t.c()),b(t,1),t.m(e,null))},i(o){n||(b(t),n=!0)},o(o){w(t),n=!1},d(o){o&&d(e),s[l].d()}}}function hu(i){let e,l;return e=new Gs({props:{$$slots:{below:[mu],above:[uu]},$$scope:{ctx:i}}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,[n]){const a={};n&70655&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}const _u="In concept",gu="Not in concept";function pu(i,e,l){let t,n,a,s,r,o,f,u,_,c,m=j,h=()=>(m(),m=Be(s,C=>l(5,c=C)),s),g,$=j,E=()=>($(),$=Be(a,C=>l(6,g=C)),a);i.$$.on_destroy.push(()=>m()),i.$$.on_destroy.push(()=>$());let{field:v}=e,{schema:V}=e,{namespace:S}=e,{datasetName:I}=e,M=v.signal;return i.$$set=C=>{"field"in C&&l(14,v=C.field),"schema"in C&&l(0,V=C.schema),"namespace"in C&&l(1,S=C.namespace),"datasetName"in C&&l(2,I=C.datasetName)},i.$$.update=()=>{var C,L,G,se,Q,K,x;i.$$.dirty&16384&&l(4,t=[...v.path,cl,"score"]),i.$$.dirty&16384&&l(12,n=v.parent.path),i.$$.dirty&22&&E(l(11,a=ol(S,I,{leaf_path:t}))),i.$$.dirty&32&&l(9,r=(L=(C=c.data)==null?void 0:C.metadata)==null?void 0:L.description),i.$$.dirty&64&&l(15,o=((se=(G=g.data)==null?void 0:G.counts.find(([J,F])=>J===gu))==null?void 0:se[1])||0),i.$$.dirty&64&&l(3,f=((K=(Q=g.data)==null?void 0:Q.counts.find(([J,F])=>J===_u))==null?void 0:K[1])||0),i.$$.dirty&32&&l(8,u=(x=c.data)==null?void 0:x.version),i.$$.dirty&32776&&l(7,_=f/(f+o)*100)},h(l(10,s=Ai(M.namespace,M.concept_name))),[V,S,I,f,t,c,g,_,u,r,s,a,n,M,v,o]}class bu extends Ee{constructor(e){super(),$e(this,e,pu,hu,ke,{field:14,schema:0,namespace:1,datasetName:2})}}function bi(i,e,l){const t=i.slice();return t[9]=e[l],t}function vu(i){let e,l;return e=new nt({props:{paragraph:!0,lines:2,width:"200px"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function wu(i){let e,l=Me(i[5])+"",t,n,a,s,r,o;return{c(){e=D("div"),t=H(l),n=H(" items"),a=O(),s=D("div"),r=H(i[6]),o=H(" chars on average")},l(f){e=N(f,"DIV",{});var u=k(e);t=R(u,l),n=R(u," items"),u.forEach(d),a=q(f),s=N(f,"DIV",{});var _=k(s);r=R(_,i[6]),o=R(_," chars on average"),_.forEach(d)},m(f,u){T(f,e,u),p(e,t),p(e,n),T(f,a,u),T(f,s,u),p(s,r),p(s,o)},p(f,u){u&32&&l!==(l=Me(f[5])+"")&&ae(t,l),u&64&&ae(r,f[6])},i:j,o:j,d(f){f&&d(e),f&&d(a),f&&d(s)}}}function vi(i){let e,l;return e=new bu({props:{schema:i[2],namespace:i[3],datasetName:i[4],field:i[9]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n&4&&(a.schema=t[2]),n&8&&(a.namespace=t[3]),n&16&&(a.datasetName=t[4]),n&1&&(a.field=t[9]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function ku(i){let e,l,t,n,a,s,r,o,f,u;const _=[wu,vu],c=[];function m(E,v){return E[5]&&E[6]?0:1}r=m(i),o=c[r]=_[r](i);let h=i[0],g=[];for(let E=0;E<h.length;E+=1)g[E]=vi(bi(i,h,E));const $=E=>w(g[E],1,1,()=>{g[E]=null});return{c(){e=D("div"),l=D("div"),t=D("div"),n=H(i[1]),a=O(),s=D("div"),o.c(),f=O();for(let E=0;E<g.length;E+=1)g[E].c();this.h()},l(E){e=N(E,"DIV",{class:!0});var v=k(e);l=N(v,"DIV",{class:!0});var V=k(l);t=N(V,"DIV",{class:!0});var S=k(t);n=R(S,i[1]),S.forEach(d),a=q(V),s=N(V,"DIV",{class:!0});var I=k(s);o.l(I),I.forEach(d),V.forEach(d),f=q(v);for(let M=0;M<g.length;M+=1)g[M].l(v);v.forEach(d),this.h()},h(){y(t,"class","flex-grow text-2xl font-semibold text-slate-900"),y(s,"class","flex-none text-sm text-gray-500"),y(l,"class","sticky top-0 flex rounded-xl border border-gray-300 bg-slate-50/80 px-4 py-3 backdrop-blur-sm"),y(e,"class","relative flex flex-col gap-y-4")},m(E,v){T(E,e,v),p(e,l),p(l,t),p(t,n),p(l,a),p(l,s),c[r].m(s,null),p(e,f);for(let V=0;V<g.length;V+=1)g[V]&&g[V].m(e,null);u=!0},p(E,[v]){(!u||v&2)&&ae(n,E[1]);let V=r;if(r=m(E),r===V?c[r].p(E,v):(le(),w(c[V],1,1,()=>{c[V]=null}),ne(),o=c[r],o?o.p(E,v):(o=c[r]=_[r](E),o.c()),b(o,1),o.m(s,null)),v&29){h=E[0];let S;for(S=0;S<h.length;S+=1){const I=bi(E,h,S);g[S]?(g[S].p(I,v),b(g[S],1)):(g[S]=vi(I),g[S].c(),b(g[S],1),g[S].m(e,null))}for(le(),S=h.length;S<g.length;S+=1)$(S);ne()}},i(E){if(!u){b(o);for(let v=0;v<h.length;v+=1)b(g[v]);u=!0}},o(E){w(o),g=g.filter(Boolean);for(let v=0;v<g.length;v+=1)w(g[v]);u=!1},d(E){E&&d(e),c[r].d(),tt(g,E)}}}function Eu(i,e,l){let t,n,a,s,r=j,o=()=>(r(),r=Be(t,h=>l(8,s=h)),t);i.$$.on_destroy.push(()=>r());let{concepts:f}=e,{mediaPath:u}=e,{schema:_}=e,{namespace:c}=e,{datasetName:m}=e;return i.$$set=h=>{"concepts"in h&&l(0,f=h.concepts),"mediaPath"in h&&l(1,u=h.mediaPath),"schema"in h&&l(2,_=h.schema),"namespace"in h&&l(3,c=h.namespace),"datasetName"in h&&l(4,m=h.datasetName)},i.$$.update=()=>{var h,g;i.$$.dirty&26&&o(l(7,t=Ri(c,m,{leaf_path:u}))),i.$$.dirty&256&&l(6,n=(h=s.data)==null?void 0:h.avg_text_length),i.$$.dirty&256&&l(5,a=(g=s.data)==null?void 0:g.total_count)},[f,u,_,c,m,a,n,t,s]}class $u extends Ee{constructor(e){super(),$e(this,e,Eu,ku,ke,{concepts:0,mediaPath:1,schema:2,namespace:3,datasetName:4})}}function wi(i,e,l){const t=i.slice();t[8]=e[l];const n=t[5](t[8]);return t[9]=n,t}function ki(i){let e,l;return e=new $u({props:{mediaPath:i[8],schema:i[0],namespace:i[1],datasetName:i[2],concepts:i[9]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n&8&&(a.mediaPath=t[8]),n&1&&(a.schema=t[0]),n&2&&(a.namespace=t[1]),n&4&&(a.datasetName=t[2]),n&8&&(a.concepts=t[9]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Su(i){let e,l,t=i[3],n=[];for(let s=0;s<t.length;s+=1)n[s]=ki(wi(i,t,s));const a=s=>w(n[s],1,1,()=>{n[s]=null});return{c(){e=D("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=N(s,"DIV",{class:!0});var r=k(e);for(let o=0;o<n.length;o+=1)n[o].l(r);r.forEach(d),this.h()},h(){y(e,"class","flex flex-col gap-y-6")},m(s,r){T(s,e,r);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null);l=!0},p(s,[r]){if(r&47){t=s[3];let o;for(o=0;o<t.length;o+=1){const f=wi(s,t,o);n[o]?(n[o].p(f,r),b(n[o],1)):(n[o]=ki(f),n[o].c(),b(n[o],1),n[o].m(e,null))}for(le(),o=t.length;o<n.length;o+=1)a(o);ne()}},i(s){if(!l){for(let r=0;r<t.length;r+=1)b(n[r]);l=!0}},o(s){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)w(n[r]);l=!1},d(s){s&&d(e),tt(n,s)}}}function yu(i,e,l){let t,n,a,s,r=j,o=()=>(r(),r=Be(n,m=>l(6,s=m)),n);i.$$.on_destroy.push(()=>r());let{schema:f}=e,{namespace:u}=e,{datasetName:_}=e;function c(m){return t.filter(h=>Fi(h.path,m))}return i.$$set=m=>{"schema"in m&&l(0,f=m.schema),"namespace"in m&&l(1,u=m.namespace),"datasetName"in m&&l(2,_=m.datasetName)},i.$$.update=()=>{var m,h;i.$$.dirty&1&&(t=gt(f).filter(g=>{var $;return(($=g.signal)==null?void 0:$.signal_name)=="concept_score"})),i.$$.dirty&6&&o(l(4,n=ul(u,_))),i.$$.dirty&64&&l(3,a=(((h=(m=s.data)==null?void 0:m.ui)==null?void 0:h.media_paths)||[]).map(g=>Array.isArray(g)?g:[g]))},[f,u,_,a,n,c,s]}class Iu extends Ee{constructor(e){super(),$e(this,e,yu,Su,ke,{schema:0,namespace:1,datasetName:2})}}function Ei(i){let e,l,t,n,a,s,r,o;function f(m){i[24](m)}let u={namespace:i[0],name:i[1]};i[4]!==void 0&&(u.open=i[4]),e=new Rf({props:u}),We.push(()=>Je(e,"open",f));function _(m){i[25](m)}let c={schema:i[12].data};return i[5]!==void 0&&(c.open=i[5]),n=new xf({props:c}),We.push(()=>Je(n,"open",_)),r=new dl({props:{size:"lg",open:i[3].insightsOpen,$$slots:{default:[Nu]},$$scope:{ctx:i}}}),r.$on("close",i[26]),r.$on("submit",i[27]),{c(){z(e.$$.fragment),t=O(),z(n.$$.fragment),s=O(),z(r.$$.fragment)},l(m){B(e.$$.fragment,m),t=q(m),B(n.$$.fragment,m),s=q(m),B(r.$$.fragment,m)},m(m,h){A(e,m,h),T(m,t,h),A(n,m,h),T(m,s,h),A(r,m,h),o=!0},p(m,h){const g={};h[0]&1&&(g.namespace=m[0]),h[0]&2&&(g.name=m[1]),!l&&h[0]&16&&(l=!0,g.open=m[4],Ze(()=>l=!1)),e.$set(g);const $={};h[0]&4096&&($.schema=m[12].data),!a&&h[0]&32&&(a=!0,$.open=m[5],Ze(()=>a=!1)),n.$set($);const E={};h[0]&8&&(E.open=m[3].insightsOpen),h[0]&4107|h[1]&1&&(E.$$scope={dirty:h,ctx:m}),r.$set(E)},i(m){o||(b(e.$$.fragment,m),b(n.$$.fragment,m),b(r.$$.fragment,m),o=!0)},o(m){w(e.$$.fragment,m),w(n.$$.fragment,m),w(r.$$.fragment,m),o=!1},d(m){P(e,m),m&&d(t),P(n,m),m&&d(s),P(r,m)}}}function $i(i){let e,l;return e=new Iu({props:{schema:i[12].data,namespace:i[0],datasetName:i[1]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&4096&&(a.schema=t[12].data),n[0]&1&&(a.namespace=t[0]),n[0]&2&&(a.datasetName=t[1]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Du(i){let e,l,t=i[3].insightsOpen&&$i(i);return{c(){t&&t.c(),e=he()},l(n){t&&t.l(n),e=he()},m(n,a){t&&t.m(n,a),T(n,e,a),l=!0},p(n,a){n[3].insightsOpen?t?(t.p(n,a),a[0]&8&&b(t,1)):(t=$i(n),t.c(),b(t,1),t.m(e.parentNode,e)):t&&(le(),w(t,1,1,()=>{t=null}),ne())},i(n){l||(b(t),l=!0)},o(n){w(t),l=!1},d(n){t&&t.d(n),n&&d(e)}}}function Nu(i){let e,l,t,n,a,s;return e=new ml({props:{title:"Insights"}}),t=new hl({props:{$$slots:{default:[Du]},$$scope:{ctx:i}}}),a=new _l({props:{primaryButtonText:"Close"}}),{c(){z(e.$$.fragment),l=O(),z(t.$$.fragment),n=O(),z(a.$$.fragment)},l(r){B(e.$$.fragment,r),l=q(r),B(t.$$.fragment,r),n=q(r),B(a.$$.fragment,r)},m(r,o){A(e,r,o),T(r,l,o),A(t,r,o),T(r,n,o),A(a,r,o),s=!0},p(r,o){const f={};o[0]&4107|o[1]&1&&(f.$$scope={dirty:o,ctx:r}),t.$set(f)},i(r){s||(b(e.$$.fragment,r),b(t.$$.fragment,r),b(a.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),w(t.$$.fragment,r),w(a.$$.fragment,r),s=!1},d(r){P(e,r),r&&d(l),P(t,r),r&&d(n),P(a,r)}}}function Si(i){let e,l;return e=new pl({props:{open:!0,modalHeading:"Dataset config",primaryButtonText:"Ok",secondaryButtonText:"Cancel",$$slots:{default:[Mu]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[28]),e.$on("close",i[29]),e.$on("submit",i[30]),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&8192|n[1]&1&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Tu(i){let e,l;return e=new Gi({props:{value:`${i[13].data}`,readonly:!0,rows:15,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&8192&&(a.value=`${t[13].data}`),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Vu(i){let e,l;return e=new nt({}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p:j,i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Mu(i){let e,l,t,n,a,s,r,o,f,u;const _=[Vu,Tu],c=[];function m(h,g){var $,E;return($=h[13])!=null&&$.isFetching?0:(E=h[13])!=null&&E.data?1:-1}return~(r=m(i))&&(o=c[r]=_[r](i)),{c(){e=D("div"),l=H(`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),t=O(),n=D("div"),a=H("config.yml"),s=O(),o&&o.c(),f=he(),this.h()},l(h){e=N(h,"DIV",{class:!0});var g=k(e);l=R(g,`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),g.forEach(d),t=q(h),n=N(h,"DIV",{class:!0});var $=k(n);a=R($,"config.yml"),$.forEach(d),s=q(h),o&&o.l(h),f=he(),this.h()},h(){y(e,"class","mb-4 text-sm"),y(n,"class","font-mono text-xs")},m(h,g){T(h,e,g),p(e,l),T(h,t,g),T(h,n,g),p(n,a),T(h,s,g),~r&&c[r].m(h,g),T(h,f,g),u=!0},p(h,g){let $=r;r=m(h),r===$?~r&&c[r].p(h,g):(o&&(le(),w(c[$],1,1,()=>{c[$]=null}),ne()),~r?(o=c[r],o?o.p(h,g):(o=c[r]=_[r](h),o.c()),b(o,1),o.m(f.parentNode,f)):o=null)},i(h){u||(b(o),u=!0)},o(h){w(o),u=!1},d(h){h&&d(e),h&&d(t),h&&d(n),h&&d(s),~r&&c[r].d(h),h&&d(f)}}}function Cu(i){let e,l,t,n,a,s,r,o,f,u,_;t=new Cf({}),r=new Po({});let c=i[12].data&&Ei(i),m=i[2]&&Si(i);return{c(){e=D("div"),l=D("div"),z(t.$$.fragment),a=O(),s=D("div"),z(r.$$.fragment),o=O(),c&&c.c(),f=O(),m&&m.c(),u=he(),this.h()},l(h){e=N(h,"DIV",{class:!0});var g=k(e);l=N(g,"DIV",{class:!0});var $=k(l);B(t.$$.fragment,$),$.forEach(d),a=q(g),s=N(g,"DIV",{class:!0});var E=k(s);B(r.$$.fragment,E),E.forEach(d),g.forEach(d),o=q(h),c&&c.l(h),f=q(h),m&&m.l(h),u=he(),this.h()},h(){y(l,"class",n=$l(`schema-container relative h-full ${i[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"),y(s,"class","h-full w-2/3 flex-grow"),y(e,"class","flex h-full w-full")},m(h,g){T(h,e,g),p(e,l),A(t,l,null),p(e,a),p(e,s),A(r,s,null),T(h,o,g),c&&c.m(h,g),T(h,f,g),m&&m.m(h,g),T(h,u,g),_=!0},p(h,g){(!_||g[0]&2048&&n!==(n=$l(`schema-container relative h-full ${h[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"))&&y(l,"class",n),h[12].data?c?(c.p(h,g),g[0]&4096&&b(c,1)):(c=Ei(h),c.c(),b(c,1),c.m(f.parentNode,f)):c&&(le(),w(c,1,1,()=>{c=null}),ne()),h[2]?m?(m.p(h,g),g[0]&4&&b(m,1)):(m=Si(h),m.c(),b(m,1),m.m(u.parentNode,u)):m&&(le(),w(m,1,1,()=>{m=null}),ne())},i(h){_||(b(t.$$.fragment,h),b(r.$$.fragment,h),b(c),b(m),_=!0)},o(h){w(t.$$.fragment,h),w(r.$$.fragment,h),w(c),w(m),_=!1},d(h){h&&d(e),P(t),P(r),h&&d(o),c&&c.d(h),h&&d(f),m&&m.d(h),h&&d(u)}}}function zu(i){let e,l,t=i[3].namespace+"",n,a,s=i[3].datasetName+"",r,o,f;return{c(){e=D("div"),l=D("a"),n=H(t),a=H("/"),r=H(s),this.h()},l(u){e=N(u,"DIV",{class:!0});var _=k(e);l=N(_,"A",{class:!0,href:!0});var c=k(l);n=R(c,t),a=R(c,"/"),r=R(c,s),c.forEach(d),_.forEach(d),this.h()},h(){y(l,"class","font-semibold text-black"),y(l,"href",i[8]),y(e,"class","dataset-name svelte-1xlsh2v")},m(u,_){T(u,e,_),p(e,l),p(l,n),p(l,a),p(l,r),o||(f=Le(l,"click",i[21]),o=!0)},p(u,_){_[0]&8&&t!==(t=u[3].namespace+"")&&ae(n,t),_[0]&8&&s!==(s=u[3].datasetName+"")&&ae(r,s),_[0]&256&&y(l,"href",u[8])},d(u){u&&d(e),o=!1,f()}}}function Au(i){let e,l,t,n,a,s,r,o,f,u,_,c,m,h,g;return t=new pa({}),s=new ct({props:{type:"outline",$$slots:{default:[zu]},$$scope:{ctx:i}}}),f=new Dt({}),c=new ra({}),{c(){e=D("div"),l=D("button"),z(t.$$.fragment),a=O(),z(s.$$.fragment),r=O(),o=D("button"),z(f.$$.fragment),u=O(),_=D("button"),z(c.$$.fragment),this.h()},l($){e=N($,"DIV",{slot:!0,class:!0});var E=k(e);l=N(E,"BUTTON",{class:!0});var v=k(l);B(t.$$.fragment,v),v.forEach(d),a=q(E),B(s.$$.fragment,E),r=q(E),o=N(E,"BUTTON",{});var V=k(o);B(f.$$.fragment,V),V.forEach(d),u=q(E),_=N(E,"BUTTON",{});var S=k(_);B(c.$$.fragment,S),S.forEach(d),E.forEach(d),this.h()},h(){y(l,"class","mr-2"),re(l,"bg-blue-100",!i[11]),re(l,"outline-blue-400",!i[11]),re(l,"outline",!i[11]),y(e,"slot","header-subtext"),y(e,"class","flex flex-row items-center gap-x-1")},m($,E){T($,e,E),p(e,l),A(t,l,null),p(e,a),A(s,e,null),p(e,r),p(e,o),A(f,o,null),p(e,u),p(e,_),A(c,_,null),m=!0,h||(g=[Fe(n=He.call(null,l,{text:i[11]?"Show Schema":"Hide Schema"})),Le(l,"click",i[15]),Le(l,"keypress",i[15]),Le(o,"click",i[22]),Fe(He.call(null,o,{text:"Dataset information"})),Fe(He.call(null,_,{text:"Dataset insights"})),Le(_,"click",i[23])],h=!0)},p($,E){n&&Ke(n.update)&&E[0]&2048&&n.update.call(null,{text:$[11]?"Show Schema":"Hide Schema"}),(!m||E[0]&2048)&&re(l,"bg-blue-100",!$[11]),(!m||E[0]&2048)&&re(l,"outline-blue-400",!$[11]),(!m||E[0]&2048)&&re(l,"outline",!$[11]);const v={};E[0]&264|E[1]&1&&(v.$$scope={dirty:E,ctx:$}),s.$set(v)},i($){m||(b(t.$$.fragment,$),b(s.$$.fragment,$),b(f.$$.fragment,$),b(c.$$.fragment,$),m=!0)},o($){w(t.$$.fragment,$),w(s.$$.fragment,$),w(f.$$.fragment,$),w(c.$$.fragment,$),m=!1},d($){$&&d(e),P(t),P(s),P(f),P(c),h=!1,ut(g)}}}function Pu(i){let e,l,t;return l=new Xo({}),{c(){e=D("div"),z(l.$$.fragment),this.h()},l(n){e=N(n,"DIV",{slot:!0,class:!0});var a=k(e);B(l.$$.fragment,a),a.forEach(d),this.h()},h(){y(e,"slot","header-center"),y(e,"class","flex w-full items-center")},m(n,a){T(n,e,a),A(l,e,null),t=!0},p:j,i(n){t||(b(l.$$.fragment,n),t=!0)},o(n){w(l.$$.fragment,n),t=!1},d(n){n&&d(e),P(l)}}}function yi(i){let e,l,t,n;return{c(){e=D("div"),l=H("Copied!"),this.h()},l(a){e=N(a,"DIV",{class:!0});var s=k(e);l=R(s,"Copied!"),s.forEach(d),this.h()},h(){y(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(a,s){T(a,e,s),p(e,l),n=!0},i(a){n||(t&&t.end(1),n=!0)},o(a){t=ss(e,ar,{}),n=!1},d(a){a&&d(e),a&&t&&t.end()}}}function Bu(i){let e,l,t,n,a,s,r,o,f,u,_,c,m,h,g,$,E,v,V,S=i[6]&&yi();return r=new Ws({}),u=new Kr({}),h=new or({}),{c(){e=D("div"),l=D("div"),t=D("div"),n=D("div"),S&&S.c(),a=O(),s=D("button"),z(r.$$.fragment),o=O(),f=D("button"),z(u.$$.fragment),_=O(),c=D("div"),m=D("button"),z(h.$$.fragment),this.h()},l(I){e=N(I,"DIV",{slot:!0});var M=k(e);l=N(M,"DIV",{class:!0});var C=k(l);t=N(C,"DIV",{class:!0});var L=k(t);n=N(L,"DIV",{class:!0});var G=k(n);S&&S.l(G),a=q(G),s=N(G,"BUTTON",{});var se=k(s);B(r.$$.fragment,se),se.forEach(d),G.forEach(d),o=q(L),f=N(L,"BUTTON",{});var Q=k(f);B(u.$$.fragment,Q),Q.forEach(d),_=q(L),c=N(L,"DIV",{class:!0});var K=k(c);m=N(K,"BUTTON",{});var x=k(m);B(h.$$.fragment,x),x.forEach(d),K.forEach(d),L.forEach(d),C.forEach(d),M.forEach(d),this.h()},h(){y(n,"class","relative"),m.disabled=g=!i[9],y(c,"class","mr-2"),re(c,"opacity-40",!i[9]),y(t,"class","flex"),y(l,"class","flex h-full flex-col"),y(e,"slot","header-right")},m(I,M){T(I,e,M),p(e,l),p(l,t),p(t,n),S&&S.m(n,null),p(n,a),p(n,s),A(r,s,null),p(t,o),p(t,f),A(u,f,null),p(t,_),p(t,c),p(c,m),A(h,m,null),E=!0,v||(V=[Fe(He.call(null,s,{text:"Copy the URL"})),Le(s,"click",i[18]),Fe(He.call(null,f,{text:"Export data"})),Le(f,"click",i[19]),Fe(He.call(null,m,{text:"Dataset settings"})),Le(m,"click",i[20]),Fe($=He.call(null,c,{text:i[9]?"":"User does not have access to update settings of this dataset."}))],v=!0)},p(I,M){I[6]?S?M[0]&64&&b(S,1):(S=yi(),S.c(),b(S,1),S.m(n,a)):S&&(le(),w(S,1,1,()=>{S=null}),ne()),(!E||M[0]&512&&g!==(g=!I[9]))&&(m.disabled=g),$&&Ke($.update)&&M[0]&512&&$.update.call(null,{text:I[9]?"":"User does not have access to update settings of this dataset."}),(!E||M[0]&512)&&re(c,"opacity-40",!I[9])},i(I){E||(b(S),b(r.$$.fragment,I),b(u.$$.fragment,I),b(h.$$.fragment,I),E=!0)},o(I){w(S),w(r.$$.fragment,I),w(u.$$.fragment,I),w(h.$$.fragment,I),E=!1},d(I){I&&d(e),S&&S.d(),P(r),P(u),P(h),v=!1,ut(V)}}}function Fu(i){let e,l;return e=new as({props:{$$slots:{"header-right":[Bu],"header-center":[Pu],"header-subtext":[Au],default:[Cu]},$$scope:{ctx:i}}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n[0]&15231|n[1]&1&&(a.$$scope={dirty:n,ctx:t}),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function Hu(i,e,l){let t,n,a,s,r,o,f,u,_=j,c=()=>(_(),_=Be(n,Se=>l(12,u=Se)),n),m,h=j,g=()=>(h(),h=Be(r,Se=>l(13,m=Se)),r);i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>h());let{namespace:$}=e,{datasetName:E}=e;const v=lt();Pe(i,v,Se=>l(3,f=Se));function V(){Xt(v,f.schemaCollapsed=!f.schemaCollapsed,f)}let S=!1,I=!1;const M=Gt();Pe(i,M,Se=>l(17,o=Se));let C=!1,L=!1;const G=()=>navigator.clipboard.writeText(location.href).then(()=>{l(6,C=!0),setTimeout(()=>l(6,C=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),se=()=>l(5,I=!0),Q=()=>l(4,S=!0),K=()=>il(s),x=()=>l(2,L=!0),J=()=>v.setInsightsOpen(!0);function F(Se){S=Se,l(4,S)}function Z(Se){I=Se,l(5,I)}const ee=()=>v.setInsightsOpen(!1),X=()=>v.setInsightsOpen(!1),be=()=>l(2,L=!1),pe=()=>l(2,L=!1),ie=()=>l(2,L=!1);return i.$$set=Se=>{"namespace"in Se&&l(0,$=Se.namespace),"datasetName"in Se&&l(1,E=Se.datasetName)},i.$$.update=()=>{var Se;i.$$.dirty[0]&8&&l(11,t=f.schemaCollapsed),i.$$.dirty[0]&8&&c(l(10,n=kt(f.namespace,f.datasetName))),i.$$.dirty[0]&131072&&l(9,a=(Se=o.data)==null?void 0:Se.access.dataset.update_settings),i.$$.dirty[0]&3&&l(8,s=ji($,E)),i.$$.dirty[0]&7&&g(l(7,r=L?Bs($,E,"yaml"):null))},[$,E,L,f,S,I,C,r,s,a,n,t,u,m,v,V,M,o,G,se,Q,K,x,J,F,Z,ee,X,be,pe,ie]}class Ru extends Ee{constructor(e){super(),$e(this,e,Hu,Fu,ke,{namespace:0,datasetName:1},null,[-1,-1])}}function Lu(i){let e;return{c(){e=H("Page not found! Please specify a dataset.")},l(l){e=R(l,"Page not found! Please specify a dataset.")},m(l,t){T(l,e,t)},p:j,i:j,o:j,d(l){l&&d(e)}}}function Ou(i){let e=i[2],l,t,n=Ii(i);return{c(){n.c(),l=he()},l(a){n.l(a),l=he()},m(a,s){n.m(a,s),T(a,l,s),t=!0},p(a,s){s&4&&ke(e,e=a[2])?(le(),w(n,1,1,j),ne(),n=Ii(a),n.c(),b(n,1),n.m(l.parentNode,l)):n.p(a,s)},i(a){t||(b(n),t=!0)},o(a){w(n),t=!1},d(a){a&&d(l),n.d(a)}}}function Ii(i){let e,l;return e=new Ru({props:{namespace:i[0],datasetName:i[1]}}),{c(){z(e.$$.fragment)},l(t){B(e.$$.fragment,t)},m(t,n){A(e,t,n),l=!0},p(t,n){const a={};n&1&&(a.namespace=t[0]),n&2&&(a.datasetName=t[1]),e.$set(a)},i(t){l||(b(e.$$.fragment,t),l=!0)},o(t){w(e.$$.fragment,t),l=!1},d(t){P(e,t)}}}function qu(i){let e,l,t,n;const a=[Ou,Lu],s=[];function r(o,f){return o[2]&&o[0]&&o[1]?0:1}return e=r(i),l=s[e]=a[e](i),{c(){l.c(),t=he()},l(o){l.l(o),t=he()},m(o,f){s[e].m(o,f),T(o,t,f),n=!0},p(o,[f]){let u=e;e=r(o),e===u?s[e].p(o,f):(le(),w(s[u],1,1,()=>{s[u]=null}),ne(),l=s[e],l?l.p(o,f):(l=s[e]=a[e](o),l.c()),b(l,1),l.m(t.parentNode,t))},i(o){n||(b(l),n=!0)},o(o){w(l),n=!1},d(o){s[e].d(o),o&&d(t)}}}function ju(i,e,l){let t,n,a,s;const r=Fs();return Pe(i,r,o=>l(4,n=o)),i.$$.update=()=>{if(i.$$.dirty&19&&n.page==="datasets")if(n.identifier==""||n.identifier==null)l(0,a=void 0),l(1,s=void 0);else{const[o,f]=n.identifier.split("/");(a!=o||s!=f)&&(l(0,a=o),l(1,s=f))}if(i.$$.dirty&3&&l(2,t=a&&s?qs(a,s):null),i.$$.dirty&7&&t!=null){const o=Ui(a,s);Hs("datasets",`${a}/${s}`,t,r,f=>Os(f,o),f=>Ls(f,o))}i.$$.dirty&4&&t!=null&&Rs(t)},[a,s,t,r,n]}class rc extends Ee{constructor(e){super(),$e(this,e,ju,qu,ke,{})}}export{rc as component};
