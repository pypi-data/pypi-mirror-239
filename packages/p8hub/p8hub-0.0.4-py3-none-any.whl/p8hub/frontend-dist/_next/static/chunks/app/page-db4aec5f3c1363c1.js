(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1947:function(e,t,a){Promise.resolve().then(a.bind(a,1498)),Promise.resolve().then(a.bind(a,5821)),Promise.resolve().then(a.bind(a,3111)),Promise.resolve().then(a.bind(a,4407))},1498:function(e,t,a){"use strict";a.r(t),a.d(t,{AppTemplates:function(){return AppTemplates}});var r=a(7437),s=a(2333),n=a(5611),o=a(8255),l=a(5821);function AppTemplate(e){let{id:t,name:a,description:s,deployable:d,default_service_port:i,color:c}=e;return(0,r.jsx)(o.Zb,{className:"border border-gray-600 rounded-md shadow-sm overflow-hidden",children:(0,r.jsxs)(o.Ol,{className:"grid grid-cols-[1fr_110px] items-start gap-4 space-y-0 border-l-8 h-full",style:{borderColor:c},children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(o.ll,{className:d?"":"text-gray-500",children:a}),(0,r.jsx)(o.SZ,{children:s})]}),d&&(0,r.jsx)(l.CreateService,{defaultApp:{id:t,name:a,description:s,default_port:i},children:(0,r.jsx)(n.z,{variant:"default",children:"Deploy"})}),!d&&(0,r.jsx)(n.z,{variant:"secondary",className:"text-gray-400 cursor-not-allowed",children:"Deploy"})]})})}var d=a(6956);let i=["#f55742","#b6f542","#42e3f5","#f54242","#b9f542","#42a1f5","#0800e3","#f54242","#42f5b3","#f5a442"];function AppTemplates(){let{data:e}=(0,s.ZP)("/api/apps",e=>fetch(e).then(e=>e.json()),{refreshInterval:1e4}),t=null==e?void 0:e.sort((e,t)=>e.weight-t.weight);return(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-2",children:[e&&t.map((e,t)=>(0,r.jsx)(AppTemplate,{id:e.id,name:e.name,description:e.description,deployable:e.deployable,default_service_port:e.default_service_port,color:i[t%i.length]},e.name)),void 0===e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.p,{}),(0,r.jsx)(d.p,{}),(0,r.jsx)(d.p,{}),(0,r.jsx)(d.p,{})]})]})}},5821:function(e,t,a){"use strict";a.r(t),a.d(t,{CreateService:function(){return CreateService}});var r=a(7437),s=a(2265),n=a(5611),o=a(8712),l=a(2549),d=a(1628);let i=o.fC,c=o.xz,u=o.h_;o.x8;let m=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});m.displayName=o.aV.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(u,{children:[(0,r.jsx)(m,{}),(0,r.jsxs)(o.VY,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",a),...n,children:[s,(0,r.jsxs)(o.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,r.jsx)(l.Z,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=o.VY.displayName;let DialogHeader=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};DialogHeader.displayName="DialogHeader";let DialogFooter=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};DialogFooter.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.Dx,{ref:t,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=o.Dx.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(o.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...s})});x.displayName=o.dk.displayName;let h=s.forwardRef((e,t)=>{let{className:a,type:s,...n}=e;return(0,r.jsx)("input",{type:s,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});h.displayName="Input";var g=a(6743),v=a(7404);let j=(0,v.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(g.f,{ref:t,className:(0,d.cn)(j(),a),...s})});y.displayName=g.f.displayName;var N=a(3379),b=a(6478),w=a(1827);let k=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(b.mY,{ref:t,className:(0,d.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",a),...s})});k.displayName=b.mY.displayName;let S=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(w.Z,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(b.mY.Input,{ref:t,className:(0,d.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",a),...s})]})});S.displayName=b.mY.Input.displayName;let _=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(b.mY.List,{ref:t,className:(0,d.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",a),...s})});_.displayName=b.mY.List.displayName;let R=s.forwardRef((e,t)=>(0,r.jsx)(b.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));R.displayName=b.mY.Empty.displayName;let C=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(b.mY.Group,{ref:t,className:(0,d.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",a),...s})});C.displayName=b.mY.Group.displayName;let A=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(b.mY.Separator,{ref:t,className:(0,d.cn)("-mx-1 h-px bg-border",a),...s})});A.displayName=b.mY.Separator.displayName;let D=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(b.mY.Item,{ref:t,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...s})});D.displayName=b.mY.Item.displayName;var T=a(5050);let z=T.fC,Y=T.xz,O=s.forwardRef((e,t)=>{let{className:a,align:s="center",sideOffset:n=4,...o}=e;return(0,r.jsx)(T.h_,{children:(0,r.jsx)(T.VY,{ref:t,align:s,sideOffset:n,className:(0,d.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...o})})});O.displayName=T.VY.displayName;var Z=a(9957),M=a(2442),E=a(2333),I=a(3611);function AppSelector(e){var t;let{onSelect:a,appId:n}=e,[o,l]=s.useState(!1),{data:i}=(0,E.ZP)("/api/apps",e=>fetch(e).then(e=>e.json())),c=null==i?void 0:i.filter(e=>(null==e?void 0:e.deployable)===!0||(null==e?void 0:e.deployable)===void 0);return(0,r.jsxs)(z,{open:o,onOpenChange:l,children:[(0,r.jsx)(Y,{asChild:!0,children:(0,r.jsxs)(I.z,{variant:"outline",role:"combobox","aria-expanded":o,className:"w-[300px] justify-between",children:[n?null===(t=c.find(e=>e.id===n))||void 0===t?void 0:t.name:"Select application...",(0,r.jsx)(Z.Z,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,r.jsx)(O,{className:"w-[300px] p-0",children:(0,r.jsxs)(k,{children:[(0,r.jsx)(S,{placeholder:"Search application..."}),(0,r.jsx)(R,{children:"No application found."}),(0,r.jsx)(C,{children:c.map(e=>(0,r.jsxs)(D,{value:e.id,onSelect:t=>{l(!1),a(e)},children:[(0,r.jsx)(M.Z,{className:(0,d.cn)("mr-2 h-4 w-4",n===e.id?"opacity-100":"opacity-0")}),e.name]},e.id))})]})})]})}function CreateService(e){let{children:t,defaultApp:a}=e,{toast:o}=(0,N.pm)(),l=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,s.useRef)(null),[m,g]=(0,s.useState)(a),deployService=async(e,t,a,r)=>{if(!Number.isInteger(Number(r))){o({variant:"destructive",title:"Error deploying service",description:"Wrong port format. Please enter an integer number"});return}await fetch("/api/services",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({app_id:e,name:t,description:a,service_port:r})}).then(e=>{if(!e.ok)throw e;o({variant:"default",title:"Service deployed",description:"Your service has been deployed"}),window.location.reload()}).catch(async e=>{let t=await e.json(),a=t.detail;o({variant:"destructive",title:"Error deploying service: "+a,description:e.detail})})};return(0,r.jsxs)(i,{children:[(0,r.jsx)(c,{asChild:!0,children:t}),(0,r.jsxs)(f,{className:"sm:max-w-[475px]",children:[(0,r.jsxs)(DialogHeader,{children:[(0,r.jsx)(p,{children:"Deploy a new service"}),(0,r.jsx)(x,{children:"Deploy a new service from an app template."})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(y,{htmlFor:"application",children:"Application"}),(0,r.jsx)(AppSelector,{onSelect:e=>{var t;null===(t=l.current)||void 0===t||t.focus(),l.current&&d.current&&u.current&&(l.current.value=e.name,d.current.value=e.description,u.current.value=e.default_port,g(e))},appId:(null==m?void 0:m.id)||""})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(y,{htmlFor:"name",children:"Name"}),(0,r.jsx)(h,{autoFocus:!0,ref:l,defaultValue:(null==m?void 0:m.name)||""})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(y,{htmlFor:"description",children:"Description"}),(0,r.jsx)(h,{ref:d,defaultValue:(null==m?void 0:m.description)||""})]}),(0,r.jsxs)("div",{className:"grid gap-2",children:[(0,r.jsx)(y,{htmlFor:"port",children:"Service Port"}),(0,r.jsx)(h,{type:"number",min:0,max:65535,ref:u,defaultValue:(null==m?void 0:m.default_port)||8080})]})]}),(0,r.jsx)(DialogFooter,{children:(0,r.jsx)(n.z,{onClick:()=>{var e,t,a;if(!m){o({variant:"destructive",title:"Error deploying service",description:"Please select an app to deploy"});return}deployService(m.id,(null===(e=l.current)||void 0===e?void 0:e.value)||m.name,(null===(t=d.current)||void 0===t?void 0:t.value)||m.description,(null===(a=u.current)||void 0===a?void 0:a.value)||m.default_port)},children:"Deploy"})})]})]})}},3111:function(e,t,a){"use strict";a.r(t),a.d(t,{Services:function(){return Services}});var r=a(7437),s=a(2333),n=a(2265),o=a(1396),l=a.n(o),d=a(5611),i=a(2506),c=a(1628);let u=i.fC;i.xz;let m=i.h_,f=n.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsx)(i.aV,{className:(0,c.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});f.displayName=i.aV.displayName;let p=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsxs)(m,{children:[(0,r.jsx)(f,{}),(0,r.jsx)(i.VY,{ref:t,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",a),...s})]})});p.displayName=i.VY.displayName;let AlertDialogHeader=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,c.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};AlertDialogHeader.displayName="AlertDialogHeader";let AlertDialogFooter=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};AlertDialogFooter.displayName="AlertDialogFooter";let x=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.Dx,{ref:t,className:(0,c.cn)("text-lg font-semibold",a),...s})});x.displayName=i.Dx.displayName;let h=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.dk,{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=i.dk.displayName;let g=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.aU,{ref:t,className:(0,c.cn)((0,d.d)(),a),...s})});g.displayName=i.aU.displayName;let v=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(i.$j,{ref:t,className:(0,c.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...s})});v.displayName=i.$j.displayName;var j=a(8255),y=a(1889),N=a(7158),b=a(2442),w=a(6369);let k=y.fC,S=y.xz;y.ZA,y.Uv,y.Tr,y.Ee;let _=n.forwardRef((e,t)=>{let{className:a,inset:s,children:n,...o}=e;return(0,r.jsxs)(y.fF,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",a),...o,children:[n,(0,r.jsx)(N.Z,{className:"ml-auto h-4 w-4"})]})});_.displayName=y.fF.displayName;let R=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(y.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...s})});R.displayName=y.tu.displayName;let C=n.forwardRef((e,t)=>{let{className:a,sideOffset:s=4,...n}=e;return(0,r.jsx)(y.Uv,{children:(0,r.jsx)(y.VY,{ref:t,sideOffset:s,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});C.displayName=y.VY.displayName;let A=n.forwardRef((e,t)=>{let{className:a,inset:s,...n}=e;return(0,r.jsx)(y.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",a),...n})});A.displayName=y.ck.displayName;let D=n.forwardRef((e,t)=>{let{className:a,children:s,checked:n,...o}=e;return(0,r.jsxs)(y.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...o,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(y.wU,{children:(0,r.jsx)(b.Z,{className:"h-4 w-4"})})}),s]})});D.displayName=y.oC.displayName;let T=n.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(y.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(y.wU,{children:(0,r.jsx)(w.Z,{className:"h-2 w-2 fill-current"})})}),s]})});T.displayName=y.Rk.displayName;let z=n.forwardRef((e,t)=>{let{className:a,inset:s,...n}=e;return(0,r.jsx)(y.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",a),...n})});z.displayName=y.__.displayName;let Y=n.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(y.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...s})});Y.displayName=y.Z0.displayName;var O=a(6823);let Z=n.forwardRef((e,t)=>{let{className:a,orientation:s="horizontal",decorative:n=!0,...o}=e;return(0,r.jsx)(O.f,{ref:t,decorative:n,orientation:s,className:(0,c.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",a),...o})});Z.displayName=O.f.displayName;var M=a(3379),E=a(9394),I=a(2067),V=a.n(I);function ServiceCard(e){let{service:{id:t,name:a,description:s,status:o,service_port:i,created_at:m}}=e,{toast:f}=(0,M.pm)(),[y,N]=(0,n.useState)(!1),deleteService=async e=>{await fetch("/api/services/".concat(e),{method:"DELETE"}).then(e=>{if(!e.ok)throw e;f({variant:"default",title:"Service deleted",description:"Your service has been deleted"}),window.location.reload()}).catch(async e=>{let t=await e.json(),a=t.detail;f({variant:"destructive",title:"Error deleting service: "+a,description:e.detail})})},b=V()(m).fromNow(!0);return(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(j.Zb,{className:"border border-gray-600 rounded-md shadow-sm h-[160px]",children:[(0,r.jsxs)(j.Ol,{className:"grid grid-cols-[1fr_110px] items-start gap-4 space-y-0",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(j.ll,{children:(0,r.jsx)(l(),{href:"/services?serviceId=".concat(t),className:"hover:underline",children:a})}),(0,r.jsxs)(j.SZ,{className:"h-[50px] overflow-auto",children:[s,i&&(0,r.jsxs)("div",{children:["Address:"," ",(0,r.jsxs)("a",{href:"http://localhost:".concat(i),target:"_blank",rel:"noreferrer",children:["http://localhost:",i]})]})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-1 rounded-md bg-secondary text-secondary-foreground",children:[(0,r.jsx)(d.z,{variant:"secondary",className:(0,c.cn)("px-4 shadow-none","hover:bg-secondary-hover","online"!==o&&"text-gray-300 cursor-not-allowed"),onClick:()=>{"online"===o&&window.open("http://localhost:".concat(i))},children:"Open"}),(0,r.jsx)(Z,{orientation:"vertical",className:"h-[20px]"}),(0,r.jsxs)(k,{children:[(0,r.jsx)(S,{asChild:!0,children:(0,r.jsx)(d.z,{variant:"secondary",className:"px-2 shadow-none",children:(0,r.jsx)(E.v4q,{className:"h-4 w-4 text-secondary-foreground"})})}),(0,r.jsxs)(C,{align:"end",alignOffset:-5,className:"w-[200px]",forceMount:!0,children:[(0,r.jsx)(l(),{href:"/services?serviceId=".concat(t),children:(0,r.jsx)(D,{children:"View logs"})}),(0,r.jsx)(D,{onClick:()=>{N(!0)},children:"Delete"})]})]})]})]}),(0,r.jsx)(j.aY,{children:(0,r.jsxs)("div",{className:"flex space-x-4 text-sm text-muted-foreground",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(E.J$M,{className:(0,c.cn)("mr-1 h-4 w-4","online"===o?"fill-green-500 text-green-400":"fill-orange-500 text-orange-400")}),o.toUpperCase().replaceAll("_"," ")]}),(0,r.jsxs)("div",{children:["Created: ",b]}),(0,r.jsxs)("div",{children:["Service Port: ",i||"not available"]})]})})]}),(0,r.jsx)(u,{open:y,children:(0,r.jsxs)(p,{children:[(0,r.jsxs)(AlertDialogHeader,{children:[(0,r.jsx)(x,{children:"Are you absolutely sure?"}),(0,r.jsxs)(h,{children:["This action cannot be undone. This will permanently delete the service: ",(0,r.jsx)("b",{children:a})]})]}),(0,r.jsxs)(AlertDialogFooter,{children:[(0,r.jsx)(v,{onClick:()=>{N(!1)},children:"Cancel"}),(0,r.jsx)(g,{onClick:()=>{N(!1),deleteService(t)},children:"Yes. Delete It!"})]})]})})]})}var P=a(6956);function Services(){let{data:e}=(0,s.ZP)("/api/services",e=>fetch(e).then(e=>e.json()),{refreshInterval:3e3});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-2",children:[e&&e.map((e,t)=>(0,r.jsx)(ServiceCard,{service:e},t)),void 0===e&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.p,{}),(0,r.jsx)(P.p,{})]})]}),e&&0===e.length&&(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full p-8 space-y-4 text-center bg-gray-100 dark:bg-gray-800 border border-gray-200 rounded-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"No Services Running"}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Deploy a new service to get started."})]})]})}},6956:function(e,t,a){"use strict";a.d(t,{p:function(){return AppTemplate}});var r=a(7437),s=a(8255),n=a(1628);function Skeleton(e){let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)("animate-pulse rounded-md bg-muted",t),...a})}function AppTemplate(){return(0,r.jsxs)(s.Zb,{className:"border border-gray-600 rounded-md shadow-sm",children:[(0,r.jsxs)(s.Ol,{className:"grid grid-cols-[1fr_110px] items-start gap-4 space-y-0",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(Skeleton,{className:"w-[150px] h-[32px] rounded-md"}),(0,r.jsx)(Skeleton,{className:"w-[200px] h-[32px] rounded-md"})]}),(0,r.jsx)(Skeleton,{})]}),(0,r.jsx)(s.aY,{})]})}},4407:function(e,t,a){"use strict";a.r(t),a.d(t,{SystemMonitor:function(){return SystemMonitor}});var r=a(7437),s=a(8255),n=a(2333);function SystemMonitor(){let{data:e}=(0,n.ZP)("/api/system_monitor",e=>fetch(e).then(e=>e.json()),{refreshInterval:1e4}),formatMemory=e=>{let t=Math.round(e/1024/1024/1024*10)/10;return isNaN(t)?"-":t};return(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(s.Zb,{children:[(0,r.jsxs)(s.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(s.ll,{className:"text-sm font-medium",children:"Number of Services"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:(0,r.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})]}),(0,r.jsxs)(s.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:null==e?void 0:e.num_services}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Managed by P8Hub"})]})]}),(0,r.jsxs)(s.Zb,{children:[(0,r.jsxs)(s.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(s.ll,{className:"text-sm font-medium",children:"CPU"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:(0,r.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})]}),(0,r.jsxs)(s.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[null==e?void 0:e.cpu_percent,"%"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Number of cores: ",null==e?void 0:e.num_cpu_cores]})]})]}),(0,r.jsxs)(s.Zb,{children:[(0,r.jsxs)(s.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(s.ll,{className:"text-sm font-medium",children:"Memory"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:(0,r.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})]}),(0,r.jsxs)(s.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[formatMemory(null==e?void 0:e.memory_used)," GB /"," ",formatMemory(null==e?void 0:e.memory_total)," GB"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Percentage: ",null==e?void 0:e.memory_percent,"%"]})]})]}),(0,r.jsxs)(s.Zb,{children:[(0,r.jsxs)(s.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(s.ll,{className:"text-sm font-medium",children:"SWAP"}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"h-4 w-4 text-muted-foreground",children:(0,r.jsx)("path",{d:"M22 12h-4l-3 9L9 3l-3 9H2"})})]}),(0,r.jsxs)(s.aY,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:[formatMemory(null==e?void 0:e.swap_used)," GB /"," ",formatMemory(null==e?void 0:e.swap_total)," GB"]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Percentage: ",null==e?void 0:e.swap_percent,"%"]})]})]})]})}},3611:function(e,t,a){"use strict";a.d(t,{z:function(){return i}});var r=a(7437),s=a(2265),n=a(7256),o=a(7404),l=a(1628);let d=(0,o.j)("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:opacity-50 disabled:pointer-events-none ring-offset-background",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"underline-offset-4 hover:underline text-primary"},size:{default:"h-10 py-2 px-4",sm:"h-9 px-3 rounded-md",lg:"h-11 px-8 rounded-md",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:i=!1,...c}=e,u=i?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:s,size:o,className:a})),ref:t,...c})});i.displayName="Button"},1628:function(e,t,a){"use strict";a.d(t,{cn:function(){return cn}});var r=a(348),s=a(3986);function cn(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m)((0,r.W)(t))}},5611:function(e,t,a){"use strict";a.d(t,{d:function(){return d},z:function(){return i}});var r=a(7437),s=a(2265),n=a(7256),o=a(7404),l=a(1628);let d=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=s.forwardRef((e,t)=>{let{className:a,variant:s,size:o,asChild:i=!1,...c}=e,u=i?n.g7:"button";return(0,r.jsx)(u,{className:(0,l.cn)(d({variant:s,size:o,className:a})),ref:t,...c})});i.displayName="Button"},8255:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return i},Zb:function(){return o},aY:function(){return c},ll:function(){return d}});var r=a(7437),s=a(2265),n=a(1628);let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm border-gray-500",a),...s})});o.displayName="Card";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",a),...s})});l.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",a),...s})});d.displayName="CardTitle";let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",a),...s})});i.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",a),...s})});c.displayName="CardContent";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",a),...s})});u.displayName="CardFooter"},3379:function(e,t,a){"use strict";a.d(t,{pm:function(){return useToast}});var r=a(2265);let s=0,n=new Map,addToRemoveQueue=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),dispatch({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},reducer=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?addToRemoveQueue(a):e.toasts.forEach(e=>{addToRemoveQueue(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],l={toasts:[]};function dispatch(e){l=reducer(l,e),o.forEach(e=>{e(l)})}function toast(e){let{...t}=e,a=(s=(s+1)%Number.MAX_VALUE).toString(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:a});return dispatch({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||dismiss()}}}),{id:a,dismiss,update:e=>dispatch({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function useToast(){let[e,t]=r.useState(l);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast,dismiss:e=>dispatch({type:"DISMISS_TOAST",toastId:e})}}}},function(e){e.O(0,[310,990,64,894,338,507,971,472,744],function(){return e(e.s=1947)}),_N_E=e.O()}]);