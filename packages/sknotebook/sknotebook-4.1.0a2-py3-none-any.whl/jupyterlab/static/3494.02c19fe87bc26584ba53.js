"use strict";(self["webpackChunk_jupyterlab_application_top"]=self["webpackChunk_jupyterlab_application_top"]||[]).push([[3494],{13494:(t,e,i)=>{i.r(e);i.d(e,{diagram:()=>T});var n=i(60777);var s=i(54333);var r=i(27484);var a=i.n(r);var c=i(17967);var l=i(27856);var o=i.n(l);var h=function(){var t=function(t,e,i,n){for(i=i||{},n=t.length;n--;i[t[n]]=e);return i},e=[1,4],i=[1,5],n=[1,6],s=[1,7],r=[1,9],a=[1,11,13,15,17,19,20,26,27,28,29],c=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],o=[26,27,28],h=[2,8],u=[1,18],p=[1,19],y=[1,20],f=[1,21],d=[1,22],_=[1,23],g=[1,28],v=[6,26,27,28,29];var m={trace:function t(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function t(e,i,n,s,r,a,c){var l=a.length-1;switch(r){case 4:s.setShowData(true);break;case 7:this.$=a[l-1];break;case 9:s.addSection(a[l-1],s.cleanupValue(a[l]));break;case 10:this.$=a[l].trim();s.setDiagramTitle(this.$);break;case 11:this.$=a[l].trim();s.setAccTitle(this.$);break;case 12:case 13:this.$=a[l].trim();s.setAccDescription(this.$);break;case 14:s.addSection(a[l].substr(8));this.$=a[l].substr(8);break;case 21:s.parseDirective("%%{","open_directive");break;case 22:s.parseDirective(a[l],"type_directive");break;case 23:a[l]=a[l].trim().replace(/'/g,'"');s.parseDirective(a[l],"arg_directive");break;case 24:s.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:e,21:8,26:i,27:n,28:s,29:r},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:i,27:n,28:s,29:r},{3:11,4:2,5:3,6:e,21:8,26:i,27:n,28:s,29:r},t(a,c,{7:12,8:[1,13]}),t(l,[2,18]),t(l,[2,19]),t(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(o,h,{21:8,9:16,10:17,5:24,1:[2,3],11:u,13:p,15:y,17:f,19:d,20:_,29:r}),t(a,c,{7:25}),{23:26,24:[1,27],32:g},t([24,32],[2,22]),t(a,[2,6]),{4:29,26:i,27:n,28:s},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(o,[2,13]),t(o,[2,14]),t(o,[2,15]),t(o,h,{21:8,9:16,10:17,5:24,1:[2,4],11:u,13:p,15:y,17:f,19:d,20:_,29:r}),t(v,[2,16]),{25:34,31:[1,35]},t(v,[2,24]),t(a,[2,7]),t(o,[2,9]),t(o,[2,10]),t(o,[2,11]),t(o,[2,12]),{23:36,32:g},{32:[2,23]},t(v,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function t(e,i){if(i.recoverable){this.trace(e)}else{var n=new Error(e);n.hash=i;throw n}},parse:function t(e){var i=this,n=[0],s=[],r=[null],a=[],c=this.table,l="",o=0,h=0,u=2,p=1;var y=a.slice.call(arguments,1);var f=Object.create(this.lexer);var d={yy:{}};for(var _ in this.yy){if(Object.prototype.hasOwnProperty.call(this.yy,_)){d.yy[_]=this.yy[_]}}f.setInput(e,d.yy);d.yy.lexer=f;d.yy.parser=this;if(typeof f.yylloc=="undefined"){f.yylloc={}}var g=f.yylloc;a.push(g);var v=f.options&&f.options.ranges;if(typeof d.yy.parseError==="function"){this.parseError=d.yy.parseError}else{this.parseError=Object.getPrototypeOf(this).parseError}function m(){var t;t=s.pop()||f.lex()||p;if(typeof t!=="number"){if(t instanceof Array){s=t;t=s.pop()}t=i.symbols_[t]||t}return t}var b,k,x,S,w={},E,D,$,A;while(true){k=n[n.length-1];if(this.defaultActions[k]){x=this.defaultActions[k]}else{if(b===null||typeof b=="undefined"){b=m()}x=c[k]&&c[k][b]}if(typeof x==="undefined"||!x.length||!x[0]){var T="";A=[];for(E in c[k]){if(this.terminals_[E]&&E>u){A.push("'"+this.terminals_[E]+"'")}}if(f.showPosition){T="Parse error on line "+(o+1)+":\n"+f.showPosition()+"\nExpecting "+A.join(", ")+", got '"+(this.terminals_[b]||b)+"'"}else{T="Parse error on line "+(o+1)+": Unexpected "+(b==p?"end of input":"'"+(this.terminals_[b]||b)+"'")}this.parseError(T,{text:f.match,token:this.terminals_[b]||b,line:f.yylineno,loc:g,expected:A})}if(x[0]instanceof Array&&x.length>1){throw new Error("Parse Error: multiple actions possible at state: "+k+", token: "+b)}switch(x[0]){case 1:n.push(b);r.push(f.yytext);a.push(f.yylloc);n.push(x[1]);b=null;{h=f.yyleng;l=f.yytext;o=f.yylineno;g=f.yylloc}break;case 2:D=this.productions_[x[1]][1];w.$=r[r.length-D];w._$={first_line:a[a.length-(D||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(D||1)].first_column,last_column:a[a.length-1].last_column};if(v){w._$.range=[a[a.length-(D||1)].range[0],a[a.length-1].range[1]]}S=this.performAction.apply(w,[l,h,o,d.yy,x[1],r,a].concat(y));if(typeof S!=="undefined"){return S}if(D){n=n.slice(0,-1*D*2);r=r.slice(0,-1*D);a=a.slice(0,-1*D)}n.push(this.productions_[x[1]][0]);r.push(w.$);a.push(w._$);$=c[n[n.length-2]][n[n.length-1]];n.push($);break;case 3:return true}}return true}};var b=function(){var t={EOF:1,parseError:function t(e,i){if(this.yy.parser){this.yy.parser.parseError(e,i)}else{throw new Error(e)}},setInput:function(t,e){this.yy=e||this.yy||{};this._input=t;this._more=this._backtrack=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var t=this._input[0];this.yytext+=t;this.yyleng++;this.offset++;this.match+=t;this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);if(e){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return t},unput:function(t){var e=t.length;var i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-e);this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(i.length-1){this.yylineno-=i.length-1}var s=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e};if(this.options.ranges){this.yylloc.range=[s[0],s[0]+this.yyleng-e]}this.yyleng=this.yytext.length;return this},more:function(){this._more=true;return this},reject:function(){if(this.options.backtrack_lexer){this._backtrack=true}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}return this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;if(t.length<20){t+=this._input.substr(0,20-t.length)}return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput();var e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var i,n,s;if(this.options.backtrack_lexer){s={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};if(this.options.ranges){s.yylloc.range=this.yylloc.range.slice(0)}}n=t[0].match(/(?:\r\n?|\n).*/g);if(n){this.yylineno+=n.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length};this.yytext+=t[0];this.match+=t[0];this.matches=t;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._backtrack=false;this._input=this._input.slice(t[0].length);this.matched+=t[0];i=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(i){return i}else if(this._backtrack){for(var r in s){this[r]=s[r]}return false}return false},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var t,e,i,n;if(!this._more){this.yytext="";this.match=""}var s=this._currentRules();for(var r=0;r<s.length;r++){i=this._input.match(this.rules[s[r]]);if(i&&(!e||i[0].length>e[0].length)){e=i;n=r;if(this.options.backtrack_lexer){t=this.test_match(i,s[r]);if(t!==false){return t}else if(this._backtrack){e=false;continue}else{return false}}else if(!this.options.flex){break}}}if(e){t=this.test_match(e,s[n]);if(t!==false){return t}return false}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function t(){var e=this.next();if(e){return e}else{return this.lex()}},begin:function t(e){this.conditionStack.push(e)},popState:function t(){var e=this.conditionStack.length-1;if(e>0){return this.conditionStack.pop()}else{return this.conditionStack[0]}},_currentRules:function t(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}else{return this.conditions["INITIAL"].rules}},topState:function t(e){e=this.conditionStack.length-1-Math.abs(e||0);if(e>=0){return this.conditionStack[e]}else{return"INITIAL"}},pushState:function t(e){this.begin(e)},stateStackSize:function t(){return this.conditionStack.length},options:{"case-insensitive":true},performAction:function t(e,i,n,s){switch(n){case 0:this.begin("open_directive");return 29;case 1:this.begin("type_directive");return 30;case 2:this.popState();this.begin("arg_directive");return 24;case 3:this.popState();this.popState();return 32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:this.begin("title");return 13;case 11:this.popState();return"title_value";case 12:this.begin("acc_title");return 15;case 13:this.popState();return"acc_title_value";case 14:this.begin("acc_descr");return 17;case 15:this.popState();return"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:false},acc_descr:{rules:[15],inclusive:false},acc_title:{rules:[13],inclusive:false},close_directive:{rules:[],inclusive:false},arg_directive:{rules:[3,4],inclusive:false},type_directive:{rules:[2,3],inclusive:false},open_directive:{rules:[1],inclusive:false},title:{rules:[11],inclusive:false},string:{rules:[20,21],inclusive:false},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:true}}};return t}();m.lexer=b;function k(){this.yy={}}k.prototype=m;m.Parser=k;return new k}();h.parser=h;const u=h;let p={};let y=false;const f=function(t,e,i){n.m.parseDirective(this,t,e,i)};const d=function(t,e){t=n.e.sanitizeText(t,(0,n.c)());if(p[t]===void 0){p[t]=e;n.l.debug("Added new section :",t)}};const _=()=>p;const g=function(t){y=t};const v=function(){return y};const m=function(t){if(t.substring(0,1)===":"){t=t.substring(1).trim();return Number(t.trim())}else{return Number(t.trim())}};const b=function(){p={};y=false;(0,n.v)()};const k={parseDirective:f,getConfig:()=>(0,n.c)().pie,addSection:d,getSections:_,cleanupValue:m,clear:b,setAccTitle:n.s,getAccTitle:n.g,setDiagramTitle:n.r,getDiagramTitle:n.t,setShowData:g,getShowData:v,getAccDescription:n.a,setAccDescription:n.b};const x=t=>`\n  .pieCircle{\n    stroke: ${t.pieStrokeColor};\n    stroke-width : ${t.pieStrokeWidth};\n    opacity : ${t.pieOpacity};\n  }\n  .pieOuterCircle{\n    stroke: ${t.pieOuterStrokeColor};\n    stroke-width: ${t.pieOuterStrokeWidth};\n    fill: none;\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ${t.pieTitleTextSize};\n    fill: ${t.pieTitleTextColor};\n    font-family: ${t.fontFamily};\n  }\n  .slice {\n    font-family: ${t.fontFamily};\n    fill: ${t.pieSectionTextColor};\n    font-size:${t.pieSectionTextSize};\n    // fill: white;\n  }\n  .legend text {\n    fill: ${t.pieLegendTextColor};\n    font-family: ${t.fontFamily};\n    font-size: ${t.pieLegendTextSize};\n  }\n`;const S=x;let w=(0,n.c)();let E;const D=450;const $=(t,e,i,r)=>{var a;try{w=(0,n.c)();n.l.debug("Rendering info diagram\n"+t);const i=(0,n.c)().securityLevel;let x;if(i==="sandbox"){x=(0,s.Ys)("#i"+e)}const S=i==="sandbox"?(0,s.Ys)(x.nodes()[0].contentDocument.body):(0,s.Ys)("body");const $=i==="sandbox"?x.nodes()[0].contentDocument:document;const A=$.getElementById(e);E=A.parentElement.offsetWidth;if(E===void 0){E=1200}if(w.useWidth!==void 0){E=w.useWidth}if(w.pie.useWidth!==void 0){E=w.pie.useWidth}const T=S.select("#"+e);(0,n.i)(T,D,E,w.pie.useMaxWidth);A.setAttribute("viewBox","0 0 "+E+" "+D);var c=40;var l=18;var o=4;var h=Math.min(E,D)/2-c;var u=T.append("g").attr("transform","translate("+E/2+","+D/2+")");var p=r.db.getSections();var y=0;Object.keys(p).forEach((function(t){y+=p[t]}));const I=w.themeVariables;var f=[I.pie1,I.pie2,I.pie3,I.pie4,I.pie5,I.pie6,I.pie7,I.pie8,I.pie9,I.pie10,I.pie11,I.pie12];const O=((a=w.pie)==null?void 0:a.textPosition)??.75;let[P]=(0,n.C)(I.pieOuterStrokeWidth);P??(P=2);var d=(0,s.PKp)().range(f);var _=Object.entries(p).map((function(t,e){return{order:e,name:t[0],value:t[1]}}));var g=(0,s.ve8)().value((function(t){return t.value})).sort((function(t,e){return t.order-e.order}));var v=g(_);var m=(0,s.Nb1)().innerRadius(0).outerRadius(h);var b=(0,s.Nb1)().innerRadius(h*O).outerRadius(h*O);u.append("circle").attr("cx",0).attr("cy",0).attr("r",h+P/2).attr("class","pieOuterCircle");u.selectAll("mySlices").data(v).enter().append("path").attr("d",m).attr("fill",(function(t){return d(t.data.name)})).attr("class","pieCircle");u.selectAll("mySlices").data(v).enter().append("text").text((function(t){return(t.data.value/y*100).toFixed(0)+"%"})).attr("transform",(function(t){return"translate("+b.centroid(t)+")"})).style("text-anchor","middle").attr("class","slice");u.append("text").text(r.db.getDiagramTitle()).attr("x",0).attr("y",-(D-50)/2).attr("class","pieTitleText");var k=u.selectAll(".legend").data(d.domain()).enter().append("g").attr("class","legend").attr("transform",(function(t,e){const i=l+o;const n=i*d.domain().length/2;const s=12*l;const r=e*i-n;return"translate("+s+","+r+")"}));k.append("rect").attr("width",l).attr("height",l).style("fill",d).style("stroke",d);k.data(v).append("text").attr("x",l+o).attr("y",l-o).text((function(t){if(r.db.getShowData()||w.showData||w.pie.showData){return t.data.name+" ["+t.data.value+"]"}else{return t.data.name}}))}catch(x){n.l.error("Error while rendering info diagram");n.l.error(x)}};const A={draw:$};const T={parser:u,db:k,renderer:A,styles:S}}}]);
//# sourceMappingURL=3494.02c19fe87bc26584ba53.js.map?v=02c19fe87bc26584ba53