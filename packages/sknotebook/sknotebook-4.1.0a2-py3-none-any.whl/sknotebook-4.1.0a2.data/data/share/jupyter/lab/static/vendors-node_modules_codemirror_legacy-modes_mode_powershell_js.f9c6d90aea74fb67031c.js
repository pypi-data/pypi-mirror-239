"use strict";
(self["webpackChunk_jupyterlab_application_top"] = self["webpackChunk_jupyterlab_application_top"] || []).push([["vendors-node_modules_codemirror_legacy-modes_mode_powershell_js"],{

/***/ "../node_modules/@codemirror/legacy-modes/mode/powershell.js":
/*!*******************************************************************!*\
  !*** ../node_modules/@codemirror/legacy-modes/mode/powershell.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "powerShell": () => (/* binding */ powerShell)
/* harmony export */ });
function buildRegexp(patterns, options) {
  options = options || {};
  var prefix = options.prefix !== undefined ? options.prefix : '^';
  var suffix = options.suffix !== undefined ? options.suffix : '\\b';

  for (var i = 0; i < patterns.length; i++) {
    if (patterns[i] instanceof RegExp) {
      patterns[i] = patterns[i].source;
    }
    else {
      patterns[i] = patterns[i].replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }
  }

  return new RegExp(prefix + '(' + patterns.join('|') + ')' + suffix, 'i');
}

var notCharacterOrDash = '(?=[^A-Za-z\\d\\-_]|$)';
var varNames = /[\w\-:]/
var keywords = buildRegexp([
  /begin|break|catch|continue|data|default|do|dynamicparam/,
  /else|elseif|end|exit|filter|finally|for|foreach|from|function|if|in/,
  /param|process|return|switch|throw|trap|try|until|where|while/
], { suffix: notCharacterOrDash });

var punctuation = /[\[\]{},;`\\\.]|@[({]/;
var wordOperators = buildRegexp([
  'f',
  /b?not/,
  /[ic]?split/, 'join',
  /is(not)?/, 'as',
  /[ic]?(eq|ne|[gl][te])/,
  /[ic]?(not)?(like|match|contains)/,
  /[ic]?replace/,
  /b?(and|or|xor)/
], { prefix: '-' });
var symbolOperators = /[+\-*\/%]=|\+\+|--|\.\.|[+\-*&^%:=!|\/]|<(?!#)|(?!#)>/;
var operators = buildRegexp([wordOperators, symbolOperators], { suffix: '' });

var numbers = /^((0x[\da-f]+)|((\d+\.\d+|\d\.|\.\d+|\d+)(e[\+\-]?\d+)?))[ld]?([kmgtp]b)?/i;

var identifiers = /^[A-Za-z\_][A-Za-z\-\_\d]*\b/;

var symbolBuiltins = /[A-Z]:|%|\?/i;
var namedBuiltins = buildRegexp([
  /Add-(Computer|Content|History|Member|PSSnapin|Type)/,
  /Checkpoint-Computer/,
  /Clear-(Content|EventLog|History|Host|Item(Property)?|Variable)/,
  /Compare-Object/,
  /Complete-Transaction/,
  /Connect-PSSession/,
  /ConvertFrom-(Csv|Json|SecureString|StringData)/,
  /Convert-Path/,
  /ConvertTo-(Csv|Html|Json|SecureString|Xml)/,
  /Copy-Item(Property)?/,
  /Debug-Process/,
  /Disable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)/,
  /Disconnect-PSSession/,
  /Enable-(ComputerRestore|PSBreakpoint|PSRemoting|PSSessionConfiguration)/,
  /(Enter|Exit)-PSSession/,
  /Export-(Alias|Clixml|Console|Counter|Csv|FormatData|ModuleMember|PSSession)/,
  /ForEach-Object/,
  /Format-(Custom|List|Table|Wide)/,
  new RegExp('Get-(Acl|Alias|AuthenticodeSignature|ChildItem|Command|ComputerRestorePoint|Content|ControlPanelItem|Counter|Credential'
             + '|Culture|Date|Event|EventLog|EventSubscriber|ExecutionPolicy|FormatData|Help|History|Host|HotFix|Item|ItemProperty|Job'
             + '|Location|Member|Module|PfxCertificate|Process|PSBreakpoint|PSCallStack|PSDrive|PSProvider|PSSession|PSSessionConfiguration'
             + '|PSSnapin|Random|Service|TraceSource|Transaction|TypeData|UICulture|Unique|Variable|Verb|WinEvent|WmiObject)'),
  /Group-Object/,
  /Import-(Alias|Clixml|Counter|Csv|LocalizedData|Module|PSSession)/,
  /ImportSystemModules/,
  /Invoke-(Command|Expression|History|Item|RestMethod|WebRequest|WmiMethod)/,
  /Join-Path/,
  /Limit-EventLog/,
  /Measure-(Command|Object)/,
  /Move-Item(Property)?/,
  new RegExp('New-(Alias|Event|EventLog|Item(Property)?|Module|ModuleManifest|Object|PSDrive|PSSession|PSSessionConfigurationFile'
             + '|PSSessionOption|PSTransportOption|Service|TimeSpan|Variable|WebServiceProxy|WinEvent)'),
  /Out-(Default|File|GridView|Host|Null|Printer|String)/,
  /Pause/,
  /(Pop|Push)-Location/,
  /Read-Host/,
  /Receive-(Job|PSSession)/,
  /Register-(EngineEvent|ObjectEvent|PSSessionConfiguration|WmiEvent)/,
  /Remove-(Computer|Event|EventLog|Item(Property)?|Job|Module|PSBreakpoint|PSDrive|PSSession|PSSnapin|TypeData|Variable|WmiObject)/,
  /Rename-(Computer|Item(Property)?)/,
  /Reset-ComputerMachinePassword/,
  /Resolve-Path/,
  /Restart-(Computer|Service)/,
  /Restore-Computer/,
  /Resume-(Job|Service)/,
  /Save-Help/,
  /Select-(Object|String|Xml)/,
  /Send-MailMessage/,
  new RegExp('Set-(Acl|Alias|AuthenticodeSignature|Content|Date|ExecutionPolicy|Item(Property)?|Location|PSBreakpoint|PSDebug' +
             '|PSSessionConfiguration|Service|StrictMode|TraceSource|Variable|WmiInstance)'),
  /Show-(Command|ControlPanelItem|EventLog)/,
  /Sort-Object/,
  /Split-Path/,
  /Start-(Job|Process|Service|Sleep|Transaction|Transcript)/,
  /Stop-(Computer|Job|Process|Service|Transcript)/,
  /Suspend-(Job|Service)/,
  /TabExpansion2/,
  /Tee-Object/,
  /Test-(ComputerSecureChannel|Connection|ModuleManifest|Path|PSSessionConfigurationFile)/,
  /Trace-Command/,
  /Unblock-File/,
  /Undo-Transaction/,
  /Unregister-(Event|PSSessionConfiguration)/,
  /Update-(FormatData|Help|List|TypeData)/,
  /Use-Transaction/,
  /Wait-(Event|Job|Process)/,
  /Where-Object/,
  /Write-(Debug|Error|EventLog|Host|Output|Progress|Verbose|Warning)/,
  /cd|help|mkdir|more|oss|prompt/,
  /ac|asnp|cat|cd|chdir|clc|clear|clhy|cli|clp|cls|clv|cnsn|compare|copy|cp|cpi|cpp|cvpa|dbp|del|diff|dir|dnsn|ebp/,
  /echo|epal|epcsv|epsn|erase|etsn|exsn|fc|fl|foreach|ft|fw|gal|gbp|gc|gci|gcm|gcs|gdr|ghy|gi|gjb|gl|gm|gmo|gp|gps/,
  /group|gsn|gsnp|gsv|gu|gv|gwmi|h|history|icm|iex|ihy|ii|ipal|ipcsv|ipmo|ipsn|irm|ise|iwmi|iwr|kill|lp|ls|man|md/,
  /measure|mi|mount|move|mp|mv|nal|ndr|ni|nmo|npssc|nsn|nv|ogv|oh|popd|ps|pushd|pwd|r|rbp|rcjb|rcsn|rd|rdr|ren|ri/,
  /rjb|rm|rmdir|rmo|rni|rnp|rp|rsn|rsnp|rujb|rv|rvpa|rwmi|sajb|sal|saps|sasv|sbp|sc|select|set|shcm|si|sl|sleep|sls/,
  /sort|sp|spjb|spps|spsv|start|sujb|sv|swmi|tee|trcm|type|where|wjb|write/
], { prefix: '', suffix: '' });
var variableBuiltins = buildRegexp([
  /[$?^_]|Args|ConfirmPreference|ConsoleFileName|DebugPreference|Error|ErrorActionPreference|ErrorView|ExecutionContext/,
  /FormatEnumerationLimit|Home|Host|Input|MaximumAliasCount|MaximumDriveCount|MaximumErrorCount|MaximumFunctionCount/,
  /MaximumHistoryCount|MaximumVariableCount|MyInvocation|NestedPromptLevel|OutputEncoding|Pid|Profile|ProgressPreference/,
  /PSBoundParameters|PSCommandPath|PSCulture|PSDefaultParameterValues|PSEmailServer|PSHome|PSScriptRoot|PSSessionApplicationName/,
  /PSSessionConfigurationName|PSSessionOption|PSUICulture|PSVersionTable|Pwd|ShellId|StackTrace|VerbosePreference/,
  /WarningPreference|WhatIfPreference/,

  /Event|EventArgs|EventSubscriber|Sender/,
  /Matches|Ofs|ForEach|LastExitCode|PSCmdlet|PSItem|PSSenderInfo|This/,
  /true|false|null/
], { prefix: '\\$', suffix: '' });

var builtins = buildRegexp([symbolBuiltins, namedBuiltins, variableBuiltins], { suffix: notCharacterOrDash });

var grammar = {
  keyword: keywords,
  number: numbers,
  operator: operators,
  builtin: builtins,
  punctuation: punctuation,
  variable: identifiers
};

// tokenizers
function tokenBase(stream, state) {
  // Handle Comments
  //var ch = stream.peek();

  var parent = state.returnStack[state.returnStack.length - 1];
  if (parent && parent.shouldReturnFrom(state)) {
    state.tokenize = parent.tokenize;
    state.returnStack.pop();
    return state.tokenize(stream, state);
  }

  if (stream.eatSpace()) {
    return null;
  }

  if (stream.eat('(')) {
    state.bracketNesting += 1;
    return 'punctuation';
  }

  if (stream.eat(')')) {
    state.bracketNesting -= 1;
    return 'punctuation';
  }

  for (var key in grammar) {
    if (stream.match(grammar[key])) {
      return key;
    }
  }

  var ch = stream.next();

  // single-quote string
  if (ch === "'") {
    return tokenSingleQuoteString(stream, state);
  }

  if (ch === '$') {
    return tokenVariable(stream, state);
  }

  // double-quote string
  if (ch === '"') {
    return tokenDoubleQuoteString(stream, state);
  }

  if (ch === '<' && stream.eat('#')) {
    state.tokenize = tokenComment;
    return tokenComment(stream, state);
  }

  if (ch === '#') {
    stream.skipToEnd();
    return 'comment';
  }

  if (ch === '@') {
    var quoteMatch = stream.eat(/["']/);
    if (quoteMatch && stream.eol()) {
      state.tokenize = tokenMultiString;
      state.startQuote = quoteMatch[0];
      return tokenMultiString(stream, state);
    } else if (stream.eol()) {
      return 'error';
    } else if (stream.peek().match(/[({]/)) {
      return 'punctuation';
    } else if (stream.peek().match(varNames)) {
      // splatted variable
      return tokenVariable(stream, state);
    }
  }
  return 'error';
}

function tokenSingleQuoteString(stream, state) {
  var ch;
  while ((ch = stream.peek()) != null) {
    stream.next();

    if (ch === "'" && !stream.eat("'")) {
      state.tokenize = tokenBase;
      return 'string';
    }
  }

  return 'error';
}

function tokenDoubleQuoteString(stream, state) {
  var ch;
  while ((ch = stream.peek()) != null) {
    if (ch === '$') {
      state.tokenize = tokenStringInterpolation;
      return 'string';
    }

    stream.next();
    if (ch === '`') {
      stream.next();
      continue;
    }

    if (ch === '"' && !stream.eat('"')) {
      state.tokenize = tokenBase;
      return 'string';
    }
  }

  return 'error';
}

function tokenStringInterpolation(stream, state) {
  return tokenInterpolation(stream, state, tokenDoubleQuoteString);
}

function tokenMultiStringReturn(stream, state) {
  state.tokenize = tokenMultiString;
  state.startQuote = '"'
  return tokenMultiString(stream, state);
}

function tokenHereStringInterpolation(stream, state) {
  return tokenInterpolation(stream, state, tokenMultiStringReturn);
}

function tokenInterpolation(stream, state, parentTokenize) {
  if (stream.match('$(')) {
    var savedBracketNesting = state.bracketNesting;
    state.returnStack.push({
      /*jshint loopfunc:true */
      shouldReturnFrom: function(state) {
        return state.bracketNesting === savedBracketNesting;
      },
      tokenize: parentTokenize
    });
    state.tokenize = tokenBase;
    state.bracketNesting += 1;
    return 'punctuation';
  } else {
    stream.next();
    state.returnStack.push({
      shouldReturnFrom: function() { return true; },
      tokenize: parentTokenize
    });
    state.tokenize = tokenVariable;
    return state.tokenize(stream, state);
  }
}

function tokenComment(stream, state) {
  var maybeEnd = false, ch;
  while ((ch = stream.next()) != null) {
    if (maybeEnd && ch == '>') {
      state.tokenize = tokenBase;
      break;
    }
    maybeEnd = (ch === '#');
  }
  return 'comment';
}

function tokenVariable(stream, state) {
  var ch = stream.peek();
  if (stream.eat('{')) {
    state.tokenize = tokenVariableWithBraces;
    return tokenVariableWithBraces(stream, state);
  } else if (ch != undefined && ch.match(varNames)) {
    stream.eatWhile(varNames);
    state.tokenize = tokenBase;
    return 'variable';
  } else {
    state.tokenize = tokenBase;
    return 'error';
  }
}

function tokenVariableWithBraces(stream, state) {
  var ch;
  while ((ch = stream.next()) != null) {
    if (ch === '}') {
      state.tokenize = tokenBase;
      break;
    }
  }
  return 'variable';
}

function tokenMultiString(stream, state) {
  var quote = state.startQuote;
  if (stream.sol() && stream.match(new RegExp(quote + '@'))) {
    state.tokenize = tokenBase;
  }
  else if (quote === '"') {
    while (!stream.eol()) {
      var ch = stream.peek();
      if (ch === '$') {
        state.tokenize = tokenHereStringInterpolation;
        return 'string';
      }

      stream.next();
      if (ch === '`') {
        stream.next();
      }
    }
  }
  else {
    stream.skipToEnd();
  }

  return 'string';
}

const powerShell = {
  name: "powershell",

  startState: function() {
    return {
      returnStack: [],
      bracketNesting: 0,
      tokenize: tokenBase
    };
  },

  token: function(stream, state) {
    return state.tokenize(stream, state);
  },

  languageData: {
    commentTokens: {line: "#", block: {open: "<#", close: "#>"}}
  }
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmVuZG9ycy1ub2RlX21vZHVsZXNfY29kZW1pcnJvcl9sZWdhY3ktbW9kZXNfbW9kZV9wb3dlcnNoZWxsX2pzLmY5YzZkOTBhZWE3NGZiNjcwMzFjLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxrQkFBa0IscUJBQXFCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZEO0FBQzdEO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLDRCQUE0Qjs7QUFFakMsMEJBQTBCLEVBQUUsV0FBVztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGFBQWE7QUFDbEI7QUFDQSxnRUFBZ0UsWUFBWTs7QUFFNUU7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssd0JBQXdCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUssMkJBQTJCOztBQUVoQyxnRkFBZ0YsNEJBQTRCOztBQUU1RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTSxpQ0FBaUM7QUFDdkM7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxxQ0FBcUMsY0FBYztBQUNuRDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkI7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0Esb0JBQW9CLG1CQUFtQjtBQUN2QztBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGp1cHl0ZXJsYWIvYXBwbGljYXRpb24tdG9wLy4uL25vZGVfbW9kdWxlcy9AY29kZW1pcnJvci9sZWdhY3ktbW9kZXMvbW9kZS9wb3dlcnNoZWxsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGJ1aWxkUmVnZXhwKHBhdHRlcm5zLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcHJlZml4ID0gb3B0aW9ucy5wcmVmaXggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMucHJlZml4IDogJ14nO1xuICB2YXIgc3VmZml4ID0gb3B0aW9ucy5zdWZmaXggIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuc3VmZml4IDogJ1xcXFxiJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdHRlcm5zLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHBhdHRlcm5zW2ldIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICBwYXR0ZXJuc1tpXSA9IHBhdHRlcm5zW2ldLnNvdXJjZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBwYXR0ZXJuc1tpXSA9IHBhdHRlcm5zW2ldLnJlcGxhY2UoL1stXFwvXFxcXF4kKis/LigpfFtcXF17fV0vZywgJ1xcXFwkJicpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuZXcgUmVnRXhwKHByZWZpeCArICcoJyArIHBhdHRlcm5zLmpvaW4oJ3wnKSArICcpJyArIHN1ZmZpeCwgJ2knKTtcbn1cblxudmFyIG5vdENoYXJhY3Rlck9yRGFzaCA9ICcoPz1bXkEtWmEtelxcXFxkXFxcXC1fXXwkKSc7XG52YXIgdmFyTmFtZXMgPSAvW1xcd1xcLTpdL1xudmFyIGtleXdvcmRzID0gYnVpbGRSZWdleHAoW1xuICAvYmVnaW58YnJlYWt8Y2F0Y2h8Y29udGludWV8ZGF0YXxkZWZhdWx0fGRvfGR5bmFtaWNwYXJhbS8sXG4gIC9lbHNlfGVsc2VpZnxlbmR8ZXhpdHxmaWx0ZXJ8ZmluYWxseXxmb3J8Zm9yZWFjaHxmcm9tfGZ1bmN0aW9ufGlmfGluLyxcbiAgL3BhcmFtfHByb2Nlc3N8cmV0dXJufHN3aXRjaHx0aHJvd3x0cmFwfHRyeXx1bnRpbHx3aGVyZXx3aGlsZS9cbl0sIHsgc3VmZml4OiBub3RDaGFyYWN0ZXJPckRhc2ggfSk7XG5cbnZhciBwdW5jdHVhdGlvbiA9IC9bXFxbXFxde30sO2BcXFxcXFwuXXxAWyh7XS87XG52YXIgd29yZE9wZXJhdG9ycyA9IGJ1aWxkUmVnZXhwKFtcbiAgJ2YnLFxuICAvYj9ub3QvLFxuICAvW2ljXT9zcGxpdC8sICdqb2luJyxcbiAgL2lzKG5vdCk/LywgJ2FzJyxcbiAgL1tpY10/KGVxfG5lfFtnbF1bdGVdKS8sXG4gIC9baWNdPyhub3QpPyhsaWtlfG1hdGNofGNvbnRhaW5zKS8sXG4gIC9baWNdP3JlcGxhY2UvLFxuICAvYj8oYW5kfG9yfHhvcikvXG5dLCB7IHByZWZpeDogJy0nIH0pO1xudmFyIHN5bWJvbE9wZXJhdG9ycyA9IC9bK1xcLSpcXC8lXT18XFwrXFwrfC0tfFxcLlxcLnxbK1xcLSomXiU6PSF8XFwvXXw8KD8hIyl8KD8hIyk+LztcbnZhciBvcGVyYXRvcnMgPSBidWlsZFJlZ2V4cChbd29yZE9wZXJhdG9ycywgc3ltYm9sT3BlcmF0b3JzXSwgeyBzdWZmaXg6ICcnIH0pO1xuXG52YXIgbnVtYmVycyA9IC9eKCgweFtcXGRhLWZdKyl8KChcXGQrXFwuXFxkK3xcXGRcXC58XFwuXFxkK3xcXGQrKShlW1xcK1xcLV0/XFxkKyk/KSlbbGRdPyhba21ndHBdYik/L2k7XG5cbnZhciBpZGVudGlmaWVycyA9IC9eW0EtWmEtelxcX11bQS1aYS16XFwtXFxfXFxkXSpcXGIvO1xuXG52YXIgc3ltYm9sQnVpbHRpbnMgPSAvW0EtWl06fCV8XFw/L2k7XG52YXIgbmFtZWRCdWlsdGlucyA9IGJ1aWxkUmVnZXhwKFtcbiAgL0FkZC0oQ29tcHV0ZXJ8Q29udGVudHxIaXN0b3J5fE1lbWJlcnxQU1NuYXBpbnxUeXBlKS8sXG4gIC9DaGVja3BvaW50LUNvbXB1dGVyLyxcbiAgL0NsZWFyLShDb250ZW50fEV2ZW50TG9nfEhpc3Rvcnl8SG9zdHxJdGVtKFByb3BlcnR5KT98VmFyaWFibGUpLyxcbiAgL0NvbXBhcmUtT2JqZWN0LyxcbiAgL0NvbXBsZXRlLVRyYW5zYWN0aW9uLyxcbiAgL0Nvbm5lY3QtUFNTZXNzaW9uLyxcbiAgL0NvbnZlcnRGcm9tLShDc3Z8SnNvbnxTZWN1cmVTdHJpbmd8U3RyaW5nRGF0YSkvLFxuICAvQ29udmVydC1QYXRoLyxcbiAgL0NvbnZlcnRUby0oQ3N2fEh0bWx8SnNvbnxTZWN1cmVTdHJpbmd8WG1sKS8sXG4gIC9Db3B5LUl0ZW0oUHJvcGVydHkpPy8sXG4gIC9EZWJ1Zy1Qcm9jZXNzLyxcbiAgL0Rpc2FibGUtKENvbXB1dGVyUmVzdG9yZXxQU0JyZWFrcG9pbnR8UFNSZW1vdGluZ3xQU1Nlc3Npb25Db25maWd1cmF0aW9uKS8sXG4gIC9EaXNjb25uZWN0LVBTU2Vzc2lvbi8sXG4gIC9FbmFibGUtKENvbXB1dGVyUmVzdG9yZXxQU0JyZWFrcG9pbnR8UFNSZW1vdGluZ3xQU1Nlc3Npb25Db25maWd1cmF0aW9uKS8sXG4gIC8oRW50ZXJ8RXhpdCktUFNTZXNzaW9uLyxcbiAgL0V4cG9ydC0oQWxpYXN8Q2xpeG1sfENvbnNvbGV8Q291bnRlcnxDc3Z8Rm9ybWF0RGF0YXxNb2R1bGVNZW1iZXJ8UFNTZXNzaW9uKS8sXG4gIC9Gb3JFYWNoLU9iamVjdC8sXG4gIC9Gb3JtYXQtKEN1c3RvbXxMaXN0fFRhYmxlfFdpZGUpLyxcbiAgbmV3IFJlZ0V4cCgnR2V0LShBY2x8QWxpYXN8QXV0aGVudGljb2RlU2lnbmF0dXJlfENoaWxkSXRlbXxDb21tYW5kfENvbXB1dGVyUmVzdG9yZVBvaW50fENvbnRlbnR8Q29udHJvbFBhbmVsSXRlbXxDb3VudGVyfENyZWRlbnRpYWwnXG4gICAgICAgICAgICAgKyAnfEN1bHR1cmV8RGF0ZXxFdmVudHxFdmVudExvZ3xFdmVudFN1YnNjcmliZXJ8RXhlY3V0aW9uUG9saWN5fEZvcm1hdERhdGF8SGVscHxIaXN0b3J5fEhvc3R8SG90Rml4fEl0ZW18SXRlbVByb3BlcnR5fEpvYidcbiAgICAgICAgICAgICArICd8TG9jYXRpb258TWVtYmVyfE1vZHVsZXxQZnhDZXJ0aWZpY2F0ZXxQcm9jZXNzfFBTQnJlYWtwb2ludHxQU0NhbGxTdGFja3xQU0RyaXZlfFBTUHJvdmlkZXJ8UFNTZXNzaW9ufFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb24nXG4gICAgICAgICAgICAgKyAnfFBTU25hcGlufFJhbmRvbXxTZXJ2aWNlfFRyYWNlU291cmNlfFRyYW5zYWN0aW9ufFR5cGVEYXRhfFVJQ3VsdHVyZXxVbmlxdWV8VmFyaWFibGV8VmVyYnxXaW5FdmVudHxXbWlPYmplY3QpJyksXG4gIC9Hcm91cC1PYmplY3QvLFxuICAvSW1wb3J0LShBbGlhc3xDbGl4bWx8Q291bnRlcnxDc3Z8TG9jYWxpemVkRGF0YXxNb2R1bGV8UFNTZXNzaW9uKS8sXG4gIC9JbXBvcnRTeXN0ZW1Nb2R1bGVzLyxcbiAgL0ludm9rZS0oQ29tbWFuZHxFeHByZXNzaW9ufEhpc3Rvcnl8SXRlbXxSZXN0TWV0aG9kfFdlYlJlcXVlc3R8V21pTWV0aG9kKS8sXG4gIC9Kb2luLVBhdGgvLFxuICAvTGltaXQtRXZlbnRMb2cvLFxuICAvTWVhc3VyZS0oQ29tbWFuZHxPYmplY3QpLyxcbiAgL01vdmUtSXRlbShQcm9wZXJ0eSk/LyxcbiAgbmV3IFJlZ0V4cCgnTmV3LShBbGlhc3xFdmVudHxFdmVudExvZ3xJdGVtKFByb3BlcnR5KT98TW9kdWxlfE1vZHVsZU1hbmlmZXN0fE9iamVjdHxQU0RyaXZlfFBTU2Vzc2lvbnxQU1Nlc3Npb25Db25maWd1cmF0aW9uRmlsZSdcbiAgICAgICAgICAgICArICd8UFNTZXNzaW9uT3B0aW9ufFBTVHJhbnNwb3J0T3B0aW9ufFNlcnZpY2V8VGltZVNwYW58VmFyaWFibGV8V2ViU2VydmljZVByb3h5fFdpbkV2ZW50KScpLFxuICAvT3V0LShEZWZhdWx0fEZpbGV8R3JpZFZpZXd8SG9zdHxOdWxsfFByaW50ZXJ8U3RyaW5nKS8sXG4gIC9QYXVzZS8sXG4gIC8oUG9wfFB1c2gpLUxvY2F0aW9uLyxcbiAgL1JlYWQtSG9zdC8sXG4gIC9SZWNlaXZlLShKb2J8UFNTZXNzaW9uKS8sXG4gIC9SZWdpc3Rlci0oRW5naW5lRXZlbnR8T2JqZWN0RXZlbnR8UFNTZXNzaW9uQ29uZmlndXJhdGlvbnxXbWlFdmVudCkvLFxuICAvUmVtb3ZlLShDb21wdXRlcnxFdmVudHxFdmVudExvZ3xJdGVtKFByb3BlcnR5KT98Sm9ifE1vZHVsZXxQU0JyZWFrcG9pbnR8UFNEcml2ZXxQU1Nlc3Npb258UFNTbmFwaW58VHlwZURhdGF8VmFyaWFibGV8V21pT2JqZWN0KS8sXG4gIC9SZW5hbWUtKENvbXB1dGVyfEl0ZW0oUHJvcGVydHkpPykvLFxuICAvUmVzZXQtQ29tcHV0ZXJNYWNoaW5lUGFzc3dvcmQvLFxuICAvUmVzb2x2ZS1QYXRoLyxcbiAgL1Jlc3RhcnQtKENvbXB1dGVyfFNlcnZpY2UpLyxcbiAgL1Jlc3RvcmUtQ29tcHV0ZXIvLFxuICAvUmVzdW1lLShKb2J8U2VydmljZSkvLFxuICAvU2F2ZS1IZWxwLyxcbiAgL1NlbGVjdC0oT2JqZWN0fFN0cmluZ3xYbWwpLyxcbiAgL1NlbmQtTWFpbE1lc3NhZ2UvLFxuICBuZXcgUmVnRXhwKCdTZXQtKEFjbHxBbGlhc3xBdXRoZW50aWNvZGVTaWduYXR1cmV8Q29udGVudHxEYXRlfEV4ZWN1dGlvblBvbGljeXxJdGVtKFByb3BlcnR5KT98TG9jYXRpb258UFNCcmVha3BvaW50fFBTRGVidWcnICtcbiAgICAgICAgICAgICAnfFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb258U2VydmljZXxTdHJpY3RNb2RlfFRyYWNlU291cmNlfFZhcmlhYmxlfFdtaUluc3RhbmNlKScpLFxuICAvU2hvdy0oQ29tbWFuZHxDb250cm9sUGFuZWxJdGVtfEV2ZW50TG9nKS8sXG4gIC9Tb3J0LU9iamVjdC8sXG4gIC9TcGxpdC1QYXRoLyxcbiAgL1N0YXJ0LShKb2J8UHJvY2Vzc3xTZXJ2aWNlfFNsZWVwfFRyYW5zYWN0aW9ufFRyYW5zY3JpcHQpLyxcbiAgL1N0b3AtKENvbXB1dGVyfEpvYnxQcm9jZXNzfFNlcnZpY2V8VHJhbnNjcmlwdCkvLFxuICAvU3VzcGVuZC0oSm9ifFNlcnZpY2UpLyxcbiAgL1RhYkV4cGFuc2lvbjIvLFxuICAvVGVlLU9iamVjdC8sXG4gIC9UZXN0LShDb21wdXRlclNlY3VyZUNoYW5uZWx8Q29ubmVjdGlvbnxNb2R1bGVNYW5pZmVzdHxQYXRofFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb25GaWxlKS8sXG4gIC9UcmFjZS1Db21tYW5kLyxcbiAgL1VuYmxvY2stRmlsZS8sXG4gIC9VbmRvLVRyYW5zYWN0aW9uLyxcbiAgL1VucmVnaXN0ZXItKEV2ZW50fFBTU2Vzc2lvbkNvbmZpZ3VyYXRpb24pLyxcbiAgL1VwZGF0ZS0oRm9ybWF0RGF0YXxIZWxwfExpc3R8VHlwZURhdGEpLyxcbiAgL1VzZS1UcmFuc2FjdGlvbi8sXG4gIC9XYWl0LShFdmVudHxKb2J8UHJvY2VzcykvLFxuICAvV2hlcmUtT2JqZWN0LyxcbiAgL1dyaXRlLShEZWJ1Z3xFcnJvcnxFdmVudExvZ3xIb3N0fE91dHB1dHxQcm9ncmVzc3xWZXJib3NlfFdhcm5pbmcpLyxcbiAgL2NkfGhlbHB8bWtkaXJ8bW9yZXxvc3N8cHJvbXB0LyxcbiAgL2FjfGFzbnB8Y2F0fGNkfGNoZGlyfGNsY3xjbGVhcnxjbGh5fGNsaXxjbHB8Y2xzfGNsdnxjbnNufGNvbXBhcmV8Y29weXxjcHxjcGl8Y3BwfGN2cGF8ZGJwfGRlbHxkaWZmfGRpcnxkbnNufGVicC8sXG4gIC9lY2hvfGVwYWx8ZXBjc3Z8ZXBzbnxlcmFzZXxldHNufGV4c258ZmN8Zmx8Zm9yZWFjaHxmdHxmd3xnYWx8Z2JwfGdjfGdjaXxnY218Z2NzfGdkcnxnaHl8Z2l8Z2pifGdsfGdtfGdtb3xncHxncHMvLFxuICAvZ3JvdXB8Z3NufGdzbnB8Z3N2fGd1fGd2fGd3bWl8aHxoaXN0b3J5fGljbXxpZXh8aWh5fGlpfGlwYWx8aXBjc3Z8aXBtb3xpcHNufGlybXxpc2V8aXdtaXxpd3J8a2lsbHxscHxsc3xtYW58bWQvLFxuICAvbWVhc3VyZXxtaXxtb3VudHxtb3ZlfG1wfG12fG5hbHxuZHJ8bml8bm1vfG5wc3NjfG5zbnxudnxvZ3Z8b2h8cG9wZHxwc3xwdXNoZHxwd2R8cnxyYnB8cmNqYnxyY3NufHJkfHJkcnxyZW58cmkvLFxuICAvcmpifHJtfHJtZGlyfHJtb3xybml8cm5wfHJwfHJzbnxyc25wfHJ1amJ8cnZ8cnZwYXxyd21pfHNhamJ8c2FsfHNhcHN8c2FzdnxzYnB8c2N8c2VsZWN0fHNldHxzaGNtfHNpfHNsfHNsZWVwfHNscy8sXG4gIC9zb3J0fHNwfHNwamJ8c3Bwc3xzcHN2fHN0YXJ0fHN1amJ8c3Z8c3dtaXx0ZWV8dHJjbXx0eXBlfHdoZXJlfHdqYnx3cml0ZS9cbl0sIHsgcHJlZml4OiAnJywgc3VmZml4OiAnJyB9KTtcbnZhciB2YXJpYWJsZUJ1aWx0aW5zID0gYnVpbGRSZWdleHAoW1xuICAvWyQ/Xl9dfEFyZ3N8Q29uZmlybVByZWZlcmVuY2V8Q29uc29sZUZpbGVOYW1lfERlYnVnUHJlZmVyZW5jZXxFcnJvcnxFcnJvckFjdGlvblByZWZlcmVuY2V8RXJyb3JWaWV3fEV4ZWN1dGlvbkNvbnRleHQvLFxuICAvRm9ybWF0RW51bWVyYXRpb25MaW1pdHxIb21lfEhvc3R8SW5wdXR8TWF4aW11bUFsaWFzQ291bnR8TWF4aW11bURyaXZlQ291bnR8TWF4aW11bUVycm9yQ291bnR8TWF4aW11bUZ1bmN0aW9uQ291bnQvLFxuICAvTWF4aW11bUhpc3RvcnlDb3VudHxNYXhpbXVtVmFyaWFibGVDb3VudHxNeUludm9jYXRpb258TmVzdGVkUHJvbXB0TGV2ZWx8T3V0cHV0RW5jb2Rpbmd8UGlkfFByb2ZpbGV8UHJvZ3Jlc3NQcmVmZXJlbmNlLyxcbiAgL1BTQm91bmRQYXJhbWV0ZXJzfFBTQ29tbWFuZFBhdGh8UFNDdWx0dXJlfFBTRGVmYXVsdFBhcmFtZXRlclZhbHVlc3xQU0VtYWlsU2VydmVyfFBTSG9tZXxQU1NjcmlwdFJvb3R8UFNTZXNzaW9uQXBwbGljYXRpb25OYW1lLyxcbiAgL1BTU2Vzc2lvbkNvbmZpZ3VyYXRpb25OYW1lfFBTU2Vzc2lvbk9wdGlvbnxQU1VJQ3VsdHVyZXxQU1ZlcnNpb25UYWJsZXxQd2R8U2hlbGxJZHxTdGFja1RyYWNlfFZlcmJvc2VQcmVmZXJlbmNlLyxcbiAgL1dhcm5pbmdQcmVmZXJlbmNlfFdoYXRJZlByZWZlcmVuY2UvLFxuXG4gIC9FdmVudHxFdmVudEFyZ3N8RXZlbnRTdWJzY3JpYmVyfFNlbmRlci8sXG4gIC9NYXRjaGVzfE9mc3xGb3JFYWNofExhc3RFeGl0Q29kZXxQU0NtZGxldHxQU0l0ZW18UFNTZW5kZXJJbmZvfFRoaXMvLFxuICAvdHJ1ZXxmYWxzZXxudWxsL1xuXSwgeyBwcmVmaXg6ICdcXFxcJCcsIHN1ZmZpeDogJycgfSk7XG5cbnZhciBidWlsdGlucyA9IGJ1aWxkUmVnZXhwKFtzeW1ib2xCdWlsdGlucywgbmFtZWRCdWlsdGlucywgdmFyaWFibGVCdWlsdGluc10sIHsgc3VmZml4OiBub3RDaGFyYWN0ZXJPckRhc2ggfSk7XG5cbnZhciBncmFtbWFyID0ge1xuICBrZXl3b3JkOiBrZXl3b3JkcyxcbiAgbnVtYmVyOiBudW1iZXJzLFxuICBvcGVyYXRvcjogb3BlcmF0b3JzLFxuICBidWlsdGluOiBidWlsdGlucyxcbiAgcHVuY3R1YXRpb246IHB1bmN0dWF0aW9uLFxuICB2YXJpYWJsZTogaWRlbnRpZmllcnNcbn07XG5cbi8vIHRva2VuaXplcnNcbmZ1bmN0aW9uIHRva2VuQmFzZShzdHJlYW0sIHN0YXRlKSB7XG4gIC8vIEhhbmRsZSBDb21tZW50c1xuICAvL3ZhciBjaCA9IHN0cmVhbS5wZWVrKCk7XG5cbiAgdmFyIHBhcmVudCA9IHN0YXRlLnJldHVyblN0YWNrW3N0YXRlLnJldHVyblN0YWNrLmxlbmd0aCAtIDFdO1xuICBpZiAocGFyZW50ICYmIHBhcmVudC5zaG91bGRSZXR1cm5Gcm9tKHN0YXRlKSkge1xuICAgIHN0YXRlLnRva2VuaXplID0gcGFyZW50LnRva2VuaXplO1xuICAgIHN0YXRlLnJldHVyblN0YWNrLnBvcCgpO1xuICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgfVxuXG4gIGlmIChzdHJlYW0uZWF0U3BhY2UoKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKHN0cmVhbS5lYXQoJygnKSkge1xuICAgIHN0YXRlLmJyYWNrZXROZXN0aW5nICs9IDE7XG4gICAgcmV0dXJuICdwdW5jdHVhdGlvbic7XG4gIH1cblxuICBpZiAoc3RyZWFtLmVhdCgnKScpKSB7XG4gICAgc3RhdGUuYnJhY2tldE5lc3RpbmcgLT0gMTtcbiAgICByZXR1cm4gJ3B1bmN0dWF0aW9uJztcbiAgfVxuXG4gIGZvciAodmFyIGtleSBpbiBncmFtbWFyKSB7XG4gICAgaWYgKHN0cmVhbS5tYXRjaChncmFtbWFyW2tleV0pKSB7XG4gICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgfVxuXG4gIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG5cbiAgLy8gc2luZ2xlLXF1b3RlIHN0cmluZ1xuICBpZiAoY2ggPT09IFwiJ1wiKSB7XG4gICAgcmV0dXJuIHRva2VuU2luZ2xlUXVvdGVTdHJpbmcoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cblxuICBpZiAoY2ggPT09ICckJykge1xuICAgIHJldHVybiB0b2tlblZhcmlhYmxlKHN0cmVhbSwgc3RhdGUpO1xuICB9XG5cbiAgLy8gZG91YmxlLXF1b3RlIHN0cmluZ1xuICBpZiAoY2ggPT09ICdcIicpIHtcbiAgICByZXR1cm4gdG9rZW5Eb3VibGVRdW90ZVN0cmluZyhzdHJlYW0sIHN0YXRlKTtcbiAgfVxuXG4gIGlmIChjaCA9PT0gJzwnICYmIHN0cmVhbS5lYXQoJyMnKSkge1xuICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5Db21tZW50O1xuICAgIHJldHVybiB0b2tlbkNvbW1lbnQoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cblxuICBpZiAoY2ggPT09ICcjJykge1xuICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICByZXR1cm4gJ2NvbW1lbnQnO1xuICB9XG5cbiAgaWYgKGNoID09PSAnQCcpIHtcbiAgICB2YXIgcXVvdGVNYXRjaCA9IHN0cmVhbS5lYXQoL1tcIiddLyk7XG4gICAgaWYgKHF1b3RlTWF0Y2ggJiYgc3RyZWFtLmVvbCgpKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuTXVsdGlTdHJpbmc7XG4gICAgICBzdGF0ZS5zdGFydFF1b3RlID0gcXVvdGVNYXRjaFswXTtcbiAgICAgIHJldHVybiB0b2tlbk11bHRpU3RyaW5nKHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoc3RyZWFtLmVvbCgpKSB7XG4gICAgICByZXR1cm4gJ2Vycm9yJztcbiAgICB9IGVsc2UgaWYgKHN0cmVhbS5wZWVrKCkubWF0Y2goL1soe10vKSkge1xuICAgICAgcmV0dXJuICdwdW5jdHVhdGlvbic7XG4gICAgfSBlbHNlIGlmIChzdHJlYW0ucGVlaygpLm1hdGNoKHZhck5hbWVzKSkge1xuICAgICAgLy8gc3BsYXR0ZWQgdmFyaWFibGVcbiAgICAgIHJldHVybiB0b2tlblZhcmlhYmxlKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gJ2Vycm9yJztcbn1cblxuZnVuY3Rpb24gdG9rZW5TaW5nbGVRdW90ZVN0cmluZyhzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBjaDtcbiAgd2hpbGUgKChjaCA9IHN0cmVhbS5wZWVrKCkpICE9IG51bGwpIHtcbiAgICBzdHJlYW0ubmV4dCgpO1xuXG4gICAgaWYgKGNoID09PSBcIidcIiAmJiAhc3RyZWFtLmVhdChcIidcIikpIHtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5CYXNlO1xuICAgICAgcmV0dXJuICdzdHJpbmcnO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAnZXJyb3InO1xufVxuXG5mdW5jdGlvbiB0b2tlbkRvdWJsZVF1b3RlU3RyaW5nKHN0cmVhbSwgc3RhdGUpIHtcbiAgdmFyIGNoO1xuICB3aGlsZSAoKGNoID0gc3RyZWFtLnBlZWsoKSkgIT0gbnVsbCkge1xuICAgIGlmIChjaCA9PT0gJyQnKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuU3RyaW5nSW50ZXJwb2xhdGlvbjtcbiAgICAgIHJldHVybiAnc3RyaW5nJztcbiAgICB9XG5cbiAgICBzdHJlYW0ubmV4dCgpO1xuICAgIGlmIChjaCA9PT0gJ2AnKSB7XG4gICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGNoID09PSAnXCInICYmICFzdHJlYW0uZWF0KCdcIicpKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICAgIHJldHVybiAnc3RyaW5nJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJ2Vycm9yJztcbn1cblxuZnVuY3Rpb24gdG9rZW5TdHJpbmdJbnRlcnBvbGF0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgcmV0dXJuIHRva2VuSW50ZXJwb2xhdGlvbihzdHJlYW0sIHN0YXRlLCB0b2tlbkRvdWJsZVF1b3RlU3RyaW5nKTtcbn1cblxuZnVuY3Rpb24gdG9rZW5NdWx0aVN0cmluZ1JldHVybihzdHJlYW0sIHN0YXRlKSB7XG4gIHN0YXRlLnRva2VuaXplID0gdG9rZW5NdWx0aVN0cmluZztcbiAgc3RhdGUuc3RhcnRRdW90ZSA9ICdcIidcbiAgcmV0dXJuIHRva2VuTXVsdGlTdHJpbmcoc3RyZWFtLCBzdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIHRva2VuSGVyZVN0cmluZ0ludGVycG9sYXRpb24oc3RyZWFtLCBzdGF0ZSkge1xuICByZXR1cm4gdG9rZW5JbnRlcnBvbGF0aW9uKHN0cmVhbSwgc3RhdGUsIHRva2VuTXVsdGlTdHJpbmdSZXR1cm4pO1xufVxuXG5mdW5jdGlvbiB0b2tlbkludGVycG9sYXRpb24oc3RyZWFtLCBzdGF0ZSwgcGFyZW50VG9rZW5pemUpIHtcbiAgaWYgKHN0cmVhbS5tYXRjaCgnJCgnKSkge1xuICAgIHZhciBzYXZlZEJyYWNrZXROZXN0aW5nID0gc3RhdGUuYnJhY2tldE5lc3Rpbmc7XG4gICAgc3RhdGUucmV0dXJuU3RhY2sucHVzaCh7XG4gICAgICAvKmpzaGludCBsb29wZnVuYzp0cnVlICovXG4gICAgICBzaG91bGRSZXR1cm5Gcm9tOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgICByZXR1cm4gc3RhdGUuYnJhY2tldE5lc3RpbmcgPT09IHNhdmVkQnJhY2tldE5lc3Rpbmc7XG4gICAgICB9LFxuICAgICAgdG9rZW5pemU6IHBhcmVudFRva2VuaXplXG4gICAgfSk7XG4gICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgc3RhdGUuYnJhY2tldE5lc3RpbmcgKz0gMTtcbiAgICByZXR1cm4gJ3B1bmN0dWF0aW9uJztcbiAgfSBlbHNlIHtcbiAgICBzdHJlYW0ubmV4dCgpO1xuICAgIHN0YXRlLnJldHVyblN0YWNrLnB1c2goe1xuICAgICAgc2hvdWxkUmV0dXJuRnJvbTogZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9LFxuICAgICAgdG9rZW5pemU6IHBhcmVudFRva2VuaXplXG4gICAgfSk7XG4gICAgc3RhdGUudG9rZW5pemUgPSB0b2tlblZhcmlhYmxlO1xuICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0b2tlbkNvbW1lbnQoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgbWF5YmVFbmQgPSBmYWxzZSwgY2g7XG4gIHdoaWxlICgoY2ggPSBzdHJlYW0ubmV4dCgpKSAhPSBudWxsKSB7XG4gICAgaWYgKG1heWJlRW5kICYmIGNoID09ICc+Jykge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgbWF5YmVFbmQgPSAoY2ggPT09ICcjJyk7XG4gIH1cbiAgcmV0dXJuICdjb21tZW50Jztcbn1cblxuZnVuY3Rpb24gdG9rZW5WYXJpYWJsZShzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBjaCA9IHN0cmVhbS5wZWVrKCk7XG4gIGlmIChzdHJlYW0uZWF0KCd7JykpIHtcbiAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuVmFyaWFibGVXaXRoQnJhY2VzO1xuICAgIHJldHVybiB0b2tlblZhcmlhYmxlV2l0aEJyYWNlcyhzdHJlYW0sIHN0YXRlKTtcbiAgfSBlbHNlIGlmIChjaCAhPSB1bmRlZmluZWQgJiYgY2gubWF0Y2godmFyTmFtZXMpKSB7XG4gICAgc3RyZWFtLmVhdFdoaWxlKHZhck5hbWVzKTtcbiAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICByZXR1cm4gJ3ZhcmlhYmxlJztcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICByZXR1cm4gJ2Vycm9yJztcbiAgfVxufVxuXG5mdW5jdGlvbiB0b2tlblZhcmlhYmxlV2l0aEJyYWNlcyhzdHJlYW0sIHN0YXRlKSB7XG4gIHZhciBjaDtcbiAgd2hpbGUgKChjaCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICBpZiAoY2ggPT09ICd9Jykge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuICd2YXJpYWJsZSc7XG59XG5cbmZ1bmN0aW9uIHRva2VuTXVsdGlTdHJpbmcoc3RyZWFtLCBzdGF0ZSkge1xuICB2YXIgcXVvdGUgPSBzdGF0ZS5zdGFydFF1b3RlO1xuICBpZiAoc3RyZWFtLnNvbCgpICYmIHN0cmVhbS5tYXRjaChuZXcgUmVnRXhwKHF1b3RlICsgJ0AnKSkpIHtcbiAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgfVxuICBlbHNlIGlmIChxdW90ZSA9PT0gJ1wiJykge1xuICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICB2YXIgY2ggPSBzdHJlYW0ucGVlaygpO1xuICAgICAgaWYgKGNoID09PSAnJCcpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkhlcmVTdHJpbmdJbnRlcnBvbGF0aW9uO1xuICAgICAgICByZXR1cm4gJ3N0cmluZyc7XG4gICAgICB9XG5cbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICBpZiAoY2ggPT09ICdgJykge1xuICAgICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gIH1cblxuICByZXR1cm4gJ3N0cmluZyc7XG59XG5cbmV4cG9ydCBjb25zdCBwb3dlclNoZWxsID0ge1xuICBuYW1lOiBcInBvd2Vyc2hlbGxcIixcblxuICBzdGFydFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmV0dXJuU3RhY2s6IFtdLFxuICAgICAgYnJhY2tldE5lc3Rpbmc6IDAsXG4gICAgICB0b2tlbml6ZTogdG9rZW5CYXNlXG4gICAgfTtcbiAgfSxcblxuICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgfSxcblxuICBsYW5ndWFnZURhdGE6IHtcbiAgICBjb21tZW50VG9rZW5zOiB7bGluZTogXCIjXCIsIGJsb2NrOiB7b3BlbjogXCI8I1wiLCBjbG9zZTogXCIjPlwifX1cbiAgfVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==