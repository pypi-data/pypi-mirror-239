"use strict";
(self["webpackChunk_jupyterlab_application_top"] = self["webpackChunk_jupyterlab_application_top"] || []).push([["node_modules_codemirror_legacy-modes_mode_puppet_js"],{

/***/ "../node_modules/@codemirror/legacy-modes/mode/puppet.js":
/*!***************************************************************!*\
  !*** ../node_modules/@codemirror/legacy-modes/mode/puppet.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "puppet": () => (/* binding */ puppet)
/* harmony export */ });
// Stores the words from the define method
var words = {};
// Taken, mostly, from the Puppet official variable standards regex
var variable_regex = /({)?([a-z][a-z0-9_]*)?((::[a-z][a-z0-9_]*)*::)?[a-zA-Z0-9_]+(})?/;

// Takes a string of words separated by spaces and adds them as
// keys with the value of the first argument 'style'
function define(style, string) {
  var split = string.split(' ');
  for (var i = 0; i < split.length; i++) {
    words[split[i]] = style;
  }
}

// Takes commonly known puppet types/words and classifies them to a style
define('keyword', 'class define site node include import inherits');
define('keyword', 'case if else in and elsif default or');
define('atom', 'false true running present absent file directory undef');
define('builtin', 'action augeas burst chain computer cron destination dport exec ' +
       'file filebucket group host icmp iniface interface jump k5login limit log_level ' +
       'log_prefix macauthorization mailalias maillist mcx mount nagios_command ' +
       'nagios_contact nagios_contactgroup nagios_host nagios_hostdependency ' +
       'nagios_hostescalation nagios_hostextinfo nagios_hostgroup nagios_service ' +
       'nagios_servicedependency nagios_serviceescalation nagios_serviceextinfo ' +
       'nagios_servicegroup nagios_timeperiod name notify outiface package proto reject ' +
       'resources router schedule scheduled_task selboolean selmodule service source ' +
       'sport ssh_authorized_key sshkey stage state table tidy todest toports tosource ' +
       'user vlan yumrepo zfs zone zpool');

// After finding a start of a string ('|") this function attempts to find the end;
// If a variable is encountered along the way, we display it differently when it
// is encapsulated in a double-quoted string.
function tokenString(stream, state) {
  var current, prev, found_var = false;
  while (!stream.eol() && (current = stream.next()) != state.pending) {
    if (current === '$' && prev != '\\' && state.pending == '"') {
      found_var = true;
      break;
    }
    prev = current;
  }
  if (found_var) {
    stream.backUp(1);
  }
  if (current == state.pending) {
    state.continueString = false;
  } else {
    state.continueString = true;
  }
  return "string";
}

// Main function
function tokenize(stream, state) {
  // Matches one whole word
  var word = stream.match(/[\w]+/, false);
  // Matches attributes (i.e. ensure => present ; 'ensure' would be matched)
  var attribute = stream.match(/(\s+)?\w+\s+=>.*/, false);
  // Matches non-builtin resource declarations
  // (i.e. "apache::vhost {" or "mycustomclasss {" would be matched)
  var resource = stream.match(/(\s+)?[\w:_]+(\s+)?{/, false);
  // Matches virtual and exported resources (i.e. @@user { ; and the like)
  var special_resource = stream.match(/(\s+)?[@]{1,2}[\w:_]+(\s+)?{/, false);

  // Finally advance the stream
  var ch = stream.next();

  // Have we found a variable?
  if (ch === '$') {
    if (stream.match(variable_regex)) {
      // If so, and its in a string, assign it a different color
      return state.continueString ? 'variableName.special' : 'variable';
    }
    // Otherwise return an invalid variable
    return "error";
  }
  // Should we still be looking for the end of a string?
  if (state.continueString) {
    // If so, go through the loop again
    stream.backUp(1);
    return tokenString(stream, state);
  }
  // Are we in a definition (class, node, define)?
  if (state.inDefinition) {
    // If so, return def (i.e. for 'class myclass {' ; 'myclass' would be matched)
    if (stream.match(/(\s+)?[\w:_]+(\s+)?/)) {
      return 'def';
    }
    // Match the rest it the next time around
    stream.match(/\s+{/);
    state.inDefinition = false;
  }
  // Are we in an 'include' statement?
  if (state.inInclude) {
    // Match and return the included class
    stream.match(/(\s+)?\S+(\s+)?/);
    state.inInclude = false;
    return 'def';
  }
  // Do we just have a function on our hands?
  // In 'ensure_resource("myclass")', 'ensure_resource' is matched
  if (stream.match(/(\s+)?\w+\(/)) {
    stream.backUp(1);
    return 'def';
  }
  // Have we matched the prior attribute regex?
  if (attribute) {
    stream.match(/(\s+)?\w+/);
    return 'tag';
  }
  // Do we have Puppet specific words?
  if (word && words.hasOwnProperty(word)) {
    // Negates the initial next()
    stream.backUp(1);
    // rs move the stream
    stream.match(/[\w]+/);
    // We want to process these words differently
    // do to the importance they have in Puppet
    if (stream.match(/\s+\S+\s+{/, false)) {
      state.inDefinition = true;
    }
    if (word == 'include') {
      state.inInclude = true;
    }
    // Returns their value as state in the prior define methods
    return words[word];
  }
  // Is there a match on a reference?
  if (/(^|\s+)[A-Z][\w:_]+/.test(word)) {
    // Negate the next()
    stream.backUp(1);
    // Match the full reference
    stream.match(/(^|\s+)[A-Z][\w:_]+/);
    return 'def';
  }
  // Have we matched the prior resource regex?
  if (resource) {
    stream.match(/(\s+)?[\w:_]+/);
    return 'def';
  }
  // Have we matched the prior special_resource regex?
  if (special_resource) {
    stream.match(/(\s+)?[@]{1,2}/);
    return 'atom';
  }
  // Match all the comments. All of them.
  if (ch == "#") {
    stream.skipToEnd();
    return "comment";
  }
  // Have we found a string?
  if (ch == "'" || ch == '"') {
    // Store the type (single or double)
    state.pending = ch;
    // Perform the looping function to find the end
    return tokenString(stream, state);
  }
  // Match all the brackets
  if (ch == '{' || ch == '}') {
    return 'bracket';
  }
  // Match characters that we are going to assume
  // are trying to be regex
  if (ch == '/') {
    stream.match(/^[^\/]*\//);
    return 'string.special';
  }
  // Match all the numbers
  if (ch.match(/[0-9]/)) {
    stream.eatWhile(/[0-9]+/);
    return 'number';
  }
  // Match the '=' and '=>' operators
  if (ch == '=') {
    if (stream.peek() == '>') {
      stream.next();
    }
    return "operator";
  }
  // Keep advancing through all the rest
  stream.eatWhile(/[\w-]/);
  // Return a blank line for everything else
  return null;
}
// Start it all
const puppet = {
  name: "puppet",

  startState: function () {
    var state = {};
    state.inDefinition = false;
    state.inInclude = false;
    state.continueString = false;
    state.pending = false;
    return state;
  },
  token: function (stream, state) {
    // Strip the spaces, but regex will account for them eitherway
    if (stream.eatSpace()) return null;
    // Go through the main process
    return tokenize(stream, state);
  }
};


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibm9kZV9tb2R1bGVzX2NvZGVtaXJyb3JfbGVnYWN5LW1vZGVzX21vZGVfcHVwcGV0X2pzLjBjYmU5NDdiNGJjY2E5OTEzNGE0LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsNERBQTREOztBQUVwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixrQkFBa0I7QUFDcEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRDtBQUNsRDtBQUNBO0FBQ0EsMkJBQTJCLHNCQUFzQjtBQUNqRCxtREFBbUQ7QUFDbkQsNkRBQTZEO0FBQzdELGlEQUFpRCxJQUFJLGNBQWM7O0FBRW5FO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFtRCxJQUFJO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsSUFBSTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AanVweXRlcmxhYi9hcHBsaWNhdGlvbi10b3AvLi4vbm9kZV9tb2R1bGVzL0Bjb2RlbWlycm9yL2xlZ2FjeS1tb2Rlcy9tb2RlL3B1cHBldC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBTdG9yZXMgdGhlIHdvcmRzIGZyb20gdGhlIGRlZmluZSBtZXRob2RcbnZhciB3b3JkcyA9IHt9O1xuLy8gVGFrZW4sIG1vc3RseSwgZnJvbSB0aGUgUHVwcGV0IG9mZmljaWFsIHZhcmlhYmxlIHN0YW5kYXJkcyByZWdleFxudmFyIHZhcmlhYmxlX3JlZ2V4ID0gLyh7KT8oW2Etel1bYS16MC05X10qKT8oKDo6W2Etel1bYS16MC05X10qKSo6Oik/W2EtekEtWjAtOV9dKyh9KT8vO1xuXG4vLyBUYWtlcyBhIHN0cmluZyBvZiB3b3JkcyBzZXBhcmF0ZWQgYnkgc3BhY2VzIGFuZCBhZGRzIHRoZW0gYXNcbi8vIGtleXMgd2l0aCB0aGUgdmFsdWUgb2YgdGhlIGZpcnN0IGFyZ3VtZW50ICdzdHlsZSdcbmZ1bmN0aW9uIGRlZmluZShzdHlsZSwgc3RyaW5nKSB7XG4gIHZhciBzcGxpdCA9IHN0cmluZy5zcGxpdCgnICcpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHNwbGl0Lmxlbmd0aDsgaSsrKSB7XG4gICAgd29yZHNbc3BsaXRbaV1dID0gc3R5bGU7XG4gIH1cbn1cblxuLy8gVGFrZXMgY29tbW9ubHkga25vd24gcHVwcGV0IHR5cGVzL3dvcmRzIGFuZCBjbGFzc2lmaWVzIHRoZW0gdG8gYSBzdHlsZVxuZGVmaW5lKCdrZXl3b3JkJywgJ2NsYXNzIGRlZmluZSBzaXRlIG5vZGUgaW5jbHVkZSBpbXBvcnQgaW5oZXJpdHMnKTtcbmRlZmluZSgna2V5d29yZCcsICdjYXNlIGlmIGVsc2UgaW4gYW5kIGVsc2lmIGRlZmF1bHQgb3InKTtcbmRlZmluZSgnYXRvbScsICdmYWxzZSB0cnVlIHJ1bm5pbmcgcHJlc2VudCBhYnNlbnQgZmlsZSBkaXJlY3RvcnkgdW5kZWYnKTtcbmRlZmluZSgnYnVpbHRpbicsICdhY3Rpb24gYXVnZWFzIGJ1cnN0IGNoYWluIGNvbXB1dGVyIGNyb24gZGVzdGluYXRpb24gZHBvcnQgZXhlYyAnICtcbiAgICAgICAnZmlsZSBmaWxlYnVja2V0IGdyb3VwIGhvc3QgaWNtcCBpbmlmYWNlIGludGVyZmFjZSBqdW1wIGs1bG9naW4gbGltaXQgbG9nX2xldmVsICcgK1xuICAgICAgICdsb2dfcHJlZml4IG1hY2F1dGhvcml6YXRpb24gbWFpbGFsaWFzIG1haWxsaXN0IG1jeCBtb3VudCBuYWdpb3NfY29tbWFuZCAnICtcbiAgICAgICAnbmFnaW9zX2NvbnRhY3QgbmFnaW9zX2NvbnRhY3Rncm91cCBuYWdpb3NfaG9zdCBuYWdpb3NfaG9zdGRlcGVuZGVuY3kgJyArXG4gICAgICAgJ25hZ2lvc19ob3N0ZXNjYWxhdGlvbiBuYWdpb3NfaG9zdGV4dGluZm8gbmFnaW9zX2hvc3Rncm91cCBuYWdpb3Nfc2VydmljZSAnICtcbiAgICAgICAnbmFnaW9zX3NlcnZpY2VkZXBlbmRlbmN5IG5hZ2lvc19zZXJ2aWNlZXNjYWxhdGlvbiBuYWdpb3Nfc2VydmljZWV4dGluZm8gJyArXG4gICAgICAgJ25hZ2lvc19zZXJ2aWNlZ3JvdXAgbmFnaW9zX3RpbWVwZXJpb2QgbmFtZSBub3RpZnkgb3V0aWZhY2UgcGFja2FnZSBwcm90byByZWplY3QgJyArXG4gICAgICAgJ3Jlc291cmNlcyByb3V0ZXIgc2NoZWR1bGUgc2NoZWR1bGVkX3Rhc2sgc2VsYm9vbGVhbiBzZWxtb2R1bGUgc2VydmljZSBzb3VyY2UgJyArXG4gICAgICAgJ3Nwb3J0IHNzaF9hdXRob3JpemVkX2tleSBzc2hrZXkgc3RhZ2Ugc3RhdGUgdGFibGUgdGlkeSB0b2Rlc3QgdG9wb3J0cyB0b3NvdXJjZSAnICtcbiAgICAgICAndXNlciB2bGFuIHl1bXJlcG8gemZzIHpvbmUgenBvb2wnKTtcblxuLy8gQWZ0ZXIgZmluZGluZyBhIHN0YXJ0IG9mIGEgc3RyaW5nICgnfFwiKSB0aGlzIGZ1bmN0aW9uIGF0dGVtcHRzIHRvIGZpbmQgdGhlIGVuZDtcbi8vIElmIGEgdmFyaWFibGUgaXMgZW5jb3VudGVyZWQgYWxvbmcgdGhlIHdheSwgd2UgZGlzcGxheSBpdCBkaWZmZXJlbnRseSB3aGVuIGl0XG4vLyBpcyBlbmNhcHN1bGF0ZWQgaW4gYSBkb3VibGUtcXVvdGVkIHN0cmluZy5cbmZ1bmN0aW9uIHRva2VuU3RyaW5nKHN0cmVhbSwgc3RhdGUpIHtcbiAgdmFyIGN1cnJlbnQsIHByZXYsIGZvdW5kX3ZhciA9IGZhbHNlO1xuICB3aGlsZSAoIXN0cmVhbS5lb2woKSAmJiAoY3VycmVudCA9IHN0cmVhbS5uZXh0KCkpICE9IHN0YXRlLnBlbmRpbmcpIHtcbiAgICBpZiAoY3VycmVudCA9PT0gJyQnICYmIHByZXYgIT0gJ1xcXFwnICYmIHN0YXRlLnBlbmRpbmcgPT0gJ1wiJykge1xuICAgICAgZm91bmRfdmFyID0gdHJ1ZTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBwcmV2ID0gY3VycmVudDtcbiAgfVxuICBpZiAoZm91bmRfdmFyKSB7XG4gICAgc3RyZWFtLmJhY2tVcCgxKTtcbiAgfVxuICBpZiAoY3VycmVudCA9PSBzdGF0ZS5wZW5kaW5nKSB7XG4gICAgc3RhdGUuY29udGludWVTdHJpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBzdGF0ZS5jb250aW51ZVN0cmluZyA9IHRydWU7XG4gIH1cbiAgcmV0dXJuIFwic3RyaW5nXCI7XG59XG5cbi8vIE1haW4gZnVuY3Rpb25cbmZ1bmN0aW9uIHRva2VuaXplKHN0cmVhbSwgc3RhdGUpIHtcbiAgLy8gTWF0Y2hlcyBvbmUgd2hvbGUgd29yZFxuICB2YXIgd29yZCA9IHN0cmVhbS5tYXRjaCgvW1xcd10rLywgZmFsc2UpO1xuICAvLyBNYXRjaGVzIGF0dHJpYnV0ZXMgKGkuZS4gZW5zdXJlID0+IHByZXNlbnQgOyAnZW5zdXJlJyB3b3VsZCBiZSBtYXRjaGVkKVxuICB2YXIgYXR0cmlidXRlID0gc3RyZWFtLm1hdGNoKC8oXFxzKyk/XFx3K1xccys9Pi4qLywgZmFsc2UpO1xuICAvLyBNYXRjaGVzIG5vbi1idWlsdGluIHJlc291cmNlIGRlY2xhcmF0aW9uc1xuICAvLyAoaS5lLiBcImFwYWNoZTo6dmhvc3Qge1wiIG9yIFwibXljdXN0b21jbGFzc3Mge1wiIHdvdWxkIGJlIG1hdGNoZWQpXG4gIHZhciByZXNvdXJjZSA9IHN0cmVhbS5tYXRjaCgvKFxccyspP1tcXHc6X10rKFxccyspP3svLCBmYWxzZSk7XG4gIC8vIE1hdGNoZXMgdmlydHVhbCBhbmQgZXhwb3J0ZWQgcmVzb3VyY2VzIChpLmUuIEBAdXNlciB7IDsgYW5kIHRoZSBsaWtlKVxuICB2YXIgc3BlY2lhbF9yZXNvdXJjZSA9IHN0cmVhbS5tYXRjaCgvKFxccyspP1tAXXsxLDJ9W1xcdzpfXSsoXFxzKyk/ey8sIGZhbHNlKTtcblxuICAvLyBGaW5hbGx5IGFkdmFuY2UgdGhlIHN0cmVhbVxuICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpO1xuXG4gIC8vIEhhdmUgd2UgZm91bmQgYSB2YXJpYWJsZT9cbiAgaWYgKGNoID09PSAnJCcpIHtcbiAgICBpZiAoc3RyZWFtLm1hdGNoKHZhcmlhYmxlX3JlZ2V4KSkge1xuICAgICAgLy8gSWYgc28sIGFuZCBpdHMgaW4gYSBzdHJpbmcsIGFzc2lnbiBpdCBhIGRpZmZlcmVudCBjb2xvclxuICAgICAgcmV0dXJuIHN0YXRlLmNvbnRpbnVlU3RyaW5nID8gJ3ZhcmlhYmxlTmFtZS5zcGVjaWFsJyA6ICd2YXJpYWJsZSc7XG4gICAgfVxuICAgIC8vIE90aGVyd2lzZSByZXR1cm4gYW4gaW52YWxpZCB2YXJpYWJsZVxuICAgIHJldHVybiBcImVycm9yXCI7XG4gIH1cbiAgLy8gU2hvdWxkIHdlIHN0aWxsIGJlIGxvb2tpbmcgZm9yIHRoZSBlbmQgb2YgYSBzdHJpbmc/XG4gIGlmIChzdGF0ZS5jb250aW51ZVN0cmluZykge1xuICAgIC8vIElmIHNvLCBnbyB0aHJvdWdoIHRoZSBsb29wIGFnYWluXG4gICAgc3RyZWFtLmJhY2tVcCgxKTtcbiAgICByZXR1cm4gdG9rZW5TdHJpbmcoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbiAgLy8gQXJlIHdlIGluIGEgZGVmaW5pdGlvbiAoY2xhc3MsIG5vZGUsIGRlZmluZSk/XG4gIGlmIChzdGF0ZS5pbkRlZmluaXRpb24pIHtcbiAgICAvLyBJZiBzbywgcmV0dXJuIGRlZiAoaS5lLiBmb3IgJ2NsYXNzIG15Y2xhc3MgeycgOyAnbXljbGFzcycgd291bGQgYmUgbWF0Y2hlZClcbiAgICBpZiAoc3RyZWFtLm1hdGNoKC8oXFxzKyk/W1xcdzpfXSsoXFxzKyk/LykpIHtcbiAgICAgIHJldHVybiAnZGVmJztcbiAgICB9XG4gICAgLy8gTWF0Y2ggdGhlIHJlc3QgaXQgdGhlIG5leHQgdGltZSBhcm91bmRcbiAgICBzdHJlYW0ubWF0Y2goL1xccyt7Lyk7XG4gICAgc3RhdGUuaW5EZWZpbml0aW9uID0gZmFsc2U7XG4gIH1cbiAgLy8gQXJlIHdlIGluIGFuICdpbmNsdWRlJyBzdGF0ZW1lbnQ/XG4gIGlmIChzdGF0ZS5pbkluY2x1ZGUpIHtcbiAgICAvLyBNYXRjaCBhbmQgcmV0dXJuIHRoZSBpbmNsdWRlZCBjbGFzc1xuICAgIHN0cmVhbS5tYXRjaCgvKFxccyspP1xcUysoXFxzKyk/Lyk7XG4gICAgc3RhdGUuaW5JbmNsdWRlID0gZmFsc2U7XG4gICAgcmV0dXJuICdkZWYnO1xuICB9XG4gIC8vIERvIHdlIGp1c3QgaGF2ZSBhIGZ1bmN0aW9uIG9uIG91ciBoYW5kcz9cbiAgLy8gSW4gJ2Vuc3VyZV9yZXNvdXJjZShcIm15Y2xhc3NcIiknLCAnZW5zdXJlX3Jlc291cmNlJyBpcyBtYXRjaGVkXG4gIGlmIChzdHJlYW0ubWF0Y2goLyhcXHMrKT9cXHcrXFwoLykpIHtcbiAgICBzdHJlYW0uYmFja1VwKDEpO1xuICAgIHJldHVybiAnZGVmJztcbiAgfVxuICAvLyBIYXZlIHdlIG1hdGNoZWQgdGhlIHByaW9yIGF0dHJpYnV0ZSByZWdleD9cbiAgaWYgKGF0dHJpYnV0ZSkge1xuICAgIHN0cmVhbS5tYXRjaCgvKFxccyspP1xcdysvKTtcbiAgICByZXR1cm4gJ3RhZyc7XG4gIH1cbiAgLy8gRG8gd2UgaGF2ZSBQdXBwZXQgc3BlY2lmaWMgd29yZHM/XG4gIGlmICh3b3JkICYmIHdvcmRzLmhhc093blByb3BlcnR5KHdvcmQpKSB7XG4gICAgLy8gTmVnYXRlcyB0aGUgaW5pdGlhbCBuZXh0KClcbiAgICBzdHJlYW0uYmFja1VwKDEpO1xuICAgIC8vIHJzIG1vdmUgdGhlIHN0cmVhbVxuICAgIHN0cmVhbS5tYXRjaCgvW1xcd10rLyk7XG4gICAgLy8gV2Ugd2FudCB0byBwcm9jZXNzIHRoZXNlIHdvcmRzIGRpZmZlcmVudGx5XG4gICAgLy8gZG8gdG8gdGhlIGltcG9ydGFuY2UgdGhleSBoYXZlIGluIFB1cHBldFxuICAgIGlmIChzdHJlYW0ubWF0Y2goL1xccytcXFMrXFxzK3svLCBmYWxzZSkpIHtcbiAgICAgIHN0YXRlLmluRGVmaW5pdGlvbiA9IHRydWU7XG4gICAgfVxuICAgIGlmICh3b3JkID09ICdpbmNsdWRlJykge1xuICAgICAgc3RhdGUuaW5JbmNsdWRlID0gdHJ1ZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGVpciB2YWx1ZSBhcyBzdGF0ZSBpbiB0aGUgcHJpb3IgZGVmaW5lIG1ldGhvZHNcbiAgICByZXR1cm4gd29yZHNbd29yZF07XG4gIH1cbiAgLy8gSXMgdGhlcmUgYSBtYXRjaCBvbiBhIHJlZmVyZW5jZT9cbiAgaWYgKC8oXnxcXHMrKVtBLVpdW1xcdzpfXSsvLnRlc3Qod29yZCkpIHtcbiAgICAvLyBOZWdhdGUgdGhlIG5leHQoKVxuICAgIHN0cmVhbS5iYWNrVXAoMSk7XG4gICAgLy8gTWF0Y2ggdGhlIGZ1bGwgcmVmZXJlbmNlXG4gICAgc3RyZWFtLm1hdGNoKC8oXnxcXHMrKVtBLVpdW1xcdzpfXSsvKTtcbiAgICByZXR1cm4gJ2RlZic7XG4gIH1cbiAgLy8gSGF2ZSB3ZSBtYXRjaGVkIHRoZSBwcmlvciByZXNvdXJjZSByZWdleD9cbiAgaWYgKHJlc291cmNlKSB7XG4gICAgc3RyZWFtLm1hdGNoKC8oXFxzKyk/W1xcdzpfXSsvKTtcbiAgICByZXR1cm4gJ2RlZic7XG4gIH1cbiAgLy8gSGF2ZSB3ZSBtYXRjaGVkIHRoZSBwcmlvciBzcGVjaWFsX3Jlc291cmNlIHJlZ2V4P1xuICBpZiAoc3BlY2lhbF9yZXNvdXJjZSkge1xuICAgIHN0cmVhbS5tYXRjaCgvKFxccyspP1tAXXsxLDJ9Lyk7XG4gICAgcmV0dXJuICdhdG9tJztcbiAgfVxuICAvLyBNYXRjaCBhbGwgdGhlIGNvbW1lbnRzLiBBbGwgb2YgdGhlbS5cbiAgaWYgKGNoID09IFwiI1wiKSB7XG4gICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgfVxuICAvLyBIYXZlIHdlIGZvdW5kIGEgc3RyaW5nP1xuICBpZiAoY2ggPT0gXCInXCIgfHwgY2ggPT0gJ1wiJykge1xuICAgIC8vIFN0b3JlIHRoZSB0eXBlIChzaW5nbGUgb3IgZG91YmxlKVxuICAgIHN0YXRlLnBlbmRpbmcgPSBjaDtcbiAgICAvLyBQZXJmb3JtIHRoZSBsb29waW5nIGZ1bmN0aW9uIHRvIGZpbmQgdGhlIGVuZFxuICAgIHJldHVybiB0b2tlblN0cmluZyhzdHJlYW0sIHN0YXRlKTtcbiAgfVxuICAvLyBNYXRjaCBhbGwgdGhlIGJyYWNrZXRzXG4gIGlmIChjaCA9PSAneycgfHwgY2ggPT0gJ30nKSB7XG4gICAgcmV0dXJuICdicmFja2V0JztcbiAgfVxuICAvLyBNYXRjaCBjaGFyYWN0ZXJzIHRoYXQgd2UgYXJlIGdvaW5nIHRvIGFzc3VtZVxuICAvLyBhcmUgdHJ5aW5nIHRvIGJlIHJlZ2V4XG4gIGlmIChjaCA9PSAnLycpIHtcbiAgICBzdHJlYW0ubWF0Y2goL15bXlxcL10qXFwvLyk7XG4gICAgcmV0dXJuICdzdHJpbmcuc3BlY2lhbCc7XG4gIH1cbiAgLy8gTWF0Y2ggYWxsIHRoZSBudW1iZXJzXG4gIGlmIChjaC5tYXRjaCgvWzAtOV0vKSkge1xuICAgIHN0cmVhbS5lYXRXaGlsZSgvWzAtOV0rLyk7XG4gICAgcmV0dXJuICdudW1iZXInO1xuICB9XG4gIC8vIE1hdGNoIHRoZSAnPScgYW5kICc9Picgb3BlcmF0b3JzXG4gIGlmIChjaCA9PSAnPScpIHtcbiAgICBpZiAoc3RyZWFtLnBlZWsoKSA9PSAnPicpIHtcbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgfVxuICAgIHJldHVybiBcIm9wZXJhdG9yXCI7XG4gIH1cbiAgLy8gS2VlcCBhZHZhbmNpbmcgdGhyb3VnaCBhbGwgdGhlIHJlc3RcbiAgc3RyZWFtLmVhdFdoaWxlKC9bXFx3LV0vKTtcbiAgLy8gUmV0dXJuIGEgYmxhbmsgbGluZSBmb3IgZXZlcnl0aGluZyBlbHNlXG4gIHJldHVybiBudWxsO1xufVxuLy8gU3RhcnQgaXQgYWxsXG5leHBvcnQgY29uc3QgcHVwcGV0ID0ge1xuICBuYW1lOiBcInB1cHBldFwiLFxuXG4gIHN0YXJ0U3RhdGU6IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc3RhdGUgPSB7fTtcbiAgICBzdGF0ZS5pbkRlZmluaXRpb24gPSBmYWxzZTtcbiAgICBzdGF0ZS5pbkluY2x1ZGUgPSBmYWxzZTtcbiAgICBzdGF0ZS5jb250aW51ZVN0cmluZyA9IGZhbHNlO1xuICAgIHN0YXRlLnBlbmRpbmcgPSBmYWxzZTtcbiAgICByZXR1cm4gc3RhdGU7XG4gIH0sXG4gIHRva2VuOiBmdW5jdGlvbiAoc3RyZWFtLCBzdGF0ZSkge1xuICAgIC8vIFN0cmlwIHRoZSBzcGFjZXMsIGJ1dCByZWdleCB3aWxsIGFjY291bnQgZm9yIHRoZW0gZWl0aGVyd2F5XG4gICAgaWYgKHN0cmVhbS5lYXRTcGFjZSgpKSByZXR1cm4gbnVsbDtcbiAgICAvLyBHbyB0aHJvdWdoIHRoZSBtYWluIHByb2Nlc3NcbiAgICByZXR1cm4gdG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gIH1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=