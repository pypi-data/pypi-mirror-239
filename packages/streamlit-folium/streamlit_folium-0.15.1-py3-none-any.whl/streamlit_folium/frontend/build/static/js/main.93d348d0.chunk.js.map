{"version":3,"sources":["circle-to-polygon.tsx","index.tsx"],"names":["earthRadius","toRadians","angleInDegrees","Math","PI","toDegrees","angleInRadians","offset","c1","distance","bearing","lat1","lon1","dByR","lat","asin","sin","cos","atan2","circleToPolygon","center","radius","sides","arguments","length","undefined","coordinates","i","push","type","onMapClick","e","window","__GLOBAL_DATA__","lat_lng_clicked","latlng","debouncedUpdateComponentValue","map","debounce","updateComponentValue","global_data","previous_data","bounds","getBounds","zoom","getZoom","_data","last_clicked","last_object_clicked","last_object_clicked_tooltip","last_object_clicked_popup","all_drawings","last_active_drawing","last_circle_radius","last_circle_polygon","getCenter","data","returned_objects","Object","fromEntries","entries","filter","_ref","key","includes","JSON","stringify","Streamlit","setComponentValue","onMapMove","extractContent","s","span","document","createElement","innerHTML","textContent","innerText","trim","onDraw","layerType","layer","_latlng","lng","options","polygon","feature","properties","onLayerClick","sourceTarget","_tooltip","_content","tooltip_text","getTooltip","getContent","target","_popup","popup_text","getPopup","details","toGeoJSON","drawnItems","features","onRender","event","detail","script","args","height","width","html","_default","feature_group","return_on_hover","parent_div","getElementById","div1","div2","style","concat","indexOf","a","href","id","body","appendChild","render_script","last_zoom","last_center","last_feature_group","classList","remove","add","html_div","removeLayer","eval","_layers","off","on","setZoom","panTo","initComponent","setFrameHeight","events","addEventListener","RENDER_EVENT","setComponentReady"],"mappings":"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","file":"static/js/main.93d348d0.chunk.js","sourcesContent":["const earthRadius = 6378137; // equatorial Earth radius in m\n\nfunction toRadians(angleInDegrees: number) {\n    return (angleInDegrees * Math.PI) / 180;\n}\n\nfunction toDegrees(angleInRadians: number) {\n    return (angleInRadians * 180) / Math.PI;\n}\n\nfunction offset(\n    c1: [number, number],\n    distance: number,\n    earthRadius: number,\n    bearing: number): [number, number] {\n    var lat1 = toRadians(c1[1]);\n    var lon1 = toRadians(c1[0]);\n    var dByR = distance / earthRadius;\n    var lat = Math.asin(\n        Math.sin(lat1) * Math.cos(dByR) + Math.cos(lat1) * Math.sin(dByR) * Math.cos(bearing)\n    );\n    var lon =\n        lon1 +\n        Math.atan2(\n            Math.sin(bearing) * Math.sin(dByR) * Math.cos(lat1),\n            Math.cos(dByR) - Math.sin(lat1) * Math.sin(lat)\n        );\n    return [toDegrees(lon), toDegrees(lat)];\n}\n\nexport function circleToPolygon(center: [number, number], radius: number, sides: number = 32) {\n    var coordinates = [];\n    for (var i = 0; i < sides; ++i) {\n        coordinates.push(\n            offset(\n                center, radius, earthRadius, (2 * Math.PI * i) / sides\n            )\n        );\n    }\n    coordinates.push(coordinates[0]);\n\n    return {\n        type: \"Polygon\",\n        coordinates: [coordinates],\n    };\n};","import { Streamlit, RenderData } from \"streamlit-component-lib\"\nimport { debounce } from \"underscore\"\nimport { circleToPolygon } from \"./circle-to-polygon\"\n\ntype GlobalData = {\n  lat_lng_clicked: any\n  last_object_clicked: any\n  last_object_clicked_tooltip: string | null\n  last_object_clicked_popup: string | null\n  last_active_drawing: any\n  all_drawings: any\n  zoom: any\n  last_circle_radius: number | null\n  last_circle_polygon: any\n  returned_objects: Array<string>\n  previous_data: any\n  last_zoom: any\n  last_center: any\n  last_feature_group: any\n}\n\ndeclare global {\n  interface Window {\n    __GLOBAL_DATA__: GlobalData\n    initComponent: any\n    map: any\n    drawnItems: any\n    feature_group: any\n  }\n}\n\nfunction onMapClick(e: any) {\n  const global_data = window.__GLOBAL_DATA__\n  global_data.lat_lng_clicked = e.latlng\n  debouncedUpdateComponentValue(window.map)\n}\n\nlet debouncedUpdateComponentValue = debounce(updateComponentValue, 250)\n\nfunction updateComponentValue(map: any) {\n  const global_data = window.__GLOBAL_DATA__\n  let previous_data = global_data.previous_data\n  let bounds = map.getBounds()\n  let zoom = map.getZoom()\n  let _data = {\n    last_clicked: global_data.lat_lng_clicked,\n    last_object_clicked: global_data.last_object_clicked,\n    last_object_clicked_tooltip: global_data.last_object_clicked_tooltip,\n    last_object_clicked_popup: global_data.last_object_clicked_popup,\n    all_drawings: global_data.all_drawings,\n    last_active_drawing: global_data.last_active_drawing,\n    bounds: bounds,\n    zoom: zoom,\n    last_circle_radius: global_data.last_circle_radius,\n    last_circle_polygon: global_data.last_circle_polygon,\n    center: map.getCenter(),\n  }\n\n  let to_return = global_data.returned_objects\n\n  // Filter down the data to only that data passed in the returned_objects list\n  let data: any = {}\n  if (to_return) {\n    data = Object.fromEntries(\n      Object.entries(_data).filter(([key]) =>\n        global_data.returned_objects.includes(key)\n      )\n    )\n  } else {\n    data = _data\n  }\n  if (JSON.stringify(previous_data) !== JSON.stringify(data)) {\n    global_data.previous_data = data\n    Streamlit.setComponentValue(data)\n  }\n}\n\nfunction onMapMove(e: any) {\n  debouncedUpdateComponentValue(window.map)\n}\n\nfunction extractContent(s: string) {\n  var span = document.createElement(\"span\")\n  span.innerHTML = s\n  return (span.textContent || span.innerText).trim()\n}\n\nfunction onDraw(e: any) {\n  const global_data = window.__GLOBAL_DATA__\n\n  var type = e.layerType,\n    layer = e.layer\n\n  if (type === \"circle\") {\n    var center: [number, number] = [layer._latlng.lng, layer._latlng.lat]\n    var radius = layer.options.radius // In meters\n    var polygon = circleToPolygon(center, radius)\n\n    // Ensure that radius gets added to circle properties when converted to GeoJSON\n    var feature = (e.layer.feature = e.layer.feature || {})\n    feature.type = \"Feature\"\n    feature.properties = feature.properties || {}\n    feature.properties[\"radius\"] = radius\n\n    global_data.last_circle_radius = radius / 1000 // Convert to km to match what UI shows\n    global_data.last_circle_polygon = polygon\n  }\n  return onLayerClick(e)\n}\n\nfunction onLayerClick(e: any) {\n  const global_data = window.__GLOBAL_DATA__\n  global_data.last_object_clicked = e.latlng\n\n  if (e.sourceTarget._tooltip && e.sourceTarget._tooltip._content) {\n    let tooltip_text = extractContent(e.sourceTarget.getTooltip().getContent())\n    global_data.last_object_clicked_tooltip = tooltip_text\n  } else if (e.target._tooltip && e.target._tooltip._content) {\n    let tooltip_text = e.target.getTooltip().getContent()(\n      e.sourceTarget\n    ).innerText\n    global_data.last_object_clicked_tooltip = tooltip_text\n  }\n\n  if (e.sourceTarget._popup && e.sourceTarget._popup._content) {\n    let popup_text = e.sourceTarget.getPopup().getContent().innerText\n    global_data.last_object_clicked_popup = popup_text\n  } else if (e.target._popup && e.target._popup._content) {\n    let popup_text = e.target.getPopup().getContent()(e.sourceTarget).innerText\n    global_data.last_object_clicked_popup = popup_text\n  }\n\n  let details: Array<any> = []\n  if (e.layer && e.layer.toGeoJSON) {\n    global_data.last_active_drawing = e.layer.toGeoJSON()\n  }\n  if (window.drawnItems.toGeoJSON) {\n    details = window.drawnItems.toGeoJSON().features\n  }\n  global_data.all_drawings = details\n  debouncedUpdateComponentValue(window.map)\n}\n\nwindow.initComponent = (map: any, return_on_hover: boolean) => {\n  map.on(\"click\", onMapClick)\n  map.on(\"moveend\", onMapMove)\n  for (let key in map._layers) {\n    let layer = map._layers[key]\n    layer.on(\"click\", onLayerClick)\n    if (return_on_hover) {\n      layer.on(\"mouseover\", onLayerClick)\n    }\n  }\n  map.on(\"draw:created\", onDraw)\n  map.on(\"draw:edited\", onDraw)\n  map.on(\"draw:deleted\", onDraw)\n\n  Streamlit.setFrameHeight()\n  updateComponentValue(map)\n}\n\n/**\n * The component's render function. This will be called immediately after\n * the component is initially loaded, and then again every time the\n * component gets new data from Python.\n */\nfunction onRender(event: Event): void {\n  // Get the RenderData from the event\n  const data = (event as CustomEvent<RenderData>).detail\n\n  const script: string = data.args[\"script\"]\n  const height: number = data.args[\"height\"]\n  const width: number = data.args[\"width\"]\n  const html: string = data.args[\"html\"]\n  const returned_objects: Array<string> = data.args[\"returned_objects\"]\n  const _default: any = data.args[\"default\"]\n  const zoom: any = data.args[\"zoom\"]\n  const center: any = data.args[\"center\"]\n  const feature_group: string = data.args[\"feature_group\"]\n  const return_on_hover: boolean = data.args[\"return_on_hover\"]\n\n  if (!window.map) {\n    // Only run this if the map hasn't already been created (and thus the global\n    //data hasn't been initialized)\n    const parent_div = document.getElementById(\"parent\")\n    const div1 = document.getElementById(\"map_div\")\n    const div2 = document.getElementById(\"map_div2\")\n    if (div2) {\n      div2.style.height = `${height}px`\n      div2.style.width = `${width}px`\n    }\n    if (div1) {\n      div1.style.height = `${height}px`\n      div1.style.width = `${width}px`\n\n      if (script.indexOf(\"document.getElementById('export')\") !== -1) {\n        let a = document.createElement(\"a\")\n        a.href = \"#\"\n        a.id = \"export\"\n        a.innerHTML = \"Export\"\n        document.body.appendChild(a)\n      }\n\n      const render_script = document.createElement(\"script\")\n      // HACK -- update the folium-generated JS to add, most importantly,\n      // the map to this global variable so that it can be used elsewhere\n      // in the script.\n\n      window.__GLOBAL_DATA__ = {\n        lat_lng_clicked: null,\n        last_object_clicked: null,\n        last_object_clicked_tooltip: null,\n        last_object_clicked_popup: null,\n        all_drawings: null,\n        last_active_drawing: null,\n        zoom: null,\n        last_circle_radius: null,\n        last_circle_polygon: null,\n        returned_objects: returned_objects,\n        previous_data: _default,\n        last_zoom: null,\n        last_center: null,\n        last_feature_group: null,\n      }\n      if (script.indexOf(\"map_div2\") !== -1) {\n        parent_div?.classList.remove(\"single\")\n        parent_div?.classList.add(\"double\")\n      }\n\n      // The folium-generated script creates a variable called \"map_div\", which\n      // is the actual Leaflet map.\n      render_script.innerHTML =\n        script +\n        `window.map = map_div; window.initComponent(map_div, ${return_on_hover});`\n      document.body.appendChild(render_script)\n      const html_div = document.createElement(\"div\")\n      html_div.innerHTML = html\n      document.body.appendChild(html_div)\n    }\n  }\n\n  if (\n    feature_group &&\n    feature_group !== window.__GLOBAL_DATA__.last_feature_group\n  ) {\n    if (window.feature_group) {\n      window.map.removeLayer(window.feature_group)\n    }\n    // Though using `eval` is generally a bad idea, we're using it here\n    // because we're evaluating code that we've generated ourselves on the\n    // Python side. This is safe because we're not evaluating user input, so this\n    // couldn't be used to execute arbitrary code.\n\n    // eslint-disable-next-line\n    eval(feature_group)\n    window.__GLOBAL_DATA__.last_feature_group = feature_group\n    for (let key in window.map._layers) {\n      let layer = window.map._layers[key]\n      layer.off(\"click\", onLayerClick)\n      layer.on(\"click\", onLayerClick)\n      if (return_on_hover) {\n        layer.off(\"mouseover\", onLayerClick)\n        layer.on(\"mouseover\", onLayerClick)\n      }\n    }\n  }\n\n  if (zoom && zoom !== window.__GLOBAL_DATA__.last_zoom) {\n    window.map.setZoom(zoom)\n    window.__GLOBAL_DATA__.last_zoom = zoom\n  }\n  if (\n    center &&\n    JSON.stringify(center) !==\n      JSON.stringify(window.__GLOBAL_DATA__.last_center)\n  ) {\n    window.map.panTo(center)\n    window.__GLOBAL_DATA__.last_center = center\n  }\n}\n\n// Attach our `onRender` handler to Streamlit's render event.\nStreamlit.events.addEventListener(Streamlit.RENDER_EVENT, onRender)\n\n// Tell Streamlit we're ready to start receiving data. We won't get our\n// first RENDER_EVENT until we call this function.\nStreamlit.setComponentReady()\n\n// Finally, tell Streamlit to update our initial height. We omit the\n// `height` parameter here to have it default to our scrollHeight.\nStreamlit.setFrameHeight()\n"],"sourceRoot":""}